(self.webpackChunk_react_sigma_website=self.webpackChunk_react_sigma_website||[]).push([[9266],{8640:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>g,frontMatter:()=>c,metadata:()=>r,toc:()=>m});const r=JSON.parse('{"id":"example/controls","title":"Controls","description":"The library comes with a system of controls, that helps you to control / interact with the graph, out of the box.","source":"@site/docs/example/05_controls.mdx","sourceDirName":"example","slug":"/example/controls","permalink":"/react-sigma/docs/example/controls","draft":false,"unlisted":false,"editUrl":"https://github.com/sim51/react-sigma/tree/main/packages/website/docs/example/05_controls.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{},"sidebar":"docs","previous":{"title":"Layouts","permalink":"/react-sigma/docs/example/layouts"},"next":{"title":"External State","permalink":"/react-sigma/docs/example/external_state"}}');var o=n(1085),s=n(1184);const a="import { ControlsContainer, FullScreenControl, SigmaContainer, ZoomControl } from '@react-sigma/core';\nimport '@react-sigma/core/lib/style.css';\nimport { GraphSearch, GraphSearchOption } from '@react-sigma/graph-search';\nimport '@react-sigma/graph-search/lib/style.css';\nimport { MiniMap } from '@react-sigma/minimap';\nimport { CSSProperties, FC, useCallback, useState } from 'react';\n\nimport { FocusOnNode } from './common/FocusOnNode';\nimport { LayoutsControl } from './common/LayoutsControl';\nimport { SampleGraph } from './common/SampleGraph';\n\nexport const Complete: FC<{ style?: CSSProperties }> = ({ style }) => {\n  const [selectedNode, setSelectedNode] = useState<string | null>(null);\n  const [focusNode, setFocusNode] = useState<string | null>(null);\n\n  const onFocus = useCallback((value: GraphSearchOption | null) => {\n    if (value === null) setFocusNode(null);\n    else if (value.type === 'nodes') setFocusNode(value.id);\n  }, []);\n  const onChange = useCallback((value: GraphSearchOption | null) => {\n    if (value === null) setSelectedNode(null);\n    else if (value.type === 'nodes') setSelectedNode(value.id);\n  }, []);\n  const postSearchResult = useCallback((options: GraphSearchOption[]): GraphSearchOption[] => {\n    return options.length <= 10\n      ? options\n      : [\n          ...options.slice(0, 10),\n          {\n            type: 'message',\n            message: <span className=\"text-center text-muted\">And {options.length - 10} others</span>,\n          },\n        ];\n  }, []);\n\n  return (\n    <SigmaContainer settings={{ allowInvalidContainer: true }} style={style}>\n      <SampleGraph />\n      <FocusOnNode node={focusNode ?? selectedNode} />\n      <ControlsContainer position={'bottom-right'}>\n        <ZoomControl />\n        <FullScreenControl />\n        <LayoutsControl />\n      </ControlsContainer>\n      <ControlsContainer position={'top-right'}>\n        <GraphSearch\n          type=\"nodes\"\n          value={selectedNode ? { type: 'nodes', id: selectedNode } : null}\n          onFocus={onFocus}\n          onChange={onChange}\n          postSearchResult={postSearchResult}\n        />\n      </ControlsContainer>\n\n      <ControlsContainer position={'bottom-left'}>\n        <MiniMap width=\"100px\" height=\"100px\" />\n      </ControlsContainer>\n    </SigmaContainer>\n  );\n};\n",l="import { ControlsContainer, FullScreenControl, SigmaContainer, ZoomControl } from '@react-sigma/core';\nimport '@react-sigma/core/lib/style.css';\nimport { LayoutForceAtlas2Control } from '@react-sigma/layout-forceatlas2';\nimport { CSSProperties, FC, useEffect, useState } from 'react';\nimport {\n  AiFillPauseCircle,\n  AiFillPlayCircle,\n  AiOutlineFullscreen,\n  AiOutlineFullscreenExit,\n  AiOutlineZoomIn,\n  AiOutlineZoomOut,\n} from 'react-icons/ai';\nimport { MdFilterCenterFocus } from 'react-icons/md';\n\nimport { SampleGraph } from './common/SampleGraph';\n\nexport const CustomRender: FC<{ style?: CSSProperties }> = ({ style }) => {\n  const [faTime, setFaTime] = useState<number>(2000);\n\n  useEffect(() => {\n    // Globally seed the Math.random\n    const params = new URLSearchParams(window.location.search);\n    const time = params.get('faTime');\n    setFaTime(Number.parseInt(time ?? '2000') || 2000);\n  }, []);\n\n  return (\n    <SigmaContainer style={style} settings={{ allowInvalidContainer: true }}>\n      <SampleGraph />\n      <ControlsContainer position={'bottom-right'}>\n        <ZoomControl labels={{ zoomIn: 'PLUS', zoomOut: 'MINUS', reset: 'RESET' }}>\n          <AiOutlineZoomIn />\n          <AiOutlineZoomOut />\n          <MdFilterCenterFocus />\n        </ZoomControl>\n        <FullScreenControl labels={{ enter: 'ENTER', exit: 'EXIT' }}>\n          <AiOutlineFullscreen />\n          <AiOutlineFullscreenExit />\n        </FullScreenControl>\n        <LayoutForceAtlas2Control labels={{ stop: 'STOP', start: 'START' }} autoRunFor={faTime}>\n          <AiFillPlayCircle />\n          <AiFillPauseCircle />\n        </LayoutForceAtlas2Control>\n      </ControlsContainer>\n    </SigmaContainer>\n  );\n};\n";var i=n(9893);const c={},d="Controls",u={},m=[{value:"List of controls",id:"list-of-controls",level:2},{value:"ControlContainer",id:"controlcontainer",level:2},{value:"Custom render for controls",id:"custom-render-for-controls",level:2},{value:"Custom labels for I18N",id:"custom-labels-for-i18n",level:2}];function h(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"controls",children:"Controls"})}),"\n",(0,o.jsx)(t.p,{children:"The library comes with a system of controls, that helps you to control / interact with the graph, out of the box."}),"\n",(0,o.jsx)(t.h2,{id:"list-of-controls",children:"List of controls"}),"\n",(0,o.jsx)(t.p,{children:"This is the list of available controls :"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Fullscreen button (on which you can defined the html container)"}),"\n",(0,o.jsx)(t.li,{children:"Search control"}),"\n",(0,o.jsx)(t.li,{children:"Zoom control (in, out & reset)"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"controlcontainer",children:"ControlContainer"}),"\n",(0,o.jsxs)(t.p,{children:["A ",(0,o.jsx)(t.em,{children:"control"})," component must be include into a ",(0,o.jsx)(t.a,{href:"/docs/api/core/functions/ControlsContainer",children:"ControlContainer"})," component.\nThis component takes a property called ",(0,o.jsx)(t.code,{children:"position"})," which determinate where the controls will be displayed. Values are :\n",(0,o.jsx)(t.code,{children:"top-right"}),", ",(0,o.jsx)(t.code,{children:"top-left"}),", ",(0,o.jsx)(t.code,{children:"bottom-right"}),", ",(0,o.jsx)(t.code,{children:"bottom-left"})," ;"]}),"\n",(0,o.jsx)(i.O,{code:a,title:"Control container example",component:()=>{const{Complete:e}=n(2240);return(0,o.jsx)(e,{style:{height:"400px"}})}}),"\n",(0,o.jsx)(t.h2,{id:"custom-render-for-controls",children:"Custom render for controls"}),"\n",(0,o.jsx)(t.p,{children:"Controls have pre-defined style and icon, but you can define your own one, by specifying children component."}),"\n",(0,o.jsxs)(t.p,{children:["On the ",(0,o.jsx)(t.a,{href:"/docs/api/core/functions/FullScreenControl",children:"FullScreenControl"}),' you must defined two children, the first one will\nbe the JSX element for the "enter fullscreen" and the second for the "exit fullscreen".']}),"\n",(0,o.jsxs)(t.p,{children:["On the ",(0,o.jsx)(t.code,{children:"ZoomControl"})," you must defined three children :"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"zoom in"}),"\n",(0,o.jsx)(t.li,{children:"zoom out"}),"\n",(0,o.jsx)(t.li,{children:"zoom reset"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"On the Worker layout you must defined two children :"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"stop"}),"\n",(0,o.jsx)(t.li,{children:"start"}),"\n"]}),"\n",(0,o.jsx)(i.O,{code:l,title:"Custom render for control",component:()=>{const{CustomRender:e}=n(9746);return(0,o.jsx)(e,{style:{height:"400px"}})}}),"\n",(0,o.jsx)(t.h2,{id:"custom-labels-for-i18n",children:"Custom labels for I18N"}),"\n",(0,o.jsxs)(t.p,{children:["Every component that display a label in a way accepts a property called ",(0,o.jsx)(t.code,{children:"labels"}),", which is a map of key/value."]}),"\n",(0,o.jsx)(t.p,{children:"For example, you can change the labels of the zoom control like that :"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'<ZoomControl labels={{ zoomIn: "PLUS", zoomOut: "MINUS", reset: "RESET" }} />\n'})})]})}function g(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},2240:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Complete:()=>E});var r=n(3553),o=n(953),s=n(7373),a=n(4041),l=n(6722),i=n(5961),c=n(9194);var d=n(1385),u=n(5105),m=n(3195);function h(e){return void 0===e&&(e={}),(0,i.Io)(m,e)}var g=n(7401),p=n(307),f=n(6145);function b(e){return void 0===e&&(e={}),(0,i.Io)(f,e)}var v=n(8248);var x=n(6750),y=n(5662),C=n(1085);const j=()=>{const e=(0,r.Bx)(),[t,n]=(0,a.useState)("circular"),[o,s]=(0,a.useState)(!1),l=(0,d.J)(),m=function(e){return void 0===e&&(e={}),(0,i.Cm)(c,e)}(),f=function(e){return void 0===e&&(e={}),(0,i.Cm)(v,e)}(),j=(void 0===w&&(w={}),(0,i.Cm)(p,w));var w;const E=function(e){return void 0===e&&(e={maxIterations:100}),(0,i.Cm)(u,e)}({maxIterations:100}),O=(0,g.ix)({iterations:100}),S=b(),N=h(),k=(0,g.Ur)(),_=(0,a.useMemo)((()=>({circular:{layout:l},circlepack:{layout:m},random:{layout:f},noverlaps:{layout:j,worker:S},forceDirected:{layout:E,worker:N},forceAtlas:{layout:O,worker:k}})),[m,l,E,O,j,f,N,S,k]);return(0,a.useEffect)((()=>{const{positions:n}=_[t].layout;(0,y.fB)(e.getGraph(),n(),{duration:1e3})}),[t,_,e]),(0,a.useEffect)((()=>{const e=()=>{s(!1)};return!0===o&&setTimeout((()=>document.addEventListener("click",e)),0),()=>document.removeEventListener("click",e)}),[o]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{children:_[t]&&"worker"in _[t]&&(0,C.jsx)(i.Cb,{layout:_[t].worker})}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"react-sigma-control",children:[(0,C.jsx)("button",{onClick:()=>s((e=>!e)),children:(0,C.jsx)(x.yd7,{})}),!0===o&&(0,C.jsx)("ul",{style:{position:"absolute",bottom:0,right:"35px",backgroundColor:"#e7e9ed",margin:0,padding:0,listStyle:"none"},children:Object.keys(_).map((e=>(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"btn btn-link",style:{fontWeight:t===e?"bold":"normal",width:"100%"},onClick:()=>{n(e)},children:e})},e)))})]})})]})};var w=n(3591);const E=e=>{let{style:t}=e;const[n,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),u=(0,a.useCallback)((e=>{null===e?d(null):"nodes"===e.type&&d(e.id)}),[]),m=(0,a.useCallback)((e=>{null===e?i(null):"nodes"===e.type&&i(e.id)}),[]),h=(0,a.useCallback)((e=>e.length<=10?e:[...e.slice(0,10),{type:"message",message:(0,C.jsxs)("span",{className:"text-center text-muted",children:["And ",e.length-10," others"]})}]),[]);return(0,C.jsxs)(r.hF,{settings:{allowInvalidContainer:!0},style:t,children:[(0,C.jsx)(w.n,{}),(0,C.jsx)(l.y,{node:c??n}),(0,C.jsxs)(r._d,{position:"bottom-right",children:[(0,C.jsx)(r.pj,{}),(0,C.jsx)(r.t_,{}),(0,C.jsx)(j,{})]}),(0,C.jsx)(r._d,{position:"top-right",children:(0,C.jsx)(o.z6,{type:"nodes",value:n?{type:"nodes",id:n}:null,onFocus:u,onChange:m,postSearchResult:h})}),(0,C.jsx)(r._d,{position:"bottom-left",children:(0,C.jsx)(s.o,{width:"100px",height:"100px"})})]})}},9746:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CustomRender:()=>d});var r=n(3553),o=n(7401),s=n(4041),a=n(3315),l=n(5314),i=n(3591),c=n(1085);const d=e=>{let{style:t}=e;const[n,d]=(0,s.useState)(2e3);return(0,s.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("faTime");d(Number.parseInt(e??"2000")||2e3)}),[]),(0,c.jsxs)(r.hF,{style:t,settings:{allowInvalidContainer:!0},children:[(0,c.jsx)(i.n,{}),(0,c.jsxs)(r._d,{position:"bottom-right",children:[(0,c.jsxs)(r.pj,{labels:{zoomIn:"PLUS",zoomOut:"MINUS",reset:"RESET"},children:[(0,c.jsx)(a.Bj1,{}),(0,c.jsx)(a.kLl,{}),(0,c.jsx)(l.vZw,{})]}),(0,c.jsxs)(r.t_,{labels:{enter:"ENTER",exit:"EXIT"},children:[(0,c.jsx)(a.ssW,{}),(0,c.jsx)(a.IgM,{})]}),(0,c.jsxs)(o.sE,{labels:{stop:"STOP",start:"START"},autoRunFor:n,children:[(0,c.jsx)(a.G2B,{}),(0,c.jsx)(a.cp6,{})]})]})]})}},6722:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(3553),o=n(4041);const s=e=>{let{node:t,move:n}=e;const s=(0,r.Bx)(),{gotoNode:a}=(0,r.VF)();return(0,o.useEffect)((()=>{if(t)return s.getGraph().setNodeAttribute(t,"highlighted",!0),n&&a(t),()=>{s.getGraph().setNodeAttribute(t,"highlighted",!1)}}),[t,n,s,a]),null}},3591:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(3553),o=n(1385),s=n(4041),a=n(1505);const l=e=>{let{disableHoverEffect:t}=e;const{randomGraph:n}=(0,a.l)(),l=(0,r.Bx)(),i=(0,r.Qp)(),c=(0,r.dW)(),d=(0,r.Su)(),{assign:u}=(0,o.J)(),[m,h]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=n();d(e),u(),i({enterNode:e=>h(e.node),leaveNode:()=>h(null)})}),[u,d,i,n]),(0,s.useEffect)((()=>{c({nodeReducer:(e,n)=>{const r=l.getGraph(),o={...n,highlighted:n.highlighted||!1};return!t&&m&&(e===m||r.neighbors(m).includes(e)?o.highlighted=!0:(o.color="#E2E2E2",o.highlighted=!1)),o},edgeReducer:(e,n)=>{const r=l.getGraph(),o={...n,hidden:!1};return t||!m||r.extremities(e).includes(m)||(o.hidden=!0),o}})}),[m,c,l,t]),null}},1505:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var r=n(9999),o=n(1504),s=n(4096),a=n(2437),l=n(273),i=n.n(l),c=n(4041),d=n(2464),u=n.n(d);const m=()=>{const[e,t]=(0,c.useState)(r.a);(0,c.useEffect)((()=>{const e=new URLSearchParams(document.location.search).get("seed");if(e){u()(e,{global:!0});const n=new o.n({locale:s.a});n.seed(Math.random()),t(n)}}),[]);const n=(0,c.useCallback)((()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return e}),[]),l=(0,c.useCallback)((()=>{const t=i()(a.UndirectedGraph,{order:100,probability:.1});return t.nodes().forEach((r=>{t.mergeNodeAttributes(r,{label:e.person.fullName(),size:e.number.int({min:4,max:20}),color:n(),x:Math.random(),y:Math.random(),borderColor:n(),borderSize:e.number.float({min:0,max:1,multipleOf:.1}),pictoColor:n(),image:e.image.urlLoremFlickr()})})),t}),[e,n]);return{faker:e,randomColor:n,randomGraph:l}}},9893:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,O:()=>l});var r=n(7565),o=n(8927),s=n(4041),a=n(1085);const l=e=>{let{code:t,title:n,component:l,mode:i="code"}=e;const[c,d]=(0,s.useState)(i);return(0,a.jsx)(r.A,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:()=>(0,a.jsxs)("div",{className:"code-preview",children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)("div",{children:n&&(0,a.jsx)("h5",{children:n})}),(0,a.jsxs)("div",{className:"switch",children:[(0,a.jsx)("button",{className:"button",onClick:()=>d("code"),disabled:"code"===c,children:"Code"}),(0,a.jsx)("button",{className:"button",onClick:()=>d("preview"),disabled:"preview"===c,children:"Preview"})]})]}),(0,a.jsxs)("div",{className:"content",children:["preview"===c&&l(),"code"===c&&(0,a.jsx)(o.A,{language:"jsx",children:t})]})]})})},i=l},7713:()=>{},3553:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>c,Qp:()=>f,Su:()=>b,VF:()=>y,_d:()=>j,dW:()=>d,hF:()=>C,n4:()=>v,pj:()=>A,sg:()=>x,t_:()=>L});var r=n(4041),o=n(2437),s=n(60);const a=(0,r.createContext)(null),l=a.Provider;function i(){const e=(0,r.useContext)(a);if(null==e)throw new Error("No context provided: useSigmaContext() can only be used in a descendant of <SigmaContainer>");return e}function c(){return i().sigma}function d(){const{sigma:e}=i();return(0,r.useCallback)((t=>{e&&Object.keys(t).forEach((n=>{e.setSetting(n,t[n])}))}),[e])}function u(e){return new Set(Object.keys(e))}const m=u({clickNode:!0,rightClickNode:!0,downNode:!0,enterNode:!0,leaveNode:!0,doubleClickNode:!0,wheelNode:!0,clickEdge:!0,rightClickEdge:!0,downEdge:!0,enterEdge:!0,leaveEdge:!0,doubleClickEdge:!0,wheelEdge:!0,clickStage:!0,rightClickStage:!0,downStage:!0,doubleClickStage:!0,wheelStage:!0,beforeRender:!0,afterRender:!0,kill:!0,upStage:!0,upEdge:!0,upNode:!0,enterStage:!0,leaveStage:!0,resize:!0,afterClear:!0,afterProcess:!0,beforeClear:!0,beforeProcess:!0,moveBody:!0}),h=u({click:!0,rightClick:!0,doubleClick:!0,mouseup:!0,mousedown:!0,mousemove:!0,mousemovebody:!0,mouseleave:!0,mouseenter:!0,wheel:!0}),g=u({touchup:!0,touchdown:!0,touchmove:!0,touchmovebody:!0,tap:!0,doubletap:!0}),p=u({updated:!0});function f(){const e=c(),t=d(),[n,o]=(0,r.useState)({});return(0,r.useEffect)((()=>{if(!e||!n)return;const t=n,r=Object.keys(t);return r.forEach((n=>{const r=t[n];m.has(n)&&e.on(n,r),h.has(n)&&e.getMouseCaptor().on(n,r),g.has(n)&&e.getTouchCaptor().on(n,r),p.has(n)&&e.getCamera().on(n,r)})),()=>{e&&r.forEach((n=>{const r=t[n];m.has(n)&&e.off(n,r),h.has(n)&&e.getMouseCaptor().off(n,r),g.has(n)&&e.getTouchCaptor().off(n,r),p.has(n)&&e.getCamera().off(n,r)}))}}),[e,n,t]),o}function b(){const e=c();return(0,r.useCallback)((function(t,n){void 0===n&&(n=!0),e&&t&&(n&&e.getGraph().order>0&&e.getGraph().clear(),e.getGraph().import(t),e.refresh())}),[e])}function v(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!=Object.keys(t).length)return!1;for(const n in e){if(!Object.hasOwn(t,n))return!1;if(!v(e[n],t[n]))return!1}return!0}return!1}function x(e,t){let n;return r=>new Promise((o=>{n&&clearTimeout(n),n=setTimeout((()=>{o(e(r))}),t)}))}function y(e){const t=c(),[n,o]=(0,r.useState)(e||{});(0,r.useEffect)((()=>{o((t=>v(t,e||{})?t:e||{}))}),[e]);const s=(0,r.useCallback)((e=>{t.getCamera().animatedZoom(Object.assign(Object.assign({},n),e))}),[t,n]),a=(0,r.useCallback)((e=>{t.getCamera().animatedUnzoom(Object.assign(Object.assign({},n),e))}),[t,n]),l=(0,r.useCallback)((e=>{t.getCamera().animatedReset(Object.assign(Object.assign({},n),e))}),[t,n]),i=(0,r.useCallback)(((e,r)=>{t.getCamera().animate(e,Object.assign(Object.assign({},n),r))}),[t,n]),d=(0,r.useCallback)(((e,r)=>{const o=t.getNodeDisplayData(e);o?t.getCamera().animate(o,Object.assign(Object.assign({},n),r)):console.log(`Node ${e} not found`)}),[t,n]);return{zoomIn:s,zoomOut:a,reset:l,goto:i,gotoNode:d}}const C=(0,r.forwardRef)(((e,t)=>{let{graph:n,id:a,className:i,style:c,settings:d={},children:u}=e;const m=(0,r.useRef)(null),h=(0,r.useRef)(null),g={className:`react-sigma ${i||""}`,id:a,style:c},[p,f]=(0,r.useState)(null),[b,x]=(0,r.useState)(d);(0,r.useEffect)((()=>{x((e=>v(e,d)?e:d))}),[d]),(0,r.useEffect)((()=>{f((e=>{let t=null;if(null!==h.current){let r=new o;n&&(r="function"==typeof n?new n:n),console.log("new sigma instance",b);let a=null;e&&(a=e.getCamera().getState(),e.kill()),t=new s.UT(r,h.current,b),a&&t.getCamera().setState(a)}return t}))}),[h,n,b]),(0,r.useImperativeHandle)(t,(()=>p),[p]);const y=(0,r.useMemo)((()=>p&&m.current?{sigma:p,container:m.current}:null),[p,m]),C=null!==y?r.createElement(l,{value:y},u):null;return r.createElement("div",Object.assign({},g,{ref:m}),r.createElement("div",{className:"sigma-container",ref:h}),C)})),j=e=>{let{id:t,className:n,style:o,children:s,position:a="bottom-left"}=e;const l={className:`react-sigma-controls ${n||""} ${a}`,id:t,style:o};return r.createElement("div",Object.assign({},l),s)};var w;function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(null,arguments)}var O,S=function(e){return r.createElement("svg",E({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"dot-circle-regular_svg__svg-inline--fa dot-circle-regular_svg__fa-dot-circle dot-circle-regular_svg__fa-w-16","data-icon":"dot-circle","data-prefix":"far",viewBox:"0 0 512 512",width:"1em",height:"1em"},e),w||(w=r.createElement("path",{fill:"currentColor",d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8m0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80"})))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(null,arguments)}var k,_=function(e){return r.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"minus-solid_svg__svg-inline--fa minus-solid_svg__fa-minus minus-solid_svg__fa-w-14","data-icon":"minus","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),O||(O=r.createElement("path",{fill:"currentColor",d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32"})))};function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(null,arguments)}var R=function(e){return r.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"plus-solid_svg__svg-inline--fa plus-solid_svg__fa-plus plus-solid_svg__fa-w-14","data-icon":"plus","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),k||(k=r.createElement("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32"})))};const A=e=>{let{className:t,style:n,animationDuration:o=200,children:s,labels:a={}}=e;const{zoomIn:l,zoomOut:i,reset:c}=y({duration:o,factor:1.5}),d={style:n,className:`react-sigma-control ${t||""}`};return r.createElement(r.Fragment,null,r.createElement("div",Object.assign({},d),r.createElement("button",{onClick:()=>l(),title:a.zoomIn||"Zoom In"},s?s[0]:r.createElement(R,{style:{width:"1em"}}))),r.createElement("div",Object.assign({},d),r.createElement("button",{onClick:()=>i(),title:a.zoomOut||"Zoom Out"},s?s[1]:r.createElement(_,{style:{width:"1em"}}))),r.createElement("div",Object.assign({},d),r.createElement("button",{onClick:()=>c(),title:a.reset||"See whole graph"},s?s[2]:r.createElement(S,{style:{width:"1em"}}))))};var G;function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M.apply(null,arguments)}var P,T=function(e){return r.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"compress-solid_svg__svg-inline--fa compress-solid_svg__fa-compress compress-solid_svg__fa-w-14","data-icon":"compress","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),G||(G=r.createElement("path",{fill:"currentColor",d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12m-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24m0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12m192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12"})))};function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(null,arguments)}var z=function(e){return r.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"expand-solid_svg__svg-inline--fa expand-solid_svg__fa-expand expand-solid_svg__fa-w-14","data-icon":"expand","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),P||(P=r.createElement("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12M288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12m148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12M160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12"})))};const L=e=>{let{id:t,className:n,style:o,container:s,children:a,labels:l={}}=e;const{isFullScreen:c,toggle:d}=function(e){const t=i(),[n,o]=(0,r.useState)(!1),[s,a]=(0,r.useState)(e||t.container),l=(0,r.useCallback)((()=>o((e=>!e))),[]);return(0,r.useEffect)((()=>(document.addEventListener("fullscreenchange",l),()=>document.removeEventListener("fullscreenchange",l))),[l]),(0,r.useEffect)((()=>{a(e||t.container)}),[e,t.container]),{toggle:(0,r.useCallback)((()=>{var e;e=s,document.fullscreenElement!==e?e.requestFullscreen():document.exitFullscreen&&document.exitFullscreen()}),[s]),isFullScreen:n}}(null==s?void 0:s.current),u={className:`react-sigma-control ${n||""}`,id:t,style:o};return document.fullscreenEnabled?r.createElement("div",Object.assign({},u),r.createElement("button",{onClick:d,title:c?l.exit||"Exit fullscreen":l.enter||"Enter fullscreen"},a&&!c&&a[0],a&&c&&a[1],!a&&!c&&r.createElement(z,{style:{width:"1em"}}),!a&&c&&r.createElement(T,{style:{width:"1em"}}))):null}},953:(e,t,n)=>{"use strict";n.d(t,{z6:()=>j});var r=n(3553),o=n(914),s=n(4041),a=n(9799);function l(e,t){var n;const r=e.getGraph().getNodeAttributes(t),o=null===(n=e.getNodeDisplayData(t))||void 0===n?void 0:n.label;return Object.assign({type:"nodes",itemId:`nodes-${t}`,id:t,label:o},Object.keys(r).reduce(((e,t)=>Object.assign(Object.assign({},e),{[`prop_${t}`]:r[t]})),{}))}function i(e,t){var n;const r=e.getGraph().getEdgeAttributes(t),o=null===(n=e.getEdgeDisplayData(t))||void 0===n?void 0:n.label;return Object.assign({type:"edges",itemId:`edges-${t}`,id:t,label:o},Object.keys(r).reduce(((e,t)=>Object.assign(Object.assign({},e),{[`prop_${t}`]:r[t]})),{}))}const c={index:new o.A({fields:[]})},d=(0,s.createContext)(c),u=e=>{let{children:t,minisearchOptions:n}=e;const[a,u]=(0,s.useState)(c),m=(0,r.Bx)();return(0,s.useEffect)((()=>{const e=new o.A(Object.assign(Object.assign({},n),{idField:"itemId",fields:(null==n?void 0:n.fields)?["label",...n.fields.filter((e=>"label"!==e))]:["label"],storeFields:(null==n?void 0:n.storeFields)?["itemId","id","type",...n.storeFields.filter((e=>!["itemId","id","type"].includes(e)))]:["itemId","id","type"],processTerm:(null==n?void 0:n.processTerm)?null==n?void 0:n.processTerm:(e,t)=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()})),t=m.getGraph();function r(t){e.has(`nodes-${t.key}`)?e.replace(l(m,t.key)):e.add(l(m,t.key))}function s(t){e.has(`nodes-${t.key}`)&&e.discard(`nodes-${t.key}`)}function a(t){e.has(`edges-${t.key}`)?e.replace(i(m,t.key)):e.add(i(m,t.key))}function c(t){e.has(`edges-${t.key}`)&&e.discard(`edges-${t.key}`)}return e.addAll(t.nodes().map((e=>l(m,e)))),e.addAll(t.edges().map((e=>i(m,e)))),t.on("nodeAdded",r),t.on("nodeAttributesUpdated",r),t.on("nodeDropped",s),t.on("edgeAdded",a),t.on("edgeAttributesUpdated",a),t.on("edgeDropped",c),u({index:e}),()=>{t.off("nodeAdded",r),t.off("nodeAttributesUpdated",r),t.off("nodeDropped",s),t.off("edgeAdded",a),t.off("edgeAttributesUpdated",a),t.off("edgeDropped",c)}}),[m,n]),s.createElement(d.Provider,{value:a},t)};function m(e,t,n,r){return new(n||(n=Promise))((function(o,s){function a(e){try{i(r.next(e))}catch(e){s(e)}}function l(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}i((r=r.apply(e,t||[])).next())}))}function h(e){const{index:t}=(0,s.useContext)(d);return{search:(0,s.useCallback)(((n,r)=>m(this,void 0,void 0,(function*(){return t.search(n,Object.assign(Object.assign({prefix:!0,fuzzy:.2,boost:{label:2}},e||{}),{filter:r?e=>e.type===r:void 0})).map((e=>({id:e.id,type:e.type})))}))),[t,e])}}"function"==typeof SuppressedError&&SuppressedError;const g=e=>{let{label:t,color:n,hidden:r,labels:o={}}=e;return s.createElement("div",{className:"node"},s.createElement("span",{className:"render "+(r?"circle":"disc"),style:{backgroundColor:n||"#000"}}),s.createElement("span",{className:`label ${r?"text-muted":""} ${t?"":"text-italic"}`},t||o.no_label||"No label"))},p=e=>{let{id:t,labels:n}=e;const o=(0,r.Bx)(),a=(0,s.useMemo)((()=>{const e=o.getGraph().getNodeAttributes(t),n=o.getSetting("nodeReducer");return Object.assign(Object.assign({color:o.getSetting("defaultNodeColor")},e),n?n(t,e):{})}),[o,t]);return s.createElement(g,Object.assign({},a,{labels:n}))},f=e=>{let{label:t,color:n,source:r,target:o,hidden:a,directed:l,labels:i={}}=e;return s.createElement("div",{className:"edge"},s.createElement(g,Object.assign({},r,{labels:i})),s.createElement("div",{className:"body"},s.createElement("div",{className:"render"},s.createElement("span",{className:a?"dotted":"dash",style:{borderColor:n||"#000"}})," ",l&&s.createElement("span",{className:"arrow",style:{borderTopColor:n||"#000"}})),s.createElement("span",{className:`label ${a?"text-muted":""} ${t?"":"fst-italic"}`},t||i.no_label||"No label")),s.createElement(g,Object.assign({},o,{labels:i})))},b=e=>{let{id:t,labels:n}=e;const o=(0,r.Bx)(),a=(0,s.useMemo)((()=>{const e=o.getGraph().getEdgeAttributes(t),n=o.getSetting("nodeReducer"),r=o.getSetting("edgeReducer"),s=o.getGraph().getNodeAttributes(o.getGraph().source(t)),a=o.getGraph().getNodeAttributes(o.getGraph().target(t));return Object.assign(Object.assign(Object.assign({color:o.getSetting("defaultEdgeColor"),directed:o.getGraph().isDirected(t)},e),r?r(t,e):{}),{source:Object.assign(Object.assign({color:o.getSetting("defaultNodeColor")},s),n?n(t,s):{}),target:Object.assign(Object.assign({color:o.getSetting("defaultNodeColor")},a),n?n(t,a):{})})}),[o,t]);return s.createElement(f,Object.assign({},a,{labels:n}))};var v;function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(null,arguments)}var y=function(e){return s.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"magnifying-glass_svg__svg-inline--fa magnifying-glass_svg__fa-magnifying-glass magnifying-glass_svg__fa-w-14","data-icon":"compress","data-prefix":"fas",viewBox:"0 0 512 512",width:"1em",height:"1em"},e),v||(v=s.createElement("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7l126.6 126.7c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208M208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288"})))};const C=e=>{let{className:t,onChange:n,onFocus:o,postSearchResult:l,type:i,value:c,children:d,labels:u={}}=e;const{search:g}=h(),f=(0,s.useCallback)((e=>m(void 0,void 0,void 0,(function*(){o&&o(null);const t=yield g(e,i);return l?l(t):t}))),[i,l,g,o]),v=(0,s.useMemo)((()=>{return e=d?d[0]:s.createElement(y,null),function(){return s.createElement("div",{className:"dropdown-indicator"},e)};var e}),[d]),x=(0,s.useMemo)((()=>function(e){return function(t){const{data:n,innerProps:r,className:o,isFocused:a,innerRef:l,getStyles:i}=t;return(0,s.useEffect)((()=>{e&&a&&e(n)}),[a,n]),s.createElement("div",Object.assign({},r,{style:i("option",t),className:`${o||""} ${a?"selected":""} option hoverable text-ellipsis`,ref:l}),"nodes"===n.type&&s.createElement(p,{id:n.id}),"edges"===n.type&&s.createElement(b,{id:n.id}),"message"===n.type&&s.createElement("div",{className:"message"},n.message))}}(o)),[o]),C=(0,s.useMemo)((()=>function(e){return function(t){const{getStyles:n,innerProps:r}=t;return s.createElement("div",Object.assign({},r,{style:n("singleValue",t)}),"nodes"===t.data.type&&s.createElement(p,{id:t.data.id,labels:e}),"edges"===t.data.type&&s.createElement(b,{id:t.data.id,labels:e}))}}(u)),[u]),j=(0,s.useMemo)((()=>function(e){return void 0===e&&(e={}),function(t){return s.createElement("div",{className:"message text-center"},t.selectProps.inputValue.length>0?s.createElement("span",null,e.no_result_found||"No result found"):s.createElement("span",{className:"text-muted"},e.type_something_to_search||"Type something to search"))}}(u)),[u]);return s.createElement(a.A,{classNamePrefix:"react-select",className:`${t||""} graph-search`,isClearable:!0,placeholder:u.placeholder||"Search...",value:c||null,loadOptions:(0,r.sg)(f,150),onChange:n,onMenuClose:()=>o&&o(null),components:{SingleValue:C,Option:x,NoOptionsMessage:j,DropdownIndicator:v},styles:{menu:e=>Object.assign(Object.assign({},e),{borderRadius:0}),control:e=>Object.assign(Object.assign({},e),{borderRadius:0}),valueContainer:e=>Object.assign(Object.assign({},e),{flexWrap:"nowrap"})}})},j=e=>{var{minisearchOptions:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["minisearchOptions"]);return s.createElement(u,{minisearchOptions:t},s.createElement(C,Object.assign({},n)))}},1385:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(5961),o=n(9258);function s(e){return void 0===e&&(e={}),(0,r.Cm)(o,e)}},5961:(e,t,n)=>{"use strict";n.d(t,{Cb:()=>h,Cm:()=>a,Io:()=>l});var r,o=n(3553),s=n(4041);function a(e,t){const n=(0,o.Bx)(),r=(0,s.useRef)(t);return(0,o.n4)(r.current,t)||(r.current=t),{positions:(0,s.useCallback)((()=>r.current?e(n.getGraph(),r.current):{}),[n,r,e]),assign:(0,s.useCallback)((()=>{r.current&&e.assign(n.getGraph(),r.current)}),[n,r,e])}}function l(e,t){const n=(0,o.Bx)(),[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)(null),c=(0,s.useRef)(t);return(0,o.n4)(c.current,t)||(c.current=t),(0,s.useEffect)((()=>{a(!1);let t=null;return c.current&&(t=new e(n.getGraph(),c.current)),i(t),()=>{null!==t&&t.kill()}}),[n,c,i,a,e]),{stop:(0,s.useCallback)((()=>{l&&(l.stop(),a(!1))}),[l,a]),start:(0,s.useCallback)((()=>{l&&(l.start(),a(!0))}),[l,a]),kill:(0,s.useCallback)((()=>{l&&l.kill(),a(!1)}),[l,a]),isRunning:r}}function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(null,arguments)}var c,d=function(e){return s.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),r||(r=s.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(null,arguments)}var m=function(e){return s.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),c||(c=s.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};function h(e){let{id:t,className:n,style:r,layout:a,autoRunFor:l,children:i,labels:c={}}=e;const u=(0,o.Bx)(),{stop:h,start:g,isRunning:p}=a,f={className:`react-sigma-control ${n||""}`,id:t,style:r};return(0,s.useEffect)((()=>{if(!u)return;let e=null;return void 0!==l&&l>-1&&u.getGraph().order>0&&(g(),e=l>0?window.setTimeout((()=>{h()}),l):null),()=>{e&&clearTimeout(e)}}),[l,g,h,u]),s.createElement("div",Object.assign({},f),s.createElement("button",{onClick:()=>p?h():g(),title:p?c.stop||"Stop the layout animation":c.start||"Start the layout animation"},i&&!p&&i[0],i&&p&&i[1],!i&&!p&&s.createElement(d,{style:{width:"1em"}}),!i&&p&&s.createElement(m,{style:{width:"1em"}})))}},7401:(e,t,n)=>{"use strict";n.d(t,{Ur:()=>i,ix:()=>l,sE:()=>c});var r=n(5961),o=n(9122),s=n(2426),a=n(4041);function l(e){return void 0===e&&(e={iterations:100}),(0,r.Cm)(o,e)}function i(e){return void 0===e&&(e={}),(0,r.Io)(s,e)}const c=e=>{let{id:t,className:n,style:o,settings:s={},autoRunFor:l,children:c,labels:d}=e;const u={id:t,className:n,style:o,autoRunFor:l,labels:d,layout:i(s)};return a.createElement(r.Cb,Object.assign({},u),c)}},7373:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(3553),o=n(4041);const s=e=>{let{width:t,height:n,debounceTime:s}=e;const a=(0,r.Bx)(),[l,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(0),[u,m]=(0,o.useState)({top:0,left:0,width:0,height:0});(0,o.useEffect)((()=>{l&&(l.getCamera().disable(),d(l.getContainer().clientHeight/a.getContainer().clientHeight))}),[l,a]);const h=(0,o.useCallback)((e=>{const t=a.getNodeDisplayData(e);return Object.assign(Object.assign({},t),{type:"circle",size:t.size*c})}),[a,c]),g=(0,o.useCallback)((e=>({hidden:!0})),[]);return(0,o.useEffect)((()=>{function e(){if(null===l)return;const e=a.viewRectangle(),t=null==l?void 0:l.framedGraphToViewport({x:e.x1,y:e.y1}),n=null==l?void 0:l.framedGraphToViewport({x:e.x2,y:e.y2+e.height});m({left:t.x,top:t.y,height:t.y-n.y,width:n.x-t.x})}e();const t=(0,r.sg)(e,s||0);return a.getCamera().on("updated",t),()=>{a.getCamera().off("updated",e)}}),[a,l,m,s]),o.createElement(r.hF,{ref:i,settings:{renderLabels:!1,maxCameraRatio:1,minCameraRatio:1,stagePadding:2,nodeReducer:h,edgeReducer:g},style:{width:t,height:n},graph:a.getGraph()},o.createElement("div",{className:"overlay",style:{position:"absolute",inset:0,zIndex:1,overflow:"hidden"}},o.createElement("div",{style:Object.assign({border:"1px solid var(--sigma-controls-color)",backgroundColor:"var(--sigma-controls-color)",opacity:.5,position:"absolute"},u)})))}}}]);