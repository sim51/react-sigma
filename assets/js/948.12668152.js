/*! For license information please see 948.12668152.js.LICENSE.txt */
(self.webpackChunk_react_sigma_website=self.webpackChunk_react_sigma_website||[]).push([[948],{6704:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(4041);var r=n(213),i=n(1085);function o(e){let{children:t,fallback:n}=e;return(0,r.A)()?(0,i.jsx)(i.Fragment,{children:t?.()}):n??null}},46:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function s(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(u(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=s(e))>0&&a.length>i&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function l(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return s(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)r(s,this,t);else{var c=s.length,h=p(s,c);for(n=0;n<c;++n)r(h[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(u(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},181:e=>{e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},2437:function(e){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return o=i()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,n(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,e)},a(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function c(e,t,n,r){var i=e._nodes.get(t),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function h(t){return"object"===e(t)&&null!==t}function d(e){var t;for(t in e)return!1;return!0}function l(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function f(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function p(e){return!(!h(e)||e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(s=Object.assign);var g,v={exports:{}},y="object"==typeof Reflect?Reflect:null,m=y&&"function"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!=e};function _(){_.init.call(this)}v.exports=_,v.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}R(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&R(e,"error",t,n)}(e,i,{once:!0})}))},_.EventEmitter=_,_.prototype._events=void 0,_.prototype._eventsCount=0,_.prototype._maxListeners=void 0;var w=10;function E(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function x(e){return void 0===e._maxListeners?_.defaultMaxListeners:e._maxListeners}function k(e,t,n,r){var i,o,a,u;if(E(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,u=s,console&&console.warn&&console.warn(u)}return e}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function L(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=A.bind(r);return i.listener=n,r.wrapFn=i,i}function S(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):T(i,i.length)}function C(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function T(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function R(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function G(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}Object.defineProperty(_,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");w=e}}),_.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},_.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},_.prototype.getMaxListeners=function(){return x(this)},_.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)m(u,this,t);else{var s=u.length,c=T(u,s);for(n=0;n<s;++n)m(c[n],this,t)}return!0},_.prototype.addListener=function(e,t){return k(this,e,t,!1)},_.prototype.on=_.prototype.addListener,_.prototype.prependListener=function(e,t){return k(this,e,t,!0)},_.prototype.once=function(e,t){return E(t),this.on(e,L(this,e,t)),this},_.prototype.prependOnceListener=function(e,t){return E(t),this.prependListener(e,L(this,e,t)),this},_.prototype.removeListener=function(e,t){var n,r,i,o,a;if(E(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},_.prototype.off=_.prototype.removeListener,_.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},_.prototype.listeners=function(e){return S(this,e,!0)},_.prototype.rawListeners=function(e){return S(this,e,!1)},_.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):C.call(e,t)},_.prototype.listenerCount=C,_.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},"undefined"!=typeof Symbol&&(G.prototype[Symbol.iterator]=function(){return this}),G.of=function(){var e=arguments,t=e.length,n=0;return new G((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},G.empty=function(){return new G((function(){return{done:!0}}))},G.fromSequence=function(e){var t=0,n=e.length;return new G((function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}}))},G.is=function(e){return e instanceof G||"object"==typeof e&&null!==e&&"function"==typeof e.next};var D=G,N={};N.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,N.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var F=D,O=N,I=O.ARRAY_BUFFER_SUPPORT,z=O.SYMBOL_SUPPORT,U=function(e){var t=function(e){return"string"==typeof e||Array.isArray(e)||I&&ArrayBuffer.isView(e)?F.fromSequence(e):"object"!=typeof e||null===e?null:z&&"function"==typeof e[Symbol.iterator]?e[Symbol.iterator]():"function"==typeof e.next?e:null}(e);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},M=U,P=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],o=0,a=M(e);;){if(o===r)return i;if((n=a.next()).done)return o!==t&&(i.length=o),i;i[o++]=n.value}},B=function(e){function n(t){var n;return(n=e.call(this)||this).name="GraphError",n.message=t,n}return t(n,e),n}(a(Error)),j=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return t(n,e),n}(B),W=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return t(n,e),n}(B),H=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return t(n,e),n}(B);function V(e,t){this.key=e,this.attributes=t,this.clear()}function q(e,t){this.key=e,this.attributes=t,this.clear()}function Y(e,t){this.key=e,this.attributes=t,this.clear()}function K(e,t,n,r,i){this.key=t,this.attributes=i,this.undirected=e,this.source=n,this.target=r}function Z(e,t,n,r,i,o,a){var u,s,c,h;if(r=""+r,0===n){if(!(u=e._nodes.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" node in the graph.'));c=i,h=o}else if(3===n){if(i=""+i,!(s=e._edges.get(i)))throw new W("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var d=s.source.key,l=s.target.key;if(r===d)u=s.target;else{if(r!==l)throw new W("Graph.".concat(t,': the "').concat(r,'" node is not attached to the "').concat(i,'" edge (').concat(d,", ").concat(l,")."));u=s.source}c=o,h=a}else{if(!(s=e._edges.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" edge in the graph.'));u=1===n?s.source:s.target,c=i,h=o}return[u,c,h]}V.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},Y.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},K.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var n=this.source.key,r=this.target.key;this.source[e][r]=this,this.undirected&&n===r||(this.target[t][n]=this)},K.prototype.attachMulti=function(){var e="out",t="in",n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[t][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[t][n]=this},K.prototype.detach=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]},K.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var $=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];return a.attributes[u]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){return Z(this,t,n,e,r)[0].attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];return a.attributes.hasOwnProperty(u)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=Z(this,t,n,e,r,i,o),u=a[0],s=a[1],c=a[2];return u.attributes[s]=c,this.emit("nodeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:s}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=Z(this,t,n,e,r,i,o),u=a[0],s=a[1],c=a[2];if("function"!=typeof c)throw new j("Graph.".concat(t,": updater should be a function."));var h=u.attributes,d=c(h[s]);return h[s]=d,this.emit("nodeAttributesUpdated",{key:u.key,type:"set",attributes:u.attributes,name:s}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];return delete a.attributes[u],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:u}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];if(!h(u))throw new j("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=u,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];if(!h(u))throw new j("Graph.".concat(t,": provided attributes are not a plain object."));return s(a.attributes,u),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:u}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=Z(this,t,n,e,r,i),a=o[0],u=o[1];if("function"!=typeof u)throw new j("Graph.".concat(t,": provided updater is not a function."));return a.attributes=u(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}],X=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,o=""+arguments[1];if(!(r=c(this,i,o,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(r=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,u=""+r;if(r=arguments[2],i=arguments[3],!(o=c(this,a,u,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(u,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,u=""+r;if(r=arguments[2],i=arguments[3],!(o=c(this,a,u,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(u,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof i)throw new j("Graph.".concat(t,": updater should be a function."));return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!h(r))throw new j("Graph.".concat(t,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!h(r))throw new j("Graph.".concat(t,": provided attributes are not a plain object."));return s(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=c(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof r)throw new j("Graph.".concat(t,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],J=D,Q=U,ee=function(){var e=arguments,t=null,n=-1;return new J((function(){for(var r=null;;){if(null===t){if(++n>=e.length)return{done:!0};t=Q(e[n])}if(!0!==(r=t.next()).done)break;t=null}return r}))},te=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ne(e,t,n,r){var i=!1;for(var o in t)if(o!==r){var a=t[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),e&&i)return a.key}}function re(e,t,n,r){var i,o,a,u=!1;for(var s in t)if(s!==r){i=t[s];do{if(o=i.source,a=i.target,u=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),e&&u)return i.key;i=i.next}while(void 0!==i)}}function ie(e,t){var n,r=Object.keys(e),i=r.length,o=0;return new D((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===t){n=void 0;continue}n=e[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function oe(e,t,n,r){var i=t[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&e?i.key:void 0}}function ae(e,t,n,r){var i=t[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&o)return i.key;i=i.next}while(void 0!==i)}}function ue(e,t){var n=e[t];return void 0!==n.next?new D((function(){if(!n)return{done:!0};var e={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:e}})):D.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function se(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):P(e._edges.keys(),e._edges.size);for(var n,r,i="undirected"===t?e.undirectedSize:e.directedSize,o=new Array(i),a="undirected"===t,u=e._edges.values(),s=0;!0!==(n=u.next()).done;)(r=n.value).undirected===a&&(o[s++]=r.key);return o}function ce(e,t,n,r){if(0!==t.size)for(var i,o,a="mixed"!==n&&n!==t.type,u="undirected"===n,s=!1,c=t._edges.values();!0!==(i=c.next()).done;)if(o=i.value,!a||o.undirected===u){var h=o,d=h.key,l=h.attributes,f=h.source,p=h.target;if(s=r(d,l,f.key,p.key,f.attributes,p.attributes,o.undirected),e&&s)return d}}function he(e,t){if(0===e.size)return D.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,i=e._edges.values();return new D((function(){for(var e,t;;){if((e=i.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected},done:!1}}))}function de(e,t,n,r,i,o){var a,u=t?re:ne;if("undirected"!==n){if("out"!==r&&(a=u(e,i.in,o),e&&a))return a;if("in"!==r&&(a=u(e,i.out,o,r?void 0:i.key),e&&a))return a}if("directed"!==n&&(a=u(e,i.undirected,o),e&&a))return a}function le(e,t,n,r){var i=[];return de(!1,e,t,n,r,(function(e){i.push(e)})),i}function fe(e,t,n){var r=D.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=ee(r,ie(n.in))),"in"!==t&&void 0!==n.out&&(r=ee(r,ie(n.out,t?void 0:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=ee(r,ie(n.undirected))),r}function pe(e,t,n,r,i,o,a){var u,s=n?ae:oe;if("undirected"!==t){if(void 0!==i.in&&"out"!==r&&(u=s(e,i.in,o,a),e&&u))return u;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(u=s(e,i.out,o,a),e&&u))return u}if("directed"!==t&&void 0!==i.undirected&&(u=s(e,i.undirected,o,a),e&&u))return u}function ge(e,t,n,r,i){var o=[];return pe(!1,e,t,n,r,i,(function(e){o.push(e)})),o}function ve(e,t,n,r){var i=D.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=ee(i,ue(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(t||n.key!==r)&&(i=ee(i,ue(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=ee(i,ue(n.undirected,r))),i}var ye=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function me(){this.A=null,this.B=null}function be(e,t,n,r,i){for(var o in r){var a=r[o],u=a.source,s=a.target,c=u===n?s:u;if(!t||!t.has(c.key)){var h=i(c.key,c.attributes);if(e&&h)return c.key}}}function _e(e,t,n,r,i){if("mixed"!==t){if("undirected"===t)return be(e,null,r,r.undirected,i);if("string"==typeof n)return be(e,null,r,r[n],i)}var o,a=new me;if("undirected"!==t){if("out"!==n){if(o=be(e,null,r,r.in,i),e&&o)return o;a.wrap(r.in)}if("in"!==n){if(o=be(e,a,r,r.out,i),e&&o)return o;a.wrap(r.out)}}if("directed"!==t&&(o=be(e,a,r,r.undirected,i),e&&o))return o}function we(e,t,n){var r=Object.keys(n),i=r.length,o=0;return new D((function(){var a=null;do{if(o>=i)return e&&e.wrap(n),{done:!0};var u=n[r[o++]],s=u.source,c=u.target;a=s===t?c:s,e&&e.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Ee(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=[];return _e(!1,e,t,n,(function(e){r.push(e)})),r}("mixed"===r?this.type:r,i,t)}}function xe(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return D.empty();e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return we(null,n,n.undirected);if("string"==typeof t)return we(null,n,n[t])}var r=D.empty(),i=new me;return"undirected"!==e&&("out"!==t&&(r=ee(r,we(i,n,n.in))),"in"!==t&&(r=ee(r,we(i,n,n.out)))),"directed"!==e&&(r=ee(r,we(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,t)}}function ke(e,t,n,r,i){for(var o,a,u,s,c,h,d,l=r._nodes.values(),f=r.type;!0!==(o=l.next()).done;){var p=!1;if(a=o.value,"undirected"!==f)for(u in s=a.out){c=s[u];do{if(h=c.target,p=!0,d=i(a.key,h.key,a.attributes,h.attributes,c.key,c.attributes,c.undirected),e&&d)return c;c=c.next}while(c)}if("directed"!==f)for(u in s=a.undirected)if(!(t&&a.key>u)){c=s[u];do{if((h=c.target).key!==u&&(h=c.source),p=!0,d=i(a.key,h.key,a.attributes,h.attributes,c.key,c.attributes,c.undirected),e&&d)return c;c=c.next}while(c)}if(n&&!p&&(d=i(a.key,null,a.attributes,null,null,null,null),e&&d))return null}}function Ae(e){if(!h(e))throw new j('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new j("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!h(e.attributes)||null===e.attributes))throw new j("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Le(e){if(!h(e))throw new j('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new j("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new j("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!h(e.attributes)||null===e.attributes))throw new j("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&"boolean"!=typeof e.undirected)throw new j("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}me.prototype.wrap=function(e){null===this.A?this.A=e:null===this.B&&(this.B=e)},me.prototype.has=function(e){return null!==this.A&&e in this.A||null!==this.B&&e in this.B};var Se,Ce=(Se=255&Math.floor(256*Math.random()),function(){return Se++}),Te=new Set(["directed","undirected","mixed"]),Re=new Set(["domain","_events","_eventsCount","_maxListeners"]),Ge={allowSelfLoops:!0,multi:!1,type:"mixed"};function De(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Ne(e,t,n,r,i,o,a,u){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(u&&!h(u))throw new j("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(u,'"'));if(o=""+o,a=""+a,u=u||{},!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var s=e._nodes.get(o),c=e._nodes.get(a);if(!s)throw new W("Graph.".concat(t,': source node "').concat(o,'" not found.'));if(!c)throw new W("Graph.".concat(t,': target node "').concat(a,'" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==s.undirected[a]:void 0!==s.out[a]))throw new H("Graph.".concat(t,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var l=new K(r,i,s,c,u);e._edges.set(i,l);var f=o===a;return r?(s.undirectedDegree++,c.undirectedDegree++,f&&(s.undirectedLoops++,e._undirectedSelfLoopCount++)):(s.outDegree++,c.inDegree++,f&&(s.directedLoops++,e._directedSelfLoopCount++)),e.multi?l.attachMulti():l.attach(),r?e._undirectedSize++:e._directedSize++,d.key=i,e.emit("edgeAdded",d),i}function Fe(e,t,n,r,i,o,a,u,c){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(u)if(c){if("function"!=typeof u)throw new j("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(u,'"'))}else if(!h(u))throw new j("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(u,'"'));var d;if(o=""+o,a=""+a,c&&(d=u,u=void 0),!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var l,f,p=e._nodes.get(o),g=e._nodes.get(a);if(!n&&(l=e._edges.get(i))){if(!(l.source.key===o&&l.target.key===a||r&&l.source.key===a&&l.target.key===o))throw new H("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. ("').concat(l.source.key,'", "').concat(l.target.key,'").'));f=l}if(f||e.multi||!p||(f=r?p.undirected[a]:p.out[a]),f){var v=[f.key,!1,!1,!1];if(c?!d:!u)return v;if(c){var y=f.attributes;f.attributes=d(y),e.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else s(f.attributes,u),e.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:u});return v}u=u||{},c&&d&&(u=d(u));var m={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var b=!1,_=!1;p||(p=De(e,o,{}),b=!0,o===a&&(g=p,_=!0)),g||(g=De(e,a,{}),_=!0),l=new K(r,i,p,g,u),e._edges.set(i,l);var w=o===a;return r?(p.undirectedDegree++,g.undirectedDegree++,w&&(p.undirectedLoops++,e._undirectedSelfLoopCount++)):(p.outDegree++,g.inDegree++,w&&(p.directedLoops++,e._directedSelfLoopCount++)),e.multi?l.attachMulti():l.attach(),r?e._undirectedSize++:e._directedSize++,m.key=i,e.emit("edgeAdded",m),[i,!0,b,_]}function Oe(e,t){e._edges.delete(t.key);var n=t.source,r=t.target,i=t.attributes,o=t.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),o?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Ie=function(n){function r(e){var t;if(t=n.call(this)||this,"boolean"!=typeof(e=s({},Ge,e)).multi)throw new j("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!Te.has(e.type))throw new j('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if("boolean"!=typeof e.allowSelfLoops)throw new j("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));var r="mixed"===e.type?V:"directed"===e.type?q:Y;l(u(t),"NodeDataClass",r);var i="geid_"+Ce()+"_",o=0;return l(u(t),"_attributes",{}),l(u(t),"_nodes",new Map),l(u(t),"_edges",new Map),l(u(t),"_directedSize",0),l(u(t),"_undirectedSize",0),l(u(t),"_directedSelfLoopCount",0),l(u(t),"_undirectedSelfLoopCount",0),l(u(t),"_edgeKeyGenerator",(function(){var e;do{e=i+o++}while(t._edges.has(e));return e})),l(u(t),"_options",e),Re.forEach((function(e){return l(u(t),e,t[e])})),f(u(t),"order",(function(){return t._nodes.size})),f(u(t),"size",(function(){return t._edges.size})),f(u(t),"directedSize",(function(){return t._directedSize})),f(u(t),"undirectedSize",(function(){return t._undirectedSize})),f(u(t),"selfLoopCount",(function(){return t._directedSelfLoopCount+t._undirectedSelfLoopCount})),f(u(t),"directedSelfLoopCount",(function(){return t._directedSelfLoopCount})),f(u(t),"undirectedSelfLoopCount",(function(){return t._undirectedSelfLoopCount})),f(u(t),"multi",t._options.multi),f(u(t),"type",t._options.type),f(u(t),"allowSelfLoops",t._options.allowSelfLoops),f(u(t),"implementation",(function(){return"graphology"})),t}t(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(e){return this._nodes.has(""+e)},i.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.out.hasOwnProperty(t)}throw new j("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.undirected.hasOwnProperty(t)}throw new j("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){e=""+e,t=""+t;var r=this._nodes.get(e);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(t)||void 0!==r.undirected&&r.undirected.hasOwnProperty(t))}throw new j("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},i.edge=function(e,t){if(this.multi)throw new H("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)},i.areOutNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out},i.areInNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in},i.areUndirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"directed"!==this.type&&t in n.undirected},i.areNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)||"directed"!==this.type&&t in n.undirected},i.areInboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in||"directed"!==this.type&&t in n.undirected},i.areOutboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out||"directed"!==this.type&&t in n.undirected},i.inDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree},i.outDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree},i.directedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree},i.undirectedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree},i.inboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree),n},i.outboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.outDegree),n},i.degree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree),n},i.inDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree-t.directedLoops},i.outDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree-t.directedLoops},i.directedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree-2*t.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree-2*t.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree,r+=t.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.outDegree,r+=t.directedLoops),n-r},i.degreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree,r+=2*t.directedLoops),n-r},i.source=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},i.target=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},i.extremities=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},i.opposite=function(e,t){e=""+e,t=""+t;var n=this._edges.get(t);if(!n)throw new W('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e===r)return i;if(e===i)return r;throw new W('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."))},i.hasExtremity=function(e,t){e=""+e,t=""+t;var n=this._edges.get(e);if(!n)throw new W('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t},i.isUndirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected},i.isDirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected},i.isSelfLoop=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},i.addNode=function(e,t){var n=function(e,t,n){if(n&&!h(n))throw new j('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(t=""+t,n=n||{},e._nodes.has(t))throw new H('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t);return n.key},i.mergeNode=function(e,t){if(t&&!h(t))throw new j('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));e=""+e,t=t||{};var n=this._nodes.get(e);return n?(t&&(s(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),[e,!1]):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])},i.updateNode=function(e,t){if(t&&"function"!=typeof t)throw new j('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));e=""+e;var n=this._nodes.get(e);if(n){if(t){var r=n.attributes;n.attributes=t(r),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})}return[e,!1]}var i=t?t({}):{};return n=new this.NodeDataClass(e,i),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]},i.dropNode=function(e){e=""+e;var t,n=this._nodes.get(e);if(!n)throw new W('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){t=n.out[r];do{Oe(this,t),t=t.next}while(t)}for(var i in n.in){t=n.in[i];do{Oe(this,t),t=t.next}while(t)}}if("directed"!==this.type)for(var o in n.undirected){t=n.undirected[o];do{Oe(this,t),t=t.next}while(t)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})},i.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=c(this,n,r,this.type)))throw new W('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(e=""+e,!(t=this._edges.get(e)))throw new W('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return Oe(this,t),this},i.dropDirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=c(this,e=""+e,t=""+t,"directed");if(!n)throw new W('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Oe(this,n),this},i.dropUndirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=c(this,e,t,"undirected");if(!n)throw new W('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Oe(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var e,t=this._nodes.values();!0!==(e=t.next()).done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(e){return this._attributes[e]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},i.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.updateAttribute=function(e,t){if("function"!=typeof t)throw new j("Graph.updateAttribute: updater should be a function.");var n=this._attributes[e];return this._attributes[e]=t(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this},i.replaceAttributes=function(e){if(!h(e))throw new j("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(e){if(!h(e))throw new j("Graph.mergeAttributes: provided attributes are not a plain object.");return s(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this},i.updateAttributes=function(e){if("function"!=typeof e)throw new j("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(e,t){if("function"!=typeof e)throw new j("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!p(t))throw new j("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})},i.updateEachEdgeAttributes=function(e,t){if("function"!=typeof e)throw new j("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!p(t))throw new j("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=e(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})},i.forEachAdjacencyEntry=function(e){if("function"!=typeof e)throw new j("Graph.forEachAdjacencyEntry: expecting a callback.");ke(!1,!1,!1,this,e)},i.forEachAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new j("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");ke(!1,!1,!0,this,e)},i.forEachAssymetricAdjacencyEntry=function(e){if("function"!=typeof e)throw new j("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");ke(!1,!0,!1,this,e)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new j("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");ke(!1,!0,!0,this,e)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):P(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(e){if("function"!=typeof e)throw new j("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)},i.findNode=function(e){if("function"!=typeof e)throw new j("Graph.findNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return n.key},i.mapNodes=function(e){if("function"!=typeof e)throw new j("Graph.mapNode: expecting a callback.");for(var t,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(t=r.next()).done;)n=t.value,i[o++]=e(n.key,n.attributes);return i},i.someNode=function(e){if("function"!=typeof e)throw new j("Graph.someNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return!0;return!1},i.everyNode=function(e){if("function"!=typeof e)throw new j("Graph.everyNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(!e((n=t.value).key,n.attributes))return!1;return!0},i.filterNodes=function(e){if("function"!=typeof e)throw new j("Graph.filterNodes: expecting a callback.");for(var t,n,r=this._nodes.values(),i=[];!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(e,t){if("function"!=typeof e)throw new j("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new j("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=t,o=this._nodes.values();!0!==(n=o.next()).done;)i=e(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var e=this._nodes.values();return new D((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var e=this,t=new Array(this._nodes.size),n=0;this._nodes.forEach((function(e,r){t[n++]=function(e,t){var n={key:e};return d(t.attributes)||(n.attributes=s({},t.attributes)),n}(r,e)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(t,i){r[n++]=function(e,t,n){var r={key:t,source:n.source.key,target:n.target.key};return d(n.attributes)||(r.attributes=s({},n.attributes)),"mixed"===e&&n.undirected&&(r.undirected=!0),r}(e.type,i,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}},i.import=function(e){var t,n,i,o,a,u=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof r)return e.forEachNode((function(e,t){s?u.mergeNode(e,t):u.addNode(e,t)})),e.forEachEdge((function(e,t,n,r,i,o,a){s?a?u.mergeUndirectedEdgeWithKey(e,n,r,t):u.mergeDirectedEdgeWithKey(e,n,r,t):a?u.addUndirectedEdgeWithKey(e,n,r,t):u.addDirectedEdgeWithKey(e,n,r,t)})),this;if(!h(e))throw new j("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!h(e.attributes))throw new j("Graph.import: invalid attributes. Expecting a plain object.");s?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(i=e.nodes,!Array.isArray(i))throw new j("Graph.import: invalid nodes. Expecting an array.");for(t=0,n=i.length;t<n;t++){Ae(o=i[t]);var c=o,d=c.key,l=c.attributes;s?this.mergeNode(d,l):this.addNode(d,l)}}if(e.edges){var f=!1;if("undirected"===this.type&&(f=!0),i=e.edges,!Array.isArray(i))throw new j("Graph.import: invalid edges. Expecting an array.");for(t=0,n=i.length;t<n;t++){Le(a=i[t]);var p=a,g=p.source,v=p.target,y=p.attributes,m=p.undirected,b=void 0===m?f:m;"key"in a?(s?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,v,y):(s?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,v,y)}}return this},i.nullCopy=function(e){var t=new r(s({},this._options,e));return t.replaceAttributes(s({},this.getAttributes())),t},i.emptyCopy=function(e){var t=this.nullCopy(e);return this._nodes.forEach((function(e,n){var r=s({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)})),t},i.copy=function(e){if("string"==typeof(e=e||{}).type&&e.type!==this.type&&"mixed"!==e.type)throw new H('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof e.multi&&e.multi!==this.multi&&!0!==e.multi)throw new H("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof e.allowSelfLoops&&e.allowSelfLoops!==this.allowSelfLoops&&!0!==e.allowSelfLoops)throw new H("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var t,n,r=this.emptyCopy(e),i=this._edges.values();!0!==(t=i.next()).done;)Ne(r,"copy",!1,(n=t.value).undirected,n.key,n.source.key,n.target.key,s({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var t=this,n={};this._nodes.forEach((function(e,t){n[t]=e.attributes}));var r={},i={};this._edges.forEach((function(e,n){var o,a=e.undirected?"--":"->",u="",s=e.source.key,c=e.target.key;e.undirected&&s>c&&(o=s,s=c,c=o);var h="(".concat(s,")").concat(a,"(").concat(c,")");n.startsWith("geid_")?t.multi&&(void 0===i[h]?i[h]=0:i[h]++,u+="".concat(i[h],". ")):u+="[".concat(n,"]: "),r[u+=h]=e.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Re.has(a)&&"function"!=typeof this[a]&&"symbol"!==e(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,l(o,"constructor",this.constructor),o},r}(v.exports.EventEmitter);"undefined"!=typeof Symbol&&(Ie.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ie.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge","update"].forEach((function(t){var n=e.name(t),r="add"===t?Ne:Fe;e.generateKey?Ie.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(e.type||this.type),null,i,o,a,"update"===t)}:Ie.prototype[n]=function(i,o,a,u){return r(this,n,!1,"undirected"===(e.type||this.type),i,o,a,u,"update"===t)}}))})),function(e){$.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Node"),0),r(e,n("Source"),1),r(e,n("Target"),2),r(e,n("Opposite"),3)}))}(Ie),function(e){X.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")}))}(Ie),function(e){te.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return se(this,r);if(1===arguments.length){e=""+e;var o=this._nodes.get(e);if(void 0===o)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return le(this.multi,"mixed"===r?this.type:r,i,o)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return ge(r,this.multi,i,a,t)}throw new j("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return ce(!1,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return de(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var u=this._nodes.get(e);if(!u)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!1,r,this.multi,i,u,t,n)}throw new j("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(){var e,t=Array.prototype.slice.call(arguments),n=t.pop();if(0===t.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),e=new Array(i);var a=0;t.push((function(t,r,i,o,u,s,c){e[a++]=n(t,r,i,o,u,s,c)}))}else e=[],t.push((function(t,r,i,o,a,u,s){e.push(n(t,r,i,o,a,u,s))}));return this[o].apply(this,t),e};var u="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=[];return e.push((function(e,r,i,o,a,u,s){t(e,r,i,o,a,u,s)&&n.push(e)})),this[o].apply(this,e),n};var s="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(){var e,t,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new j("Graph.".concat(s,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new j("Graph.".concat(s,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(e=n[0],t=n[1],n=[]):3===n.length?(e=n[1],t=n[2],n=[n[0]]):4===n.length&&(e=n[2],t=n[3],n=[n[0],n[1]]);var r=t;return n.push((function(t,n,i,o,a,u,s){r=e(r,t,n,i,o,a,u,s)})),this[o].apply(this,n),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return ce(!0,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return de(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var u=this._nodes.get(e);if(!u)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return pe(!0,r,this.multi,i,u,t,n)}throw new j("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,u){return t(e,n,r,i,o,a,u)})),!!this[o].apply(this,e)};var u="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[u]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,u){return!t(e,n,r,i,o,a,u)})),!this[o].apply(this,e)}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return D.empty();if(!arguments.length)return he(this,r);if(1===arguments.length){e=""+e;var n=this._nodes.get(e);if(!n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return fe(r,i,n)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return ve(r,i,a,t)}throw new j("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(Ie),function(e){ye.forEach((function(t){Ee(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));_e(!1,"mixed"===r?this.type:r,i,n,t)}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(e,t){var n=[];return this[o](e,(function(e,r){n.push(t(e,r))})),n};var u="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(e,t){var n=[];return this[o](e,(function(e,r){t(e,r)&&n.push(e)})),n};var s="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[s]=function(e,t,n){if(arguments.length<3)throw new j("Graph.".concat(s,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](e,(function(e,n){r=t(r,e,n)})),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return _e(!0,"mixed"===r?this.type:r,i,n,t)}};var u="some"+o;e.prototype[u]=function(e,t){return!!this[a](e,t)};var s="every"+o;e.prototype[s]=function(e,t){return!this[a](e,(function(e,n){return!t(e,n)}))}}(e,t),xe(e,t)}))}(Ie);var ze=function(e){function n(t){var n=s({type:"directed"},t);if("multi"in n&&!1!==n.multi)throw new j("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new j('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ie),Ue=function(e){function n(t){var n=s({type:"undirected"},t);if("multi"in n&&!1!==n.multi)throw new j("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new j('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ie),Me=function(e){function n(t){var n=s({multi:!0},t);if("multi"in n&&!0!==n.multi)throw new j("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t(n,e),n}(Ie),Pe=function(e){function n(t){var n=s({type:"directed",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new j("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new j('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ie),Be=function(e){function n(t){var n=s({type:"undirected",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new j("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new j('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Ie);function je(e){e.from=function(t,n){var r=s({},t.options,n),i=new e(r);return i.import(t),i}}return je(Ie),je(ze),je(Ue),je(Me),je(Pe),je(Be),Ie.Graph=Ie,Ie.DirectedGraph=ze,Ie.UndirectedGraph=Ue,Ie.MultiGraph=Me,Ie.MultiDirectedGraph=Pe,Ie.MultiUndirectedGraph=Be,Ie.InvalidArgumentsGraphError=j,Ie.NotFoundGraphError=W,Ie.UsageGraphError=H,Ie}()},5250:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,c=32,h=64,d=128,l=256,f=1/0,p=9007199254740991,g=NaN,v=4294967295,y=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",c],["partialRight",h],["rearg",l]],m="[object Arguments]",b="[object Array]",_="[object Boolean]",w="[object Date]",E="[object Error]",x="[object Function]",k="[object GeneratorFunction]",A="[object Map]",L="[object Number]",S="[object Object]",C="[object Promise]",T="[object RegExp]",R="[object Set]",G="[object String]",D="[object Symbol]",N="[object WeakMap]",F="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",z="[object Float64Array]",U="[object Int8Array]",M="[object Int16Array]",P="[object Int32Array]",B="[object Uint8Array]",j="[object Uint8ClampedArray]",W="[object Uint16Array]",H="[object Uint32Array]",V=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,$=RegExp(K.source),X=RegExp(Z.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,he=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ee=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Ae="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Le="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ge="['\u2019]",De="["+ke+"]",Ne="["+Re+"]",Fe="["+Ae+"]",Oe="\\d+",Ie="["+Le+"]",ze="["+Se+"]",Ue="[^"+ke+Re+Oe+Le+Se+Ce+"]",Me="\\ud83c[\\udffb-\\udfff]",Pe="[^"+ke+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Ce+"]",He="\\u200d",Ve="(?:"+ze+"|"+Ue+")",qe="(?:"+We+"|"+Ue+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ke="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Fe+"|"+Me+")"+"?",$e="["+Te+"]?",Xe=$e+Ze+("(?:"+He+"(?:"+[Pe,Be,je].join("|")+")"+$e+Ze+")*"),Je="(?:"+[Ie,Be,je].join("|")+")"+Xe,Qe="(?:"+[Pe+Fe+"?",Fe,Be,je,De].join("|")+")",et=RegExp(Ge,"g"),tt=RegExp(Fe,"g"),nt=RegExp(Me+"(?="+Me+")|"+Qe+Xe,"g"),rt=RegExp([We+"?"+ze+"+"+Ye+"(?="+[Ne,We,"$"].join("|")+")",qe+"+"+Ke+"(?="+[Ne,We+Ve,"$"].join("|")+")",We+"?"+Ve+"+"+Ye,We+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oe,Je].join("|"),"g"),it=RegExp("["+He+ke+Ae+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ut=-1,st={};st[I]=st[z]=st[U]=st[M]=st[P]=st[B]=st[j]=st[W]=st[H]=!0,st[m]=st[b]=st[F]=st[_]=st[O]=st[w]=st[E]=st[x]=st[A]=st[L]=st[S]=st[T]=st[R]=st[G]=st[N]=!1;var ct={};ct[m]=ct[b]=ct[F]=ct[O]=ct[_]=ct[w]=ct[I]=ct[z]=ct[U]=ct[M]=ct[P]=ct[A]=ct[L]=ct[S]=ct[T]=ct[R]=ct[G]=ct[D]=ct[B]=ct[j]=ct[W]=ct[H]=!0,ct[E]=ct[x]=ct[N]=!1;var ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ft||pt||Function("return this")(),vt=t&&!t.nodeType&&t,yt=vt&&e&&!e.nodeType&&e,mt=yt&&yt.exports===vt,bt=mt&&ft.process,_t=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),wt=_t&&_t.isArrayBuffer,Et=_t&&_t.isDate,xt=_t&&_t.isMap,kt=_t&&_t.isRegExp,At=_t&&_t.isSet,Lt=_t&&_t.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Nt(e,t){return!!(null==e?0:e.length)&&Wt(e,t,0)>-1}function Ft(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function zt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ut(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=Yt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function jt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Wt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Vt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:g}function Yt(e){return function(t){return null==t?i:t[e]}}function Kt(e){return function(t){return null==e?i:e[t]}}function Zt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function $t(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Ot(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var on=Kt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+ht[e]}function sn(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function hn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==u||(e[n]=u,o[i++]=n)}return o}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return sn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Pt(e)}function gn(e){return sn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var yn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n,r=(t=null==t?gt:mn.defaults(gt.Object(),t,mn.pick(gt,at))).Array,ue=t.Date,ke=t.Error,Ae=t.Function,Le=t.Math,Se=t.Object,Ce=t.RegExp,Te=t.String,Re=t.TypeError,Ge=r.prototype,De=Ae.prototype,Ne=Se.prototype,Fe=t["__core-js_shared__"],Oe=De.toString,Ie=Ne.hasOwnProperty,ze=0,Ue=(n=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Ne.toString,Pe=Oe.call(Se),Be=gt._,je=Ce("^"+Oe.call(Ie).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),We=mt?t.Buffer:i,He=t.Symbol,Ve=t.Uint8Array,qe=We?We.allocUnsafe:i,Ye=hn(Se.getPrototypeOf,Se),Ke=Se.create,Ze=Ne.propertyIsEnumerable,$e=Ge.splice,Xe=He?He.isConcatSpreadable:i,Je=He?He.iterator:i,Qe=He?He.toStringTag:i,nt=function(){try{var e=fo(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),it=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,ht=ue&&ue.now!==gt.Date.now&&ue.now,ft=t.setTimeout!==gt.setTimeout&&t.setTimeout,pt=Le.ceil,vt=Le.floor,yt=Se.getOwnPropertySymbols,bt=We?We.isBuffer:i,_t=t.isFinite,Pt=Ge.join,Kt=hn(Se.keys,Se),bn=Le.max,_n=Le.min,wn=ue.now,En=t.parseInt,xn=Le.random,kn=Ge.reverse,An=fo(t,"DataView"),Ln=fo(t,"Map"),Sn=fo(t,"Promise"),Cn=fo(t,"Set"),Tn=fo(t,"WeakMap"),Rn=fo(Se,"create"),Gn=Tn&&new Tn,Dn={},Nn=Mo(An),Fn=Mo(Ln),On=Mo(Sn),In=Mo(Cn),zn=Mo(Tn),Un=He?He.prototype:i,Mn=Un?Un.valueOf:i,Pn=Un?Un.toString:i;function Bn(e){if(nu(e)&&!Va(e)&&!(e instanceof Vn)){if(e instanceof Hn)return e;if(Ie.call(e,"__wrapped__"))return Po(e)}return new Hn(e)}var jn=function(){function e(){}return function(t){if(!tu(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Yn(e);this.size=t.size}function Xn(e,t){var n=Va(e),r=!n&&Ha(e),i=!n&&!r&&Za(e),o=!n&&!r&&!i&&hu(e),a=n||r||i||o,u=a?Xt(e.length,Te):[],s=u.length;for(var c in e)!t&&!Ie.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,s))||u.push(c);return u}function Jn(e){var t=e.length;return t?e[Zr(0,t-1)]:i}function Qn(e,t){return Io(Ri(e),sr(t,0,e.length))}function er(e){return Io(Ri(e))}function tr(e,t,n){(n!==i&&!Ba(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Ie.call(e,t)&&Ba(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function ir(e,t,n,r){return fr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Gi(t,Du(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var n=-1,o=t.length,a=r(o),u=null==e;++n<o;)a[n]=u?i:Su(e,t[n]);return a}function sr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var u,s=1&t,c=2&t,h=4&t;if(n&&(u=o?n(e,r,o,a):n(e)),u!==i)return u;if(!tu(e))return e;var d=Va(e);if(d){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ri(e,u)}else{var l=vo(e),f=l==x||l==k;if(Za(e))return ki(e,s);if(l==S||l==m||f&&!o){if(u=c||f?{}:mo(e),!s)return c?function(e,t){return Gi(e,go(e),t)}(e,function(e,t){return e&&Gi(t,Nu(t),e)}(u,e)):function(e,t){return Gi(e,po(e),t)}(e,or(u,e))}else{if(!ct[l])return o?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case F:return Ai(e);case _:case w:return new r(+e);case O:return function(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case I:case z:case U:case M:case P:case B:case j:case W:case H:return Li(e,n);case A:return new r;case L:case G:return new r(e);case T:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case D:return i=e,Mn?Se(Mn.call(i)):{}}var i}(e,l,s)}}a||(a=new $n);var p=a.get(e);if(p)return p;a.set(e,u),uu(e)?e.forEach((function(r){u.add(cr(r,t,n,r,e,a))})):ru(e)&&e.forEach((function(r,i){u.set(i,cr(r,t,n,i,e,a))}));var g=d?i:(h?c?oo:io:c?Nu:Du)(e);return Tt(g||e,(function(r,i){g&&(r=e[i=r]),nr(u,i,cr(r,t,n,i,e,a))})),u}function hr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Se(e);r--;){var o=n[r],a=t[o],u=e[o];if(u===i&&!(o in e)||!a(u))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Re(o);return Do((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=Nt,a=!0,u=e.length,s=[],c=t.length;if(!u)return s;n&&(t=Ot(t,Qt(n))),r?(o=Ft,a=!1):t.length>=200&&(o=tn,a=!1,t=new Zn(t));e:for(;++i<u;){var h=e[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d==d){for(var l=c;l--;)if(t[l]===d)continue e;s.push(h)}else o(t,d,r)||s.push(h)}return s}Bn.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Wn.prototype,Bn.prototype.constructor=Bn,Hn.prototype=jn(Wn.prototype),Hn.prototype.constructor=Hn,Vn.prototype=jn(Wn.prototype),Vn.prototype.constructor=Vn,qn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===a?i:n}return Ie.call(t,e)?t[e]:i},qn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==i:Ie.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===i?a:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Yn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Yn.prototype.has=function(e){return rr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Ln||Yn),string:new qn}},Kn.prototype.delete=function(e){var t=ho(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return ho(this,e).get(e)},Kn.prototype.has=function(e){return ho(this,e).has(e)},Kn.prototype.set=function(e,t){var n=ho(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Yn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Ln||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var fr=Fi(wr),pr=Fi(Er,!0);function gr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],u=t(a);if(null!=u&&(s===i?u==u&&!cu(u):n(u,s)))var s=u,c=a}return c}function yr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=bo),i||(i=[]);++o<a;){var u=e[o];t>0&&n(u)?t>1?mr(u,t-1,n,r,i):It(i,u):r||(i[i.length]=u)}return i}var br=Oi(),_r=Oi(!0);function wr(e,t){return e&&br(e,t,Du)}function Er(e,t){return e&&_r(e,t,Du)}function xr(e,t){return Dt(t,(function(t){return Ja(e[t])}))}function kr(e,t){for(var n=0,r=(t=_i(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Ar(e,t,n){var r=t(e);return Va(e)?r:It(r,n(e))}function Lr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Qe&&Qe in Se(e)?function(e){var t=Ie.call(e,Qe),n=e[Qe];try{e[Qe]=i;var r=!0}catch(a){}var o=Me.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return o}(e):function(e){return Me.call(e)}(e)}function Sr(e,t){return e>t}function Cr(e,t){return null!=e&&Ie.call(e,t)}function Tr(e,t){return null!=e&&t in Se(e)}function Rr(e,t,n){for(var o=n?Ft:Nt,a=e[0].length,u=e.length,s=u,c=r(u),h=1/0,d=[];s--;){var l=e[s];s&&t&&(l=Ot(l,Qt(t))),h=_n(l.length,h),c[s]=!n&&(t||a>=120&&l.length>=120)?new Zn(s&&l):i}l=e[0];var f=-1,p=c[0];e:for(;++f<a&&d.length<h;){var g=l[f],v=t?t(g):g;if(g=n||0!==g?g:0,!(p?tn(p,v):o(d,v,n))){for(s=u;--s;){var y=c[s];if(!(y?tn(y,v):o(e[s],v,n)))continue e}p&&p.push(v),d.push(g)}}return d}function Gr(e,t,n){var r=null==(e=To(e,t=_i(t,e)))?e:e[Uo(Xo(t))];return null==r?i:St(r,e,n)}function Dr(e){return nu(e)&&Lr(e)==m}function Nr(e,t,n,r,o){return e===t||(null==e||null==t||!nu(e)&&!nu(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var u=Va(e),s=Va(t),c=u?b:vo(e),h=s?b:vo(t),d=(c=c==m?S:c)==S,l=(h=h==m?S:h)==S,f=c==h;if(f&&Za(e)){if(!Za(t))return!1;u=!0,d=!1}if(f&&!d)return a||(a=new $n),u||hu(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case O:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case _:case w:case L:return Ba(+e,+t);case E:return e.name==t.name&&e.message==t.message;case T:case G:return e==t+"";case A:var u=cn;case R:var s=1&r;if(u||(u=ln),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var h=no(u(e),u(t),r,i,o,a);return a.delete(e),h;case D:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=d&&Ie.call(e,"__wrapped__"),g=l&&Ie.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,y=g?t.value():t;return a||(a=new $n),o(v,y,n,r,a)}}if(!f)return!1;return a||(a=new $n),function(e,t,n,r,o,a){var u=1&n,s=io(e),c=s.length,h=io(t),d=h.length;if(c!=d&&!u)return!1;var l=c;for(;l--;){var f=s[l];if(!(u?f in t:Ie.call(t,f)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);var y=u;for(;++l<c;){var m=e[f=s[l]],b=t[f];if(r)var _=u?r(b,m,f,t,e,a):r(m,b,f,e,t,a);if(!(_===i?m===b||o(m,b,n,r,a):_)){v=!1;break}y||(y="constructor"==f)}if(v&&!y){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,o,a)}(e,t,n,r,Nr,o))}function Fr(e,t,n,r){var o=n.length,a=o,u=!r;if(null==e)return!a;for(e=Se(e);o--;){var s=n[o];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var c=(s=n[o])[0],h=e[c],d=s[1];if(u&&s[2]){if(h===i&&!(c in e))return!1}else{var l=new $n;if(r)var f=r(h,d,c,e,t,l);if(!(f===i?Nr(d,h,3,r,l):f))return!1}}return!0}function Or(e){return!(!tu(e)||(t=e,Ue&&Ue in t))&&(Ja(e)?je:me).test(Mo(e));var t}function Ir(e){return"function"==typeof e?e:null==e?is:"object"==typeof e?Va(e)?jr(e[0],e[1]):Br(e):fs(e)}function zr(e){if(!Ao(e))return Kt(e);var t=[];for(var n in Se(e))Ie.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ur(e){if(!tu(e))return function(e){var t=[];if(null!=e)for(var n in Se(e))t.push(n);return t}(e);var t=Ao(e),n=[];for(var r in e)("constructor"!=r||!t&&Ie.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Pr(e,t){var n=-1,i=Ya(e)?r(e.length):[];return fr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Br(e){var t=lo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(n){return n===e||Fr(n,e,t)}}function jr(e,t){return Eo(e)&&Lo(t)?So(Uo(e),t):function(n){var r=Su(n,e);return r===i&&r===t?Cu(n,e):Nr(t,r,3)}}function Wr(e,t,n,r,o){e!==t&&br(t,(function(a,u){if(o||(o=new $n),tu(a))!function(e,t,n,r,o,a,u){var s=Ro(e,n),c=Ro(t,n),h=u.get(c);if(h)return void tr(e,n,h);var d=a?a(s,c,n+"",e,t,u):i,l=d===i;if(l){var f=Va(c),p=!f&&Za(c),g=!f&&!p&&hu(c);d=c,f||p||g?Va(s)?d=s:Ka(s)?d=Ri(s):p?(l=!1,d=ki(c,!0)):g?(l=!1,d=Li(c,!0)):d=[]:ou(c)||Ha(c)?(d=s,Ha(s)?d=mu(s):tu(s)&&!Ja(s)||(d=mo(c))):l=!1}l&&(u.set(c,d),o(d,c,r,a,u),u.delete(c));tr(e,n,d)}(e,t,u,n,Wr,r,o);else{var s=r?r(Ro(e,u),a,u+"",e,t,o):i;s===i&&(s=a),tr(e,u,s)}}),Nu)}function Hr(e,t){var n=e.length;if(n)return _o(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Ot(t,(function(e){return Va(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[is];var r=-1;t=Ot(t,Qt(co()));var i=Pr(e,(function(e,n,i){var o=Ot(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;for(;++r<a;){var s=Si(i[r],o[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],u=kr(e,a);n(u,a)&&ei(o,_i(a,e),u)}return o}function Yr(e,t,n,r){var i=r?Ht:Wt,o=-1,a=t.length,u=e;for(e===t&&(t=Ri(t)),n&&(u=Ot(e,Qt(n)));++o<a;)for(var s=0,c=t[o],h=n?n(c):c;(s=i(u,h,s,r))>-1;)u!==e&&$e.call(u,s,1),$e.call(e,s,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;_o(i)?$e.call(e,i,1):li(e,i)}}return e}function Zr(e,t){return e+vt(xn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return No(Co(e,t,is),e+"")}function Jr(e){return Jn(Bu(e))}function Qr(e,t){var n=Bu(e);return Io(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!tu(e))return e;for(var o=-1,a=(t=_i(t,e)).length,u=a-1,s=e;null!=s&&++o<a;){var c=Uo(t[o]),h=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=u){var d=s[c];(h=r?r(d,c,s):i)===i&&(h=tu(d)?d:_o(t[o+1])?[]:{})}nr(s,c,h),s=s[c]}return e}var ti=Gn?function(e,t){return Gn.set(e,t),e}:is,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:is;function ri(e){return Io(Bu(e))}function ii(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!cu(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ui(e,t,is,n)}function ui(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var u=(t=n(t))!=t,s=null===t,c=cu(t),h=t===i;o<a;){var d=vt((o+a)/2),l=n(e[d]),f=l!==i,p=null===l,g=l==l,v=cu(l);if(u)var y=r||g;else y=h?g&&(r||f):s?g&&f&&(r||!p):c?g&&f&&!p&&(r||!v):!p&&!v&&(r?l<=t:l<t);y?o=d+1:a=d}return _n(a,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],u=t?t(a):a;if(!n||!Ba(u,s)){var s=u;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:cu(e)?g:+e}function hi(e){if("string"==typeof e)return e;if(Va(e))return Ot(e,hi)+"";if(cu(e))return Pn?Pn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Nt,o=e.length,a=!0,u=[],s=u;if(n)a=!1,i=Ft;else if(o>=200){var c=t?null:$i(e);if(c)return ln(c);a=!1,i=tn,s=new Zn}else s=t?[]:u;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var l=s.length;l--;)if(s[l]===d)continue e;t&&s.push(d),u.push(h)}else i(s,d,n)||(s!==u&&s.push(d),u.push(h))}return u}function li(e,t){return null==(e=To(e,t=_i(t,e)))||delete e[Uo(Xo(t))]}function fi(e,t,n,r){return ei(e,t,n(kr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),zt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function vi(e,t,n){var i=e.length;if(i<2)return i?di(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var u=e[o],s=-1;++s<i;)s!=o&&(a[o]=lr(a[o]||u,e[s],t,n));return di(mr(a,1),t,n)}function yi(e,t,n){for(var r=-1,o=e.length,a=t.length,u={};++r<o;){var s=r<a?t[r]:i;n(u,e[r],s)}return u}function mi(e){return Ka(e)?e:[]}function bi(e){return"function"==typeof e?e:is}function _i(e,t){return Va(e)?e:Eo(e,t)?[e]:zo(bu(e))}var wi=Xr;function Ei(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var xi=it||function(e){return gt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function Ai(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function Li(e,t){var n=t?Ai(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=cu(e),u=t!==i,s=null===t,c=t==t,h=cu(t);if(!s&&!h&&!a&&e>t||a&&u&&c&&!s&&!h||r&&u&&c||!n&&c||!o)return 1;if(!r&&!a&&!h&&e<t||h&&n&&o&&!r&&!a||s&&n&&o||!u&&o||!c)return-1}return 0}function Ci(e,t,n,i){for(var o=-1,a=e.length,u=n.length,s=-1,c=t.length,h=bn(a-u,0),d=r(c+h),l=!i;++s<c;)d[s]=t[s];for(;++o<u;)(l||o<a)&&(d[n[o]]=e[o]);for(;h--;)d[s++]=e[o++];return d}function Ti(e,t,n,i){for(var o=-1,a=e.length,u=-1,s=n.length,c=-1,h=t.length,d=bn(a-s,0),l=r(d+h),f=!i;++o<d;)l[o]=e[o];for(var p=o;++c<h;)l[p+c]=t[c];for(;++u<s;)(f||o<a)&&(l[p+n[u]]=e[o++]);return l}function Ri(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Gi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var s=t[a],c=r?r(n[s],e[s],s,n,e):i;c===i&&(c=e[s]),o?ar(n,s,c):nr(n,s,c)}return n}function Di(e,t){return function(n,r){var i=Va(n)?Ct:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Ni(e){return Xr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,u=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,u&&wo(n[0],n[1],u)&&(a=o<3?i:a,o=1),t=Se(t);++r<o;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Fi(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Se(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Oi(e){return function(t,n,r){for(var i=-1,o=Se(t),a=r(t),u=a.length;u--;){var s=a[e?u:++i];if(!1===n(o[s],s,o))break}return t}}function Ii(e){return function(t){var n=sn(t=bu(t))?gn(t):i,r=n?n[0]:t.charAt(0),o=n?Ei(n,1).join(""):t.slice(1);return r[e]()+o}}function zi(e){return function(t){return zt(Ju(Hu(t).replace(et,"")),e,"")}}function Ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jn(e.prototype),r=e.apply(n,t);return tu(r)?r:n}}function Mi(e){return function(t,n,r){var o=Se(t);if(!Ya(t)){var a=co(n,3);t=Du(t),n=function(e){return a(o[e],e,o)}}var u=e(t,n,r);return u>-1?o[a?t[u]:u]:i}}function Pi(e){return ro((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Re(o);if(a&&!s&&"wrapper"==uo(u))var s=new Hn([],!0)}for(r=s?r:n;++r<n;){var c=uo(u=t[r]),h="wrapper"==c?ao(u):i;s=h&&xo(h[0])&&424==h[1]&&!h[4].length&&1==h[9]?s[uo(h[0])].apply(s,h[3]):1==u.length&&xo(u)?s[c]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Va(r))return s.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,n,o,a,u,s,c,h,l){var f=t&d,p=1&t,g=2&t,v=24&t,y=512&t,m=g?i:Ui(e);return function d(){for(var b=arguments.length,_=r(b),w=b;w--;)_[w]=arguments[w];if(v)var E=so(d),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(_,E);if(o&&(_=Ci(_,o,a,v)),u&&(_=Ti(_,u,s,v)),b-=x,v&&b<l){var k=dn(_,E);return Ki(e,t,Bi,d.placeholder,n,_,k,c,h,l-b)}var A=p?n:this,L=g?A[e]:e;return b=_.length,c?_=function(e,t){var n=e.length,r=_n(t.length,n),o=Ri(e);for(;r--;){var a=t[r];e[r]=_o(a,n)?o[a]:i}return e}(_,c):y&&b>1&&_.reverse(),f&&h<b&&(_.length=h),this&&this!==gt&&this instanceof d&&(L=m||Ui(L)),L.apply(A,_)}}function ji(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Wi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=hi(n),r=hi(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Hi(e){return ro((function(t){return t=Ot(t,Qt(co())),Xr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":hi(t)).length;if(n<2)return n?$r(t,e):t;var r=$r(t,pt(e/pn(t)));return sn(t)?Ei(gn(r),0,e).join(""):r.slice(0,e)}function qi(e){return function(t,n,o){return o&&"number"!=typeof o&&wo(t,n,o)&&(n=o=i),t=pu(t),n===i?(n=t,t=0):n=pu(n),function(e,t,n,i){for(var o=-1,a=bn(pt((t-e)/(n||1)),0),u=r(a);a--;)u[i?a:++o]=e,e+=n;return u}(t,n,o=o===i?t<n?1:-1:pu(o),e)}}function Yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=yu(t),n=yu(n)),e(t,n)}}function Ki(e,t,n,r,o,a,u,s,d,l){var f=8&t;t|=f?c:h,4&(t&=~(f?h:c))||(t&=-4);var p=[e,t,o,f?a:i,f?u:i,f?i:a,f?i:u,s,d,l],g=n.apply(i,p);return xo(e)&&Go(g,p),g.placeholder=r,Fo(g,e,t)}function Zi(e){var t=Le[e];return function(e,n){if(e=yu(e),(n=null==n?0:_n(gu(n),292))&&_t(e)){var r=(bu(e)+"e").split("e");return+((r=(bu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=Cn&&1/ln(new Cn([,-0]))[1]==f?function(e){return new Cn(e)}:cs;function Xi(e){return function(t){var n=vo(t);return n==A?cn(t):n==R?fn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,f,p,g,v){var y=2&t;if(!y&&"function"!=typeof e)throw new Re(o);var m=a?a.length:0;if(m||(t&=-97,a=f=i),g=g===i?g:bn(gu(g),0),v=v===i?v:gu(v),m-=f?f.length:0,t&h){var b=a,_=f;a=f=i}var w=y?i:ao(e),E=[e,t,n,a,f,b,_,p,g,v];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?Ci(c,s,t[4]):s,e[4]=c?dn(e[3],u):t[4]}(s=t[5])&&(c=e[5],e[5]=c?Ti(c,s,t[6]):s,e[6]=c?dn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&d&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,w),e=E[0],t=E[1],n=E[2],a=E[3],f=E[4],!(v=E[9]=E[9]===i?y?0:e.length:bn(E[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==s?function(e,t,n){var o=Ui(e);return function a(){for(var u=arguments.length,s=r(u),c=u,h=so(a);c--;)s[c]=arguments[c];var d=u<3&&s[0]!==h&&s[u-1]!==h?[]:dn(s,h);return(u-=d.length)<n?Ki(e,t,Bi,a.placeholder,i,s,d,i,i,n-u):St(this&&this!==gt&&this instanceof a?o:e,this,s)}}(e,t,v):t!=c&&33!=t||f.length?Bi.apply(i,E):function(e,t,n,i){var o=1&t,a=Ui(e);return function t(){for(var u=-1,s=arguments.length,c=-1,h=i.length,d=r(h+s),l=this&&this!==gt&&this instanceof t?a:e;++c<h;)d[c]=i[c];for(;s--;)d[c++]=arguments[++u];return St(l,o?n:this,d)}}(e,t,n,a);else var x=function(e,t,n){var r=1&t,i=Ui(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Fo((w?ti:Go)(x,E),e,t)}function Qi(e,t,n,r){return e===i||Ba(e,Ne[n])&&!Ie.call(r,n)?t:e}function eo(e,t,n,r,o,a){return tu(e)&&tu(t)&&(a.set(t,e),Wr(e,t,i,eo,a),a.delete(t)),e}function to(e){return ou(e)?i:e}function no(e,t,n,r,o,a){var u=1&n,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var l=-1,f=!0,p=2&n?new Zn:i;for(a.set(e,t),a.set(t,e);++l<s;){var g=e[l],v=t[l];if(r)var y=u?r(v,g,l,t,e,a):r(g,v,l,e,t,a);if(y!==i){if(y)continue;f=!1;break}if(p){if(!Mt(t,(function(e,t){if(!tn(p,t)&&(g===e||o(g,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(g!==v&&!o(g,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function ro(e){return No(Co(e,i,qo),e+"")}function io(e){return Ar(e,Du,po)}function oo(e){return Ar(e,Nu,go)}var ao=Gn?function(e){return Gn.get(e)}:cs;function uo(e){for(var t=e.name+"",n=Dn[t],r=Ie.call(Dn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Ie.call(Bn,"placeholder")?Bn:e).placeholder}function co(){var e=Bn.iteratee||os;return e=e===os?Ir:e,arguments.length?e(arguments[0],arguments[1]):e}function ho(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function lo(e){for(var t=Du(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Lo(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Or(n)?n:i}var po=yt?function(e){return null==e?[]:(e=Se(e),Dt(yt(e),(function(t){return Ze.call(e,t)})))}:vs,go=yt?function(e){for(var t=[];e;)It(t,po(e)),e=Ye(e);return t}:vs,vo=Lr;function yo(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&eu(i)&&_o(a,i)&&(Va(e)||Ha(e))}function mo(e){return"function"!=typeof e.constructor||Ao(e)?{}:jn(Ye(e))}function bo(e){return Va(e)||Ha(e)||!!(Xe&&e&&e[Xe])}function _o(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!tu(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&_o(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function Eo(e,t){if(Va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Se(t))}function xo(e){var t=uo(e),n=Bn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(An&&vo(new An(new ArrayBuffer(1)))!=O||Ln&&vo(new Ln)!=A||Sn&&vo(Sn.resolve())!=C||Cn&&vo(new Cn)!=R||Tn&&vo(new Tn)!=N)&&(vo=function(e){var t=Lr(e),n=t==S?e.constructor:i,r=n?Mo(n):"";if(r)switch(r){case Nn:return O;case Fn:return A;case On:return C;case In:return R;case zn:return N}return t});var ko=Fe?Ja:ys;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Lo(e){return e==e&&!tu(e)}function So(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Se(n)))}}function Co(e,t,n){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=bn(i.length-t,0),u=r(a);++o<a;)u[o]=i[t+o];o=-1;for(var s=r(t+1);++o<t;)s[o]=i[o];return s[t]=n(u),St(e,this,s)}}function To(e,t){return t.length<2?e:kr(e,ii(t,0,-1))}function Ro(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Go=Oo(ti),Do=ft||function(e,t){return gt.setTimeout(e,t)},No=Oo(ni);function Fo(e,t,n){var r=t+"";return No(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(y,(function(n){var r="_."+n[0];t&n[1]&&!Nt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(he):[]}(r),n)))}function Oo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Io(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Zr(n,o),u=e[a];e[a]=e[n],e[n]=u}return e.length=t,e}var zo=function(e){var t=Oa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||cu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Oe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Po(e){if(e instanceof Vn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Xr((function(e,t){return Ka(e)?lr(e,mr(t,1,Ka,!0)):[]})),jo=Xr((function(e,t){var n=Xo(t);return Ka(n)&&(n=i),Ka(e)?lr(e,mr(t,1,Ka,!0),co(n,2)):[]})),Wo=Xr((function(e,t){var n=Xo(t);return Ka(n)&&(n=i),Ka(e)?lr(e,mr(t,1,Ka,!0),i,n):[]}));function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=bn(r+i,0)),jt(e,co(t,3),i)}function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gu(n),o=n<0?bn(r+o,0):_n(o,r-1)),jt(e,co(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?mr(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var Ko=Xr((function(e){var t=Ot(e,mi);return t.length&&t[0]===e[0]?Rr(t):[]})),Zo=Xr((function(e){var t=Xo(e),n=Ot(e,mi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Rr(n,co(t,2)):[]})),$o=Xr((function(e){var t=Xo(e),n=Ot(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Xr(Qo);function Qo(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var ea=ro((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Kr(e,Ot(t,(function(e){return _o(e,n)?+e:e})).sort(Si)),r}));function ta(e){return null==e?e:kn.call(e)}var na=Xr((function(e){return di(mr(e,1,Ka,!0))})),ra=Xr((function(e){var t=Xo(e);return Ka(t)&&(t=i),di(mr(e,1,Ka,!0),co(t,2))})),ia=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,di(mr(e,1,Ka,!0),i,t)}));function oa(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Xt(t,(function(t){return Ot(e,Yt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=oa(e);return null==t?n:Ot(n,(function(e){return St(t,i,e)}))}var ua=Xr((function(e,t){return Ka(e)?lr(e,t):[]})),sa=Xr((function(e){return vi(Dt(e,Ka))})),ca=Xr((function(e){var t=Xo(e);return Ka(t)&&(t=i),vi(Dt(e,Ka),co(t,2))})),ha=Xr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,vi(Dt(e,Ka),i,t)})),da=Xr(oa);var la=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,aa(e,n)}));function fa(e){var t=Bn(e);return t.__chain__=!0,t}function pa(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&_o(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:pa,args:[o],thisArg:i}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var va=Di((function(e,t,n){Ie.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Mi(Ho),ma=Mi(Vo);function ba(e,t){return(Va(e)?Tt:fr)(e,co(t,3))}function _a(e,t){return(Va(e)?Rt:pr)(e,co(t,3))}var wa=Di((function(e,t,n){Ie.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ea=Xr((function(e,t,n){var i=-1,o="function"==typeof t,a=Ya(e)?r(e.length):[];return fr(e,(function(e){a[++i]=o?St(t,e,n):Gr(e,t,n)})),a})),xa=Di((function(e,t,n){ar(e,n,t)}));function ka(e,t){return(Va(e)?Ot:Pr)(e,co(t,3))}var Aa=Di((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var La=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),Sa=ht||function(){return gt.Date.now()};function Ca(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Re(o);return e=gu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ra=Xr((function(e,t,n){var r=1;if(n.length){var i=dn(n,so(Ra));r|=c}return Ji(e,r,t,n,i)})),Ga=Xr((function(e,t,n){var r=3;if(n.length){var i=dn(n,so(Ga));r|=c}return Ji(t,r,e,n,i)}));function Da(e,t,n){var r,a,u,s,c,h,d=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new Re(o);function g(t){var n=r,o=a;return r=a=i,d=t,s=e.apply(o,n)}function v(e){var n=e-h;return h===i||n>=t||n<0||f&&e-d>=u}function y(){var e=Sa();if(v(e))return m(e);c=Do(y,function(e){var n=t-(e-h);return f?_n(n,u-(e-d)):n}(e))}function m(e){return c=i,p&&r?g(e):(r=a=i,s)}function b(){var e=Sa(),n=v(e);if(r=arguments,a=this,h=e,n){if(c===i)return function(e){return d=e,c=Do(y,t),l?g(e):s}(h);if(f)return xi(c),c=Do(y,t),g(h)}return c===i&&(c=Do(y,t)),s}return t=yu(t)||0,tu(n)&&(l=!!n.leading,u=(f="maxWait"in n)?bn(yu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),d=0,r=h=a=c=i},b.flush=function(){return c===i?s:m(Sa())},b}var Na=Xr((function(e,t){return dr(e,1,t)})),Fa=Xr((function(e,t,n){return dr(e,yu(t)||0,n)}));function Oa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Oa.Cache||Kn),n}function Ia(e){if("function"!=typeof e)throw new Re(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Oa.Cache=Kn;var za=wi((function(e,t){var n=(t=1==t.length&&Va(t[0])?Ot(t[0],Qt(co())):Ot(mr(t,1),Qt(co()))).length;return Xr((function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),Ua=Xr((function(e,t){var n=dn(t,so(Ua));return Ji(e,c,i,t,n)})),Ma=Xr((function(e,t){var n=dn(t,so(Ma));return Ji(e,h,i,t,n)})),Pa=ro((function(e,t){return Ji(e,l,i,i,i,t)}));function Ba(e,t){return e===t||e!=e&&t!=t}var ja=Yi(Sr),Wa=Yi((function(e,t){return e>=t})),Ha=Dr(function(){return arguments}())?Dr:function(e){return nu(e)&&Ie.call(e,"callee")&&!Ze.call(e,"callee")},Va=r.isArray,qa=wt?Qt(wt):function(e){return nu(e)&&Lr(e)==F};function Ya(e){return null!=e&&eu(e.length)&&!Ja(e)}function Ka(e){return nu(e)&&Ya(e)}var Za=bt||ys,$a=Et?Qt(Et):function(e){return nu(e)&&Lr(e)==w};function Xa(e){if(!nu(e))return!1;var t=Lr(e);return t==E||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Ja(e){if(!tu(e))return!1;var t=Lr(e);return t==x||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==gu(e)}function eu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function tu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function nu(e){return null!=e&&"object"==typeof e}var ru=xt?Qt(xt):function(e){return nu(e)&&vo(e)==A};function iu(e){return"number"==typeof e||nu(e)&&Lr(e)==L}function ou(e){if(!nu(e)||Lr(e)!=S)return!1;var t=Ye(e);if(null===t)return!0;var n=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Oe.call(n)==Pe}var au=kt?Qt(kt):function(e){return nu(e)&&Lr(e)==T};var uu=At?Qt(At):function(e){return nu(e)&&vo(e)==R};function su(e){return"string"==typeof e||!Va(e)&&nu(e)&&Lr(e)==G}function cu(e){return"symbol"==typeof e||nu(e)&&Lr(e)==D}var hu=Lt?Qt(Lt):function(e){return nu(e)&&eu(e.length)&&!!st[Lr(e)]};var du=Yi(Mr),lu=Yi((function(e,t){return e<=t}));function fu(e){if(!e)return[];if(Ya(e))return su(e)?gn(e):Ri(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vo(e);return(t==A?cn:t==R?ln:Bu)(e)}function pu(e){return e?(e=yu(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gu(e){var t=pu(e),n=t%1;return t==t?n?t-n:t:0}function vu(e){return e?sr(gu(e),0,v):0}function yu(e){if("number"==typeof e)return e;if(cu(e))return g;if(tu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=tu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ye.test(e);return n||be.test(e)?lt(e.slice(2),n?2:8):ve.test(e)?g:+e}function mu(e){return Gi(e,Nu(e))}function bu(e){return null==e?"":hi(e)}var _u=Ni((function(e,t){if(Ao(t)||Ya(t))Gi(t,Du(t),e);else for(var n in t)Ie.call(t,n)&&nr(e,n,t[n])})),wu=Ni((function(e,t){Gi(t,Nu(t),e)})),Eu=Ni((function(e,t,n,r){Gi(t,Nu(t),e,r)})),xu=Ni((function(e,t,n,r){Gi(t,Du(t),e,r)})),ku=ro(ur);var Au=Xr((function(e,t){e=Se(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],u=Nu(a),s=-1,c=u.length;++s<c;){var h=u[s],d=e[h];(d===i||Ba(d,Ne[h])&&!Ie.call(e,h))&&(e[h]=a[h])}return e})),Lu=Xr((function(e){return e.push(i,eo),St(Ou,i,e)}));function Su(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Cu(e,t){return null!=e&&yo(e,t,Tr)}var Tu=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),ts(is)),Ru=ji((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ie.call(e,t)?e[t].push(n):e[t]=[n]}),co),Gu=Xr(Gr);function Du(e){return Ya(e)?Xn(e):zr(e)}function Nu(e){return Ya(e)?Xn(e,!0):Ur(e)}var Fu=Ni((function(e,t,n){Wr(e,t,n)})),Ou=Ni((function(e,t,n,r){Wr(e,t,n,r)})),Iu=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Gi(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)li(n,t[i]);return n}));var zu=ro((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Cu(e,n)}))}(e,t)}));function Uu(e,t){if(null==e)return{};var n=Ot(oo(e),(function(e){return[e]}));return t=co(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Mu=Xi(Du),Pu=Xi(Nu);function Bu(e){return null==e?[]:en(e,Du(e))}var ju=zi((function(e,t,n){return t=t.toLowerCase(),e+(n?Wu(t):t)}));function Wu(e){return Xu(bu(e).toLowerCase())}function Hu(e){return(e=bu(e))&&e.replace(we,on).replace(tt,"")}var Vu=zi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qu=zi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Yu=Ii("toLowerCase");var Ku=zi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Zu=zi((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var $u=zi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Ii("toUpperCase");function Ju(e,t,n){return e=bu(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qu=Xr((function(e,t){try{return St(e,i,t)}catch(n){return Xa(n)?n:new ke(n)}})),es=ro((function(e,t){return Tt(t,(function(t){t=Uo(t),ar(e,t,Ra(e[t],e))})),e}));function ts(e){return function(){return e}}var ns=Pi(),rs=Pi(!0);function is(e){return e}function os(e){return Ir("function"==typeof e?e:cr(e,1))}var as=Xr((function(e,t){return function(n){return Gr(n,e,t)}})),us=Xr((function(e,t){return function(n){return Gr(e,n,t)}}));function ss(e,t,n){var r=Du(t),i=xr(t,r);null!=n||tu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,Du(t)));var o=!(tu(n)&&"chain"in n&&!n.chain),a=Ja(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ri(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function cs(){}var hs=Hi(Ot),ds=Hi(Gt),ls=Hi(Mt);function fs(e){return Eo(e)?Yt(Uo(e)):function(e){return function(t){return kr(t,e)}}(e)}var ps=qi(),gs=qi(!0);function vs(){return[]}function ys(){return!1}var ms=Wi((function(e,t){return e+t}),0),bs=Zi("ceil"),_s=Wi((function(e,t){return e/t}),1),ws=Zi("floor");var Es,xs=Wi((function(e,t){return e*t}),1),ks=Zi("round"),As=Wi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Re(o);return e=gu(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ca,Bn.assign=_u,Bn.assignIn=wu,Bn.assignInWith=Eu,Bn.assignWith=xu,Bn.at=ku,Bn.before=Ta,Bn.bind=Ra,Bn.bindAll=es,Bn.bindKey=Ga,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Va(e)?e:[e]},Bn.chain=fa,Bn.chunk=function(e,t,n){t=(n?wo(e,t,n):t===i)?1:bn(gu(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,u=0,s=r(pt(o/t));a<o;)s[u++]=ii(e,a,a+=t);return s},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Va(n)?Ri(n):[n],mr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Re(o);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Du(e);return function(n){return hr(n,e,t)}}(cr(e,1))},Bn.constant=ts,Bn.countBy=va,Bn.create=function(e,t){var n=jn(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Ji(t,s,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Da,Bn.defaults=Au,Bn.defaultsDeep=Lu,Bn.defer=Na,Bn.delay=Fa,Bn.difference=Bo,Bn.differenceBy=jo,Bn.differenceWith=Wo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gu(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gu(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gu(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gu(r))<0&&(r+=o),r=n>r?0:vu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Va(e)?Dt:yr)(e,co(t,3))},Bn.flatMap=function(e,t){return mr(ka(e,t),1)},Bn.flatMapDeep=function(e,t){return mr(ka(e,t),f)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:gu(n),mr(ka(e,t),n)},Bn.flatten=qo,Bn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,f):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:gu(t)):[]},Bn.flip=function(e){return Ji(e,512)},Bn.flow=ns,Bn.flowRight=rs,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,Du(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Nu(e))},Bn.groupBy=wa,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Ko,Bn.intersectionBy=Zo,Bn.intersectionWith=$o,Bn.invert=Tu,Bn.invertBy=Ru,Bn.invokeMap=Ea,Bn.iteratee=os,Bn.keyBy=xa,Bn.keys=Du,Bn.keysIn=Nu,Bn.map=ka,Bn.mapKeys=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return jr(e,cr(t,1))},Bn.memoize=Oa,Bn.merge=Fu,Bn.mergeWith=Ou,Bn.method=as,Bn.methodOf=us,Bn.mixin=ss,Bn.negate=Ia,Bn.nthArg=function(e){return e=gu(e),Xr((function(t){return Hr(t,e)}))},Bn.omit=Iu,Bn.omitBy=function(e,t){return Uu(e,Ia(co(t)))},Bn.once=function(e){return Ta(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Va(t)||(t=null==t?[]:[t]),Va(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Bn.over=hs,Bn.overArgs=za,Bn.overEvery=ds,Bn.overSome=ls,Bn.partial=Ua,Bn.partialRight=Ma,Bn.partition=Aa,Bn.pick=zu,Bn.pickBy=Uu,Bn.property=fs,Bn.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},Bn.pull=Jo,Bn.pullAll=Qo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,co(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,i,n):e},Bn.pullAt=ea,Bn.range=ps,Bn.rangeRight=gs,Bn.rearg=Pa,Bn.reject=function(e,t){return(Va(e)?Dt:yr)(e,Ia(co(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Kr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Re(o);return Xr(e,t=t===i?t:gu(t))},Bn.reverse=ta,Bn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gu(t),(Va(e)?Qn:Qr)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Va(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:gu(t),n=n===i?r:gu(n)),ii(e,t,n)):[]},Bn.sortBy=La,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,co(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?v:n>>>0)?(e=bu(e))&&("string"==typeof t||null!=t&&!au(t))&&!(t=hi(t))&&sn(e)?Ei(gn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Re(o);return t=null==t?0:bn(gu(t),0),Xr((function(n){var r=n[t],i=Ei(n,0,t);return r&&It(i,r),St(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gu(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gu(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Re(o);return tu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Da(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=pa,Bn.toArray=fu,Bn.toPairs=Mu,Bn.toPairsIn=Pu,Bn.toPath=function(e){return Va(e)?Ot(e,Uo):cu(e)?[e]:Ri(zo(bu(e)))},Bn.toPlainObject=mu,Bn.transform=function(e,t,n){var r=Va(e),i=r||Za(e)||hu(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:tu(e)&&Ja(o)?jn(Ye(e)):{}}return(i?Tt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ca(e,1)},Bn.union=na,Bn.unionBy=ra,Bn.unionWith=ia,Bn.uniq=function(e){return e&&e.length?di(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?di(e,co(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?di(e,i,t):[]},Bn.unset=function(e,t){return null==e||li(e,t)},Bn.unzip=oa,Bn.unzipWith=aa,Bn.update=function(e,t,n){return null==e?e:fi(e,t,bi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:fi(e,t,bi(n),r)},Bn.values=Bu,Bn.valuesIn=function(e){return null==e?[]:en(e,Nu(e))},Bn.without=ua,Bn.words=Ju,Bn.wrap=function(e,t){return Ua(bi(t),e)},Bn.xor=sa,Bn.xorBy=ca,Bn.xorWith=ha,Bn.zip=da,Bn.zipObject=function(e,t){return yi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Bn.zipWith=la,Bn.entries=Mu,Bn.entriesIn=Pu,Bn.extend=wu,Bn.extendWith=Eu,ss(Bn,Bn),Bn.add=ms,Bn.attempt=Qu,Bn.camelCase=ju,Bn.capitalize=Wu,Bn.ceil=bs,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=yu(n))==n?n:0),t!==i&&(t=(t=yu(t))==t?t:0),sr(yu(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||hr(e,t,Du(t))},Bn.deburr=Hu,Bn.defaultTo=function(e,t){return null==e||e!=e?t:e},Bn.divide=_s,Bn.endsWith=function(e,t,n){e=bu(e),t=hi(t);var r=e.length,o=n=n===i?r:sr(gu(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Ba,Bn.escape=function(e){return(e=bu(e))&&X.test(e)?e.replace(Z,an):e},Bn.escapeRegExp=function(e){return(e=bu(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Va(e)?Gt:gr;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.find=ya,Bn.findIndex=Ho,Bn.findKey=function(e,t){return Bt(e,co(t,3),wr)},Bn.findLast=ma,Bn.findLastIndex=Vo,Bn.findLastKey=function(e,t){return Bt(e,co(t,3),Er)},Bn.floor=ws,Bn.forEach=ba,Bn.forEachRight=_a,Bn.forIn=function(e,t){return null==e?e:br(e,co(t,3),Nu)},Bn.forInRight=function(e,t){return null==e?e:_r(e,co(t,3),Nu)},Bn.forOwn=function(e,t){return e&&wr(e,co(t,3))},Bn.forOwnRight=function(e,t){return e&&Er(e,co(t,3))},Bn.get=Su,Bn.gt=ja,Bn.gte=Wa,Bn.has=function(e,t){return null!=e&&yo(e,t,Cr)},Bn.hasIn=Cu,Bn.head=Yo,Bn.identity=is,Bn.includes=function(e,t,n,r){e=Ya(e)?e:Bu(e),n=n&&!r?gu(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),su(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=bn(r+i,0)),Wt(e,t,i)},Bn.inRange=function(e,t,n){return t=pu(t),n===i?(n=t,t=0):n=pu(n),function(e,t,n){return e>=_n(t,n)&&e<bn(t,n)}(e=yu(e),t,n)},Bn.invoke=Gu,Bn.isArguments=Ha,Bn.isArray=Va,Bn.isArrayBuffer=qa,Bn.isArrayLike=Ya,Bn.isArrayLikeObject=Ka,Bn.isBoolean=function(e){return!0===e||!1===e||nu(e)&&Lr(e)==_},Bn.isBuffer=Za,Bn.isDate=$a,Bn.isElement=function(e){return nu(e)&&1===e.nodeType&&!ou(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Va(e)||"string"==typeof e||"function"==typeof e.splice||Za(e)||hu(e)||Ha(e)))return!e.length;var t=vo(e);if(t==A||t==R)return!e.size;if(Ao(e))return!zr(e).length;for(var n in e)if(Ie.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Nr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Nr(e,t,i,n):!!r},Bn.isError=Xa,Bn.isFinite=function(e){return"number"==typeof e&&_t(e)},Bn.isFunction=Ja,Bn.isInteger=Qa,Bn.isLength=eu,Bn.isMap=ru,Bn.isMatch=function(e,t){return e===t||Fr(e,t,lo(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Fr(e,t,lo(t),n)},Bn.isNaN=function(e){return iu(e)&&e!=+e},Bn.isNative=function(e){if(ko(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=iu,Bn.isObject=tu,Bn.isObjectLike=nu,Bn.isPlainObject=ou,Bn.isRegExp=au,Bn.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=uu,Bn.isString=su,Bn.isSymbol=cu,Bn.isTypedArray=hu,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return nu(e)&&vo(e)==N},Bn.isWeakSet=function(e){return nu(e)&&"[object WeakSet]"==Lr(e)},Bn.join=function(e,t){return null==e?"":Pt.call(e,t)},Bn.kebabCase=Vu,Bn.last=Xo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gu(n))<0?bn(r+o,0):_n(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):jt(e,Vt,o,!0)},Bn.lowerCase=qu,Bn.lowerFirst=Yu,Bn.lt=du,Bn.lte=lu,Bn.max=function(e){return e&&e.length?vr(e,is,Sr):i},Bn.maxBy=function(e,t){return e&&e.length?vr(e,co(t,2),Sr):i},Bn.mean=function(e){return qt(e,is)},Bn.meanBy=function(e,t){return qt(e,co(t,2))},Bn.min=function(e){return e&&e.length?vr(e,is,Mr):i},Bn.minBy=function(e,t){return e&&e.length?vr(e,co(t,2),Mr):i},Bn.stubArray=vs,Bn.stubFalse=ys,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=xs,Bn.nth=function(e,t){return e&&e.length?Hr(e,gu(t)):i},Bn.noConflict=function(){return gt._===this&&(gt._=Be),this},Bn.noop=cs,Bn.now=Sa,Bn.pad=function(e,t,n){e=bu(e);var r=(t=gu(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(vt(i),n)+e+Vi(pt(i),n)},Bn.padEnd=function(e,t,n){e=bu(e);var r=(t=gu(t))?pn(e):0;return t&&r<t?e+Vi(t-r,n):e},Bn.padStart=function(e,t,n){e=bu(e);var r=(t=gu(t))?pn(e):0;return t&&r<t?Vi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),En(bu(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=pu(e),t===i?(t=e,e=0):t=pu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=xn();return _n(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Zr(e,t)},Bn.reduce=function(e,t,n){var r=Va(e)?zt:Zt,i=arguments.length<3;return r(e,co(t,4),n,i,fr)},Bn.reduceRight=function(e,t,n){var r=Va(e)?Ut:Zt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gu(t),$r(bu(e),t)},Bn.replace=function(){var e=arguments,t=bu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Bn.round=ks,Bn.runInContext=e,Bn.sample=function(e){return(Va(e)?Jn:Jr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ya(e))return su(e)?pn(e):e.length;var t=vo(e);return t==A||t==R?e.size:zr(e).length},Bn.snakeCase=Ku,Bn.some=function(e,t,n){var r=Va(e)?Mt:oi;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return ui(e,t,co(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ui(e,t,co(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Bn.startCase=Zu,Bn.startsWith=function(e,t,n){return e=bu(e),n=null==n?0:sr(gu(n),0,e.length),t=hi(t),e.slice(n,n+t.length)==t},Bn.subtract=As,Bn.sum=function(e){return e&&e.length?$t(e,is):0},Bn.sumBy=function(e,t){return e&&e.length?$t(e,co(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wo(e,t,n)&&(t=i),e=bu(e),t=Eu({},t,r,Qi);var o,a,u=Eu({},t.imports,r.imports,Qi),s=Du(u),c=en(u,s),h=0,d=t.interpolate||Ee,l="__p += '",f=Ce((t.escape||Ee).source+"|"+d.source+"|"+(d===ee?pe:Ee).source+"|"+(t.evaluate||Ee).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ut+"]")+"\n";e.replace(f,(function(t,n,r,i,u,s){return r||(r=i),l+=e.slice(h,s).replace(xe,un),n&&(o=!0,l+="' +\n__e("+n+") +\n'"),u&&(a=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=s+t.length,t})),l+="';\n";var g=Ie.call(t,"variable")&&t.variable;if(g){if(le.test(g))throw new ke("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(a?l.replace(V,""):l).replace(q,"$1").replace(Y,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=Qu((function(){return Ae(s,p+"return "+l).apply(i,c)}));if(v.source=l,Xa(v))throw v;return v},Bn.times=function(e,t){if((e=gu(e))<1||e>p)return[];var n=v,r=_n(e,v);t=co(t),e-=v;for(var i=Xt(r,t);++n<e;)t(n);return i},Bn.toFinite=pu,Bn.toInteger=gu,Bn.toLength=vu,Bn.toLower=function(e){return bu(e).toLowerCase()},Bn.toNumber=yu,Bn.toSafeInteger=function(e){return e?sr(gu(e),-9007199254740991,p):0===e?e:0},Bn.toString=bu,Bn.toUpper=function(e){return bu(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bu(e))&&(n||t===i))return Jt(e);if(!e||!(t=hi(t)))return e;var r=gn(e),o=gn(t);return Ei(r,nn(r,o),rn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=hi(t)))return e;var r=gn(e);return Ei(r,0,rn(r,gn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bu(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=hi(t)))return e;var r=gn(e);return Ei(r,nn(r,gn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(tu(t)){var o="separator"in t?t.separator:o;n="length"in t?gu(t.length):n,r="omission"in t?hi(t.omission):r}var a=(e=bu(e)).length;if(sn(e)){var u=gn(e);a=u.length}if(n>=a)return e;var s=n-pn(r);if(s<1)return r;var c=u?Ei(u,0,s).join(""):e.slice(0,s);if(o===i)return c+r;if(u&&(s+=c.length-s),au(o)){if(e.slice(s).search(o)){var h,d=c;for(o.global||(o=Ce(o.source,bu(ge.exec(o))+"g")),o.lastIndex=0;h=o.exec(d);)var l=h.index;c=c.slice(0,l===i?s:l)}}else if(e.indexOf(hi(o),s)!=s){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Bn.unescape=function(e){return(e=bu(e))&&$.test(e)?e.replace(K,yn):e},Bn.uniqueId=function(e){var t=++ze;return bu(e)+t},Bn.upperCase=$u,Bn.upperFirst=Xu,Bn.each=ba,Bn.eachRight=_a,Bn.first=Yo,ss(Bn,(Es={},wr(Bn,(function(e,t){Ie.call(Bn.prototype,t)||(Es[t]=e)})),Es),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:bn(gu(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(is)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Gr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Ia(co(e)))},Vn.prototype.slice=function(e,t){e=gu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(v)},wr(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Vn,c=u[0],h=s||Va(t),d=function(e){var t=o.apply(Bn,It([e],u));return r&&l?t[0]:t};h&&n&&"function"==typeof c&&1!=c.length&&(s=h=!1);var l=this.__chain__,f=!!this.__actions__.length,p=a&&!l,g=s&&!f;if(!a&&h){t=g?t:new Vn(this);var v=e.apply(t,u);return v.__actions__.push({func:pa,args:[d],thisArg:i}),new Hn(v,l)}return p&&g?e.apply(this,u):(v=this.thru(d),p?r?v.value()[0]:v.value():v)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ge[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Va(i)?i:[],e)}return this[n]((function(n){return t.apply(Va(n)?n:[],e)}))}})),wr(Vn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Ie.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:t,func:n})}})),Dn[Bi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Va(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=_n(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,h=this.__iteratees__,d=h.length,l=0,f=_n(s,this.__takeCount__);if(!n||!r&&i==s&&f==s)return gi(e,this.__actions__);var p=[];e:for(;s--&&l<f;){for(var g=-1,v=e[c+=t];++g<d;){var y=h[g],m=y.iteratee,b=y.type,_=m(v);if(2==b)v=_;else if(!_){if(1==b)continue e;break e}}p[l++]=v}return p},Bn.prototype.at=ga,Bn.prototype.chain=function(){return fa(this)},Bn.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=fu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Po(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:pa,args:[ta],thisArg:i}),new Hn(t,this.__chain__)}return this.thru(ta)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();gt._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},2768:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{_:()=>o,a:()=>r,b:()=>i,c:()=>m,f:()=>g,g:()=>b,i:()=>y});var a={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};var u=new Int8Array(4),s=new Int32Array(u.buffer,0,1),c=new Float32Array(u.buffer,0,1),h=/^\s*rgba?\s*\(/,d=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;var l={};for(var f in a)l[f]=g(a[f]),l[a[f]]=l[f];function p(e,t,n,r,i){return s[0]=r<<24|n<<16|t<<8|e,i&&(s[0]=4278190079&s[0]),c[0]}function g(e){if(e=e.toLowerCase(),void 0!==l[e])return l[e];var t=function(e){var t=0,n=0,r=0,i=1;if("#"===e[0])4===e.length?(t=parseInt(e.charAt(1)+e.charAt(1),16),n=parseInt(e.charAt(2)+e.charAt(2),16),r=parseInt(e.charAt(3)+e.charAt(3),16)):(t=parseInt(e.charAt(1)+e.charAt(2),16),n=parseInt(e.charAt(3)+e.charAt(4),16),r=parseInt(e.charAt(5)+e.charAt(6),16)),9===e.length&&(i=parseInt(e.charAt(7)+e.charAt(8),16)/255);else if(h.test(e)){var o=e.match(d);o&&(t=+o[1],n=+o[2],r=+o[3],o[4]&&(i=+o[4]))}return{r:t,g:n,b:r,a:i}}(e),n=t.r,r=t.g,i=t.b,o=t.a,a=p(n,r,i,o=255*o|0,!0);return l[e]=a,a}var v={};function y(e){if(void 0!==v[e])return v[e];var t=p((16711680&e)>>>16,(65280&e)>>>8,255&e,255,!0);return v[e]=t,t}function m(e,t,n,r){return n+(t<<8)+(e<<16)}function b(e,t,n,r,i,a){var u=Math.floor(n/a*i),s=Math.floor(e.drawingBufferHeight/a-r/a*i),c=new Uint8Array(4);e.bindFramebuffer(e.FRAMEBUFFER,t),e.readPixels(u,s,1,1,e.RGBA,e.UNSIGNED_BYTE,c);var h=o(c,4);return[h[0],h[1],h[2],h[3]]}},8503:(e,t,n)=>{"use strict";n.d(t,{E:()=>P,N:()=>E,_:()=>o,a:()=>u,b:()=>v,c:()=>y,d:()=>g,e:()=>O,f:()=>f,g:()=>p});var r=n(2164),i=n(2768);function o(e,t,n){return(t=(0,r.t)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){var r="VERTEX"===e?t.VERTEX_SHADER:t.FRAGMENT_SHADER,i=t.createShader(r);if(null===i)throw new Error("loadShader: error while creating the shader");if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(i);throw t.deleteShader(i),new Error("loadShader: error while compiling the shader:\n".concat(o,"\n").concat(n))}return i}var c="#define PICKING_MODE\n",h=o(o(o(o(o(o(o(o({},WebGL2RenderingContext.BOOL,1),WebGL2RenderingContext.BYTE,1),WebGL2RenderingContext.UNSIGNED_BYTE,1),WebGL2RenderingContext.SHORT,2),WebGL2RenderingContext.UNSIGNED_SHORT,2),WebGL2RenderingContext.INT,4),WebGL2RenderingContext.UNSIGNED_INT,4),WebGL2RenderingContext.FLOAT,4);function d(e){var t=0;return e.forEach((function(e){return t+=function(e){return e.normalized?1:e.size}(e)})),t}var l=function(){function e(t,n,i){(0,r.a)(this,e),o(this,"array",new Float32Array),o(this,"constantArray",new Float32Array),o(this,"capacity",0),o(this,"verticesCount",0);var a=this.getDefinition();if(this.VERTICES=a.VERTICES,this.VERTEX_SHADER_SOURCE=a.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=a.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=a.UNIFORMS,this.ATTRIBUTES=a.ATTRIBUTES,this.METHOD=a.METHOD,this.CONSTANT_ATTRIBUTES="CONSTANT_ATTRIBUTES"in a?a.CONSTANT_ATTRIBUTES:[],this.CONSTANT_DATA="CONSTANT_DATA"in a?a.CONSTANT_DATA:[],this.isInstanced="CONSTANT_ATTRIBUTES"in a,this.ATTRIBUTES_ITEMS_COUNT=d(this.ATTRIBUTES),this.STRIDE=this.VERTICES*this.ATTRIBUTES_ITEMS_COUNT,this.renderer=i,this.normalProgram=this.getProgramInfo("normal",t,a.VERTEX_SHADER_SOURCE,a.FRAGMENT_SHADER_SOURCE,null),this.pickProgram=n?this.getProgramInfo("pick",t,c+a.VERTEX_SHADER_SOURCE,c+a.FRAGMENT_SHADER_SOURCE,n):null,this.isInstanced){var u=d(this.CONSTANT_ATTRIBUTES);if(this.CONSTANT_DATA.length!==this.VERTICES)throw new Error("Program: error while getting constant data (expected ".concat(this.VERTICES," items, received ").concat(this.CONSTANT_DATA.length," instead)"));this.constantArray=new Float32Array(this.CONSTANT_DATA.length*u);for(var s=0;s<this.CONSTANT_DATA.length;s++){var h=this.CONSTANT_DATA[s];if(h.length!==u)throw new Error("Program: error while getting constant data (one vector has ".concat(h.length," items instead of ").concat(u,")"));for(var l=0;l<h.length;l++)this.constantArray[s*u+l]=h[l]}this.STRIDE=this.ATTRIBUTES_ITEMS_COUNT}}return(0,r.d)(e,[{key:"getProgramInfo",value:function(e,t,n,r,i){var o=this.getDefinition(),a=t.createBuffer();if(null===a)throw new Error("Program: error while creating the WebGL buffer.");var u=function(e,t){return s("VERTEX",e,t)}(t,n),c=function(e,t){return s("FRAGMENT",e,t)}(t,r),h=function(e,t){var n,r,i=e.createProgram();if(null===i)throw new Error("loadProgram: error while creating the program.");for(n=0,r=t.length;n<r;n++)e.attachShader(i,t[n]);if(e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw e.deleteProgram(i),new Error("loadProgram: error while linking the program.");return i}(t,[u,c]),d={};o.UNIFORMS.forEach((function(e){var n=t.getUniformLocation(h,e);n&&(d[e]=n)}));var l,f={};if(o.ATTRIBUTES.forEach((function(e){f[e.name]=t.getAttribLocation(h,e.name)})),"CONSTANT_ATTRIBUTES"in o&&(o.CONSTANT_ATTRIBUTES.forEach((function(e){f[e.name]=t.getAttribLocation(h,e.name)})),null===(l=t.createBuffer())))throw new Error("Program: error while creating the WebGL constant buffer.");return{name:e,program:h,gl:t,frameBuffer:i,buffer:a,constantBuffer:l||{},uniformLocations:d,attributeLocations:f,isPicking:"pick"===e}}},{key:"bindProgram",value:function(e){var t=this,n=0,r=e.gl,i=e.buffer;this.isInstanced?(r.bindBuffer(r.ARRAY_BUFFER,e.constantBuffer),n=0,this.CONSTANT_ATTRIBUTES.forEach((function(r){return n+=t.bindAttribute(r,e,n,!1)})),r.bufferData(r.ARRAY_BUFFER,this.constantArray,r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,e.buffer),n=0,this.ATTRIBUTES.forEach((function(r){return n+=t.bindAttribute(r,e,n,!0)})),r.bufferData(r.ARRAY_BUFFER,this.array,r.DYNAMIC_DRAW)):(r.bindBuffer(r.ARRAY_BUFFER,i),n=0,this.ATTRIBUTES.forEach((function(r){return n+=t.bindAttribute(r,e,n)})),r.bufferData(r.ARRAY_BUFFER,this.array,r.DYNAMIC_DRAW)),r.bindBuffer(r.ARRAY_BUFFER,null)}},{key:"unbindProgram",value:function(e){var t=this;this.isInstanced?(this.CONSTANT_ATTRIBUTES.forEach((function(n){return t.unbindAttribute(n,e,!1)})),this.ATTRIBUTES.forEach((function(n){return t.unbindAttribute(n,e,!0)}))):this.ATTRIBUTES.forEach((function(n){return t.unbindAttribute(n,e)}))}},{key:"bindAttribute",value:function(e,t,n,r){var i=h[e.type];if("number"!=typeof i)throw new Error('Program.bind: yet unsupported attribute type "'.concat(e.type,'"'));var o=t.attributeLocations[e.name],a=t.gl;if(-1!==o){a.enableVertexAttribArray(o);var u=this.isInstanced?(r?this.ATTRIBUTES_ITEMS_COUNT:d(this.CONSTANT_ATTRIBUTES))*Float32Array.BYTES_PER_ELEMENT:this.ATTRIBUTES_ITEMS_COUNT*Float32Array.BYTES_PER_ELEMENT;if(a.vertexAttribPointer(o,e.size,e.type,e.normalized||!1,u,n),this.isInstanced&&r)if(a instanceof WebGL2RenderingContext)a.vertexAttribDivisor(o,1);else{var s=a.getExtension("ANGLE_instanced_arrays");s&&s.vertexAttribDivisorANGLE(o,1)}}return e.size*i}},{key:"unbindAttribute",value:function(e,t,n){var r=t.attributeLocations[e.name],i=t.gl;if(-1!==r&&(i.disableVertexAttribArray(r),this.isInstanced&&n))if(i instanceof WebGL2RenderingContext)i.vertexAttribDivisor(r,0);else{var o=i.getExtension("ANGLE_instanced_arrays");o&&o.vertexAttribDivisorANGLE(r,0)}}},{key:"reallocate",value:function(e){e!==this.capacity&&(this.capacity=e,this.verticesCount=this.VERTICES*e,this.array=new Float32Array(this.isInstanced?this.capacity*this.ATTRIBUTES_ITEMS_COUNT:this.verticesCount*this.ATTRIBUTES_ITEMS_COUNT))}},{key:"hasNothingToRender",value:function(){return 0===this.verticesCount}},{key:"renderProgram",value:function(e,t){var n=t.gl,r=t.program;n.enable(n.BLEND),n.useProgram(r),this.setUniforms(e,t),this.drawWebGL(this.METHOD,t)}},{key:"render",value:function(e){this.hasNothingToRender()||(this.pickProgram&&(this.pickProgram.gl.viewport(0,0,e.width*e.pixelRatio/e.downSizingRatio,e.height*e.pixelRatio/e.downSizingRatio),this.bindProgram(this.pickProgram),this.renderProgram(u(u({},e),{},{pixelRatio:e.pixelRatio/e.downSizingRatio}),this.pickProgram),this.unbindProgram(this.pickProgram)),this.normalProgram.gl.viewport(0,0,e.width*e.pixelRatio,e.height*e.pixelRatio),this.bindProgram(this.normalProgram),this.renderProgram(e,this.normalProgram),this.unbindProgram(this.normalProgram))}},{key:"drawWebGL",value:function(e,t){var n=t.gl,r=t.frameBuffer;if(n.bindFramebuffer(n.FRAMEBUFFER,r),this.isInstanced)if(n instanceof WebGL2RenderingContext)n.drawArraysInstanced(e,0,this.VERTICES,this.capacity);else{var i=n.getExtension("ANGLE_instanced_arrays");i&&i.drawArraysInstancedANGLE(e,0,this.VERTICES,this.capacity)}else n.drawArrays(e,0,this.verticesCount)}}]),e}(),f=function(e){function t(){return(0,r.a)(this,t),(0,r.b)(this,t,arguments)}return(0,r._)(t,e),(0,r.d)(t,[{key:"kill",value:function(){}},{key:"process",value:function(e,t,n){var r=t*this.STRIDE;if(!n.hidden)return this.processVisibleItem((0,i.i)(e),r,n);for(var o=r+this.STRIDE;r<o;r++)this.array[r]=0}}]),t}(l);var p=function(e){function t(){var e;(0,r.a)(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=(0,r.b)(this,t,[].concat(i)),o((0,r.c)(e),"drawLabel",void 0),e}return(0,r._)(t,e),(0,r.d)(t,[{key:"kill",value:function(){}},{key:"process",value:function(e,t,n,r,o){var a=t*this.STRIDE;if(!(o.hidden||n.hidden||r.hidden))return this.processVisibleItem((0,i.i)(e),a,n,r,o);for(var u=a+this.STRIDE;a<u;a++)this.array[a]=0}}]),t}(l);function g(e,t,n,r,i){var o=i.edgeLabelSize,a=i.edgeLabelFont,u=i.edgeLabelWeight,s=i.edgeLabelColor.attribute?t[i.edgeLabelColor.attribute]||i.edgeLabelColor.color||"#000":i.edgeLabelColor.color,c=t.label;if(c){e.fillStyle=s,e.font="".concat(u," ").concat(o,"px ").concat(a);var h,d,l=n.size,f=r.size,p=n.x,g=n.y,v=r.x,y=r.y,m=v-p,b=y-g,_=Math.sqrt(m*m+b*b);if(!(_<l+f)){h=((p+=m*l/_)+(v-=m*f/_))/2,d=((g+=b*l/_)+(y-=b*f/_))/2,m=v-p,b=y-g,_=Math.sqrt(m*m+b*b);var w,E=e.measureText(c).width;if(E>_){for(c+="\u2026",E=e.measureText(c).width;E>_&&c.length>1;)c=c.slice(0,-2)+"\u2026",E=e.measureText(c).width;if(c.length<4)return}w=m>0?b>0?Math.acos(m/_):Math.asin(b/_):b>0?Math.acos(m/_)+Math.PI:Math.asin(m/_)+Math.PI/2,e.save(),e.translate(h,d),e.rotate(w),e.fillText(c,-E/2,t.size/2+o),e.restore()}}}function v(e,t,n){if(t.label){var r=n.labelSize,i=n.labelFont,o=n.labelWeight,a=n.labelColor.attribute?t[n.labelColor.attribute]||n.labelColor.color||"#000":n.labelColor.color;e.fillStyle=a,e.font="".concat(o," ").concat(r,"px ").concat(i),e.fillText(t.label,t.x+t.size+3,t.y+r/3)}}function y(e,t,n){var r=n.labelSize,i=n.labelFont,o=n.labelWeight;e.font="".concat(o," ").concat(r,"px ").concat(i),e.fillStyle="#FFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor="#000";if("string"==typeof t.label){var a=e.measureText(t.label).width,u=Math.round(a+5),s=Math.round(r+4),c=Math.max(t.size,r/2)+2,h=Math.asin(s/2/c),d=Math.sqrt(Math.abs(Math.pow(c,2)-Math.pow(s/2,2)));e.beginPath(),e.moveTo(t.x+d,t.y+s/2),e.lineTo(t.x+c+u,t.y+s/2),e.lineTo(t.x+c+u,t.y-s/2),e.lineTo(t.x+d,t.y-s/2),e.arc(t.x,t.y,c,h,-h),e.closePath(),e.fill()}else e.beginPath(),e.arc(t.x,t.y,t.size+2,0,2*Math.PI),e.closePath(),e.fill();e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,v(e,t,n)}var m=WebGLRenderingContext,b=m.UNSIGNED_BYTE,_=m.FLOAT,w=["u_sizeRatio","u_correctionRatio","u_matrix"],E=function(e){function t(){return(0,r.a)(this,t),(0,r.b)(this,t,arguments)}return(0,r._)(t,e),(0,r.d)(t,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:"\nattribute vec4 a_id;\nattribute vec4 a_color;\nattribute vec2 a_position;\nattribute float a_size;\nattribute float a_angle;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float size = a_size * u_correctionRatio / u_sizeRatio * 4.0;\n  vec2 diffVector = size * vec2(cos(a_angle), sin(a_angle));\n  vec2 position = a_position + diffVector;\n  gl_Position = vec4(\n    (u_matrix * vec3(position, 1)).xy,\n    0,\n    1\n  );\n\n  v_diffVector = diffVector;\n  v_radius = size / 2.0;\n\n  #ifdef PICKING_MODE\n  // For picking mode, we use the ID as the color:\n  v_color = a_id;\n  #else\n  // For normal mode, we use the color:\n  v_color = a_color;\n  #endif\n\n  v_color.a *= bias;\n}\n",FRAGMENT_SHADER_SOURCE:"\nprecision highp float;\n\nvarying vec4 v_color;\nvarying vec2 v_diffVector;\nvarying float v_radius;\n\nuniform float u_correctionRatio;\n\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float border = u_correctionRatio * 2.0;\n  float dist = length(v_diffVector) - v_radius + border;\n\n  // No antialiasing for picking mode:\n  #ifdef PICKING_MODE\n  if (dist > border)\n    gl_FragColor = transparent;\n  else\n    gl_FragColor = v_color;\n\n  #else\n  float t = 0.0;\n  if (dist > border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / border;\n\n  gl_FragColor = mix(v_color, transparent, t);\n  #endif\n}\n",METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:w,ATTRIBUTES:[{name:"a_position",size:2,type:_},{name:"a_size",size:1,type:_},{name:"a_color",size:4,type:b,normalized:!0},{name:"a_id",size:4,type:b,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_angle",size:1,type:_}],CONSTANT_DATA:[[t.ANGLE_1],[t.ANGLE_2],[t.ANGLE_3]]}}},{key:"processVisibleItem",value:function(e,t,n){var r=this.array,o=(0,i.f)(n.color);r[t++]=n.x,r[t++]=n.y,r[t++]=n.size,r[t++]=o,r[t++]=e}},{key:"setUniforms",value:function(e,t){var n=t.gl,r=t.uniformLocations,i=r.u_sizeRatio,o=r.u_correctionRatio,a=r.u_matrix;n.uniform1f(o,e.correctionRatio),n.uniform1f(i,e.sizeRatio),n.uniformMatrix3fv(a,!1,e.matrix)}}]),t}(f);o(E,"ANGLE_1",0),o(E,"ANGLE_2",2*Math.PI/3),o(E,"ANGLE_3",4*Math.PI/3);var x=WebGLRenderingContext,k=x.UNSIGNED_BYTE,A=x.FLOAT,L=["u_matrix","u_sizeRatio","u_correctionRatio"],S=function(e){function t(){return(0,r.a)(this,t),(0,r.b)(this,t,arguments)}return(0,r._)(t,e),(0,r.d)(t,[{key:"getDefinition",value:function(){return{VERTICES:3,VERTEX_SHADER_SOURCE:"\nattribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec3 a_barycentric;\n\n#ifdef PICKING_MODE\nattribute vec4 a_id;\n#else\nattribute vec4 a_color;\n#endif\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (webGLNodeRadius * unitNormal.y)\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-webGLNodeRadius * unitNormal.x)\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  #ifdef PICKING_MODE\n  // For picking mode, we use the ID as the color:\n  v_color = a_id;\n  #else\n  // For normal mode, we use the color:\n  v_color = a_color;\n  #endif\n\n  v_color.a *= bias;\n}\n",FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n",METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:L,ATTRIBUTES:[{name:"a_position",size:2,type:A},{name:"a_normal",size:2,type:A},{name:"a_radius",size:1,type:A},{name:"a_color",size:4,type:k,normalized:!0},{name:"a_id",size:4,type:k,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_barycentric",size:3,type:A}],CONSTANT_DATA:[[1,0,0],[0,1,0],[0,0,1]]}}},{key:"processVisibleItem",value:function(e,t,n,r,o){var a=o.size||1,u=r.size||1,s=n.x,c=n.y,h=r.x,d=r.y,l=(0,i.f)(o.color),f=h-s,p=d-c,g=f*f+p*p,v=0,y=0;g&&(v=-p*(g=1/Math.sqrt(g))*a,y=f*g*a);var m=this.array;m[t++]=h,m[t++]=d,m[t++]=-v,m[t++]=-y,m[t++]=u,m[t++]=l,m[t++]=e}},{key:"setUniforms",value:function(e,t){var n=t.gl,r=t.uniformLocations,i=r.u_matrix,o=r.u_sizeRatio,a=r.u_correctionRatio;n.uniformMatrix3fv(i,!1,e.matrix),n.uniform1f(o,e.sizeRatio),n.uniform1f(a,e.correctionRatio)}}]),t}(p);function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.e)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},C.apply(this,arguments)}var T,R,G=WebGLRenderingContext,D=G.UNSIGNED_BYTE,N=G.FLOAT,F=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio"],O=function(e){function t(){return(0,r.a)(this,t),(0,r.b)(this,t,arguments)}return(0,r._)(t,e),(0,r.d)(t,[{key:"getDefinition",value:function(){return{VERTICES:6,VERTEX_SHADER_SOURCE:'\nattribute vec4 a_id;\nattribute vec4 a_color;\nattribute vec2 a_normal;\nattribute float a_normalCoef;\nattribute vec2 a_positionStart;\nattribute vec2 a_positionEnd;\nattribute float a_positionCoef;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_zoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  vec2 normal = a_normal * a_normalCoef;\n  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;\n\n  float normalLength = length(normal);\n  vec2 unitNormal = normal / normalLength;\n\n  // We require edges to be at least "minThickness" pixels thick *on screen*\n  // (so we need to compensate the size ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasing effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n\n  #ifdef PICKING_MODE\n  // For picking mode, we use the ID as the color:\n  v_color = a_id;\n  #else\n  // For normal mode, we use the color:\n  v_color = a_color;\n  #endif\n\n  v_color.a *= bias;\n}\n',FRAGMENT_SHADER_SOURCE:"\nprecision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  // We only handle antialiasing for normal mode:\n  #ifdef PICKING_MODE\n  gl_FragColor = v_color;\n  #else\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n  #endif\n}\n",METHOD:WebGLRenderingContext.TRIANGLES,UNIFORMS:F,ATTRIBUTES:[{name:"a_positionStart",size:2,type:N},{name:"a_positionEnd",size:2,type:N},{name:"a_normal",size:2,type:N},{name:"a_color",size:4,type:D,normalized:!0},{name:"a_id",size:4,type:D,normalized:!0}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:N},{name:"a_normalCoef",size:1,type:N}],CONSTANT_DATA:[[0,1],[0,-1],[1,1],[1,1],[0,-1],[1,-1]]}}},{key:"processVisibleItem",value:function(e,t,n,r,o){var a=o.size||1,u=n.x,s=n.y,c=r.x,h=r.y,d=(0,i.f)(o.color),l=c-u,f=h-s,p=l*l+f*f,g=0,v=0;p&&(g=-f*(p=1/Math.sqrt(p))*a,v=l*p*a);var y=this.array;y[t++]=u,y[t++]=s,y[t++]=c,y[t++]=h,y[t++]=g,y[t++]=v,y[t++]=d,y[t++]=e}},{key:"setUniforms",value:function(e,t){var n=t.gl,r=t.uniformLocations,i=r.u_matrix,o=r.u_zoomRatio,a=r.u_correctionRatio,u=r.u_sizeRatio;n.uniformMatrix3fv(i,!1,e.matrix),n.uniform1f(o,e.zoomRatio),n.uniform1f(u,e.sizeRatio),n.uniform1f(a,e.correctionRatio)}}]),t}(p),I=WebGLRenderingContext,z=I.UNSIGNED_BYTE,U=I.FLOAT,M=(T=[function(e){function t(){return(0,r.a)(this,t),(0,r.b)(this,t,arguments)}return(0,r._)(t,e),(0,r.d)(t,[{key:"getDefinition",value:function(){return u(u({},C((0,r.e)(t.prototype),"getDefinition",this).call(this)),{},{VERTEX_SHADER_SOURCE:"\nattribute vec4 a_id;\nattribute vec4 a_color;\nattribute vec2 a_normal;\nattribute float a_normalCoef;\nattribute vec2 a_positionStart;\nattribute vec2 a_positionEnd;\nattribute float a_positionCoef;\nattribute float a_radius;\nattribute float a_radiusCoef;\n\nuniform mat3 u_matrix;\nuniform float u_zoomRatio;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float radius = a_radius * a_radiusCoef;\n  vec2 normal = a_normal * a_normalCoef;\n  vec2 position = a_positionStart * (1.0 - a_positionCoef) + a_positionEnd * a_positionCoef;\n\n  float normalLength = length(normal);\n  vec2 unitNormal = normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(radius);\n  float webGLNodeRadius = direction * radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n\n  #ifdef PICKING_MODE\n  // For picking mode, we use the ID as the color:\n  v_color = a_id;\n  #else\n  // For normal mode, we use the color:\n  v_color = a_color;\n  #endif\n\n  v_color.a *= bias;\n}\n",ATTRIBUTES:[{name:"a_positionStart",size:2,type:U},{name:"a_positionEnd",size:2,type:U},{name:"a_normal",size:2,type:U},{name:"a_color",size:4,type:z,normalized:!0},{name:"a_id",size:4,type:z,normalized:!0},{name:"a_radius",size:1,type:U}],CONSTANT_ATTRIBUTES:[{name:"a_positionCoef",size:1,type:U},{name:"a_normalCoef",size:1,type:U},{name:"a_radiusCoef",size:1,type:U}],CONSTANT_DATA:[[0,1,0],[0,-1,0],[1,1,1],[1,1,1],[0,-1,0],[1,-1,-1]]})}},{key:"processVisibleItem",value:function(e,t,n,r,o){var a=o.size||1,u=n.x,s=n.y,c=r.x,h=r.y,d=(0,i.f)(o.color),l=c-u,f=h-s,p=r.size||1,g=l*l+f*f,v=0,y=0;g&&(v=-f*(g=1/Math.sqrt(g))*a,y=l*g*a);var m=this.array;m[t++]=u,m[t++]=s,m[t++]=c,m[t++]=h,m[t++]=v,m[t++]=y,m[t++]=d,m[t++]=e,m[t++]=p}}]),t}(O),S],function(){function e(t,n,i){(0,r.a)(this,e),o(this,"drawLabel",R),this.programs=T.map((function(e){return new e(t,n,i)}))}return(0,r.d)(e,[{key:"reallocate",value:function(e){this.programs.forEach((function(t){return t.reallocate(e)}))}},{key:"process",value:function(e,t,n,r,i){this.programs.forEach((function(o){return o.process(e,t,n,r,i)}))}},{key:"render",value:function(e){this.programs.forEach((function(t){return t.render(e)}))}},{key:"kill",value:function(){this.programs.forEach((function(e){return e.kill()}))}}]),e}()),P=M},2164:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t=u(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(e,s()?Reflect.construct(t,n||[],u(e).constructor):t.apply(e,n))}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}n.d(t,{_:()=>l,a:()=>r,b:()=>h,c:()=>c,d:()=>a,e:()=>u,t:()=>i})},4202:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,a:()=>b,b:()=>y,c:()=>E,d:()=>v,e:()=>a,f:()=>p,g:()=>_,h:()=>s,i:()=>c,m:()=>g,v:()=>m,z:()=>w});var r=n(181),i=n.n(r),o=n(2768),a={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},u={easing:"quadraticInOut",duration:150};function s(e,t,n,r){var i=Object.assign({},u,n),o="function"==typeof i.easing?i.easing:a[i.easing],s=Date.now(),c={};for(var h in t){var d=t[h];for(var l in c[h]={},d)c[h][l]=e.getNodeAttribute(h,l)}var f=null;return function n(){f=null;var a=(Date.now()-s)/i.duration;if(a>=1){for(var u in t){var h=t[u];for(var d in h)e.setNodeAttribute(u,d,h[d])}"function"==typeof r&&r()}else{for(var l in a=o(a),t){var p=t[l],g=c[l];for(var v in p)e.setNodeAttribute(l,v,p[v]*a+g[v]*(1-a))}f=requestAnimationFrame(n)}}(),function(){f&&cancelAnimationFrame(f)}}function c(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function h(e,t,n){return e[0]=t,e[4]="number"==typeof n?n:t,e}function d(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[3]=-n,e[4]=r,e}function l(e,t,n){return e[6]=t,e[7]=n,e}function f(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],h=e[8],d=t[0],l=t[1],f=t[2],p=t[3],g=t[4],v=t[5],y=t[6],m=t[7],b=t[8];return e[0]=d*n+l*o+f*s,e[1]=d*r+l*a+f*c,e[2]=d*i+l*u+f*h,e[3]=p*n+g*o+v*s,e[4]=p*r+g*a+v*c,e[5]=p*i+g*u+v*h,e[6]=y*n+m*o+b*s,e[7]=y*r+m*a+b*c,e[8]=y*i+m*u+b*h,e}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e[0],i=e[1],o=e[3],a=e[4],u=e[6],s=e[7],c=t.x,h=t.y;return{x:c*r+h*o+u*n,y:c*i+h*a+s*n}}function g(e,t,n,r,i){var o=e.angle,a=e.ratio,u=e.x,s=e.y,p=t.width,g=t.height,v=c(),y=Math.min(p,g)-2*r,m=function(e,t){var n=e.height/e.width,r=t.height/t.width;return n<1&&r>1||n>1&&r<1?1:Math.min(Math.max(r,1/r),Math.max(1/n,n))}(t,n);return i?(f(v,l(c(),u,s)),f(v,h(c(),a)),f(v,d(c(),o)),f(v,h(c(),p/y/2/m,g/y/2/m))):(f(v,h(c(),y/p*2*m,y/g*2*m)),f(v,d(c(),-o)),f(v,h(c(),1/a)),f(v,l(c(),-u,-s))),v}function v(e,t,n){var r=p(e,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),i=r.x,o=r.y;return 1/Math.sqrt(Math.pow(i,2)+Math.pow(o,2))/n.width}function y(e){if(!e.order)return{x:[0,1],y:[0,1]};var t=1/0,n=-1/0,r=1/0,i=-1/0;return e.forEachNode((function(e,o){var a=o.x,u=o.y;a<t&&(t=a),a>n&&(n=a),u<r&&(r=u),u>i&&(i=u)})),{x:[t,n],y:[r,i]}}function m(e){if(!i()(e))throw new Error("Sigma: invalid graph instance.");e.forEachNode((function(e,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(e," are invalid. A node must have a numeric 'x' and 'y' attribute."))}))}function b(e,t,n){var r=document.createElement(e);if(t)for(var i in t)r.style[i]=t[i];if(n)for(var o in n)r.setAttribute(o,n[o]);return r}function _(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1}function w(e,t,n){return n.sort((function(e,n){var r=t(e)||0,i=t(n)||0;return r<i?-1:r>i?1:0}))}function E(e){var t=(0,o._)(e.x,2),n=t[0],r=t[1],i=(0,o._)(e.y,2),a=i[0],u=i[1],s=Math.max(r-n,u-a),c=(r+n)/2,h=(u+a)/2;(0===s||Math.abs(s)===1/0||isNaN(s))&&(s=1),isNaN(c)&&(c=0),isNaN(h)&&(h=0);var d=function(e){return{x:.5+(e.x-c)/s,y:.5+(e.y-h)/s}};return d.applyTo=function(e){e.x=.5+(e.x-c)/s,e.y=.5+(e.y-h)/s},d.inverse=function(e){return{x:c+s*(e.x-.5),y:h+s*(e.y-.5)}},d.ratio=s,d}},4160:(e,t,n)=>{"use strict";n.d(t,{UT:()=>T});var r=n(2164),i=n(8503),o=function(e){function t(){var e;return(0,r.a)(this,t),(e=(0,r.b)(this,t)).rawEmitter=(0,r.c)(e),e}return(0,r._)(t,e),(0,r.d)(t)}(n(46).EventEmitter),a=n(4202),u=n(2768);function s(e,t){var n=t.size;if(0!==n){var r=e.length;e.length+=n;var i=0;t.forEach((function(t){e[r+i]=t,i++}))}}function c(e){e=e||{};for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;t++){var r=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];r&&Object.assign(e,r)}return e}var h={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",defaultDrawEdgeLabel:i.d,defaultDrawNodeLabel:i.b,defaultDrawNodeHover:i.c,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},d={circle:i.N},l={arrow:i.E,line:i.e};function f(e){if("number"!=typeof e.labelDensity||e.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=e.minCameraRatio,n=e.maxCameraRatio;if("number"==typeof t&&"number"==typeof n&&n<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}n(181);var p=1.5,g=function(e){function t(){var e;return(0,r.a)(this,t),e=(0,r.b)(this,t),(0,i._)((0,r.c)(e),"x",.5),(0,i._)((0,r.c)(e),"y",.5),(0,i._)((0,r.c)(e),"angle",0),(0,i._)((0,r.c)(e),"ratio",1),(0,i._)((0,r.c)(e),"minRatio",null),(0,i._)((0,r.c)(e),"maxRatio",null),(0,i._)((0,r.c)(e),"nextFrame",null),(0,i._)((0,r.c)(e),"previousState",null),(0,i._)((0,r.c)(e),"enabled",!0),e.previousState=e.getState(),e}return(0,r._)(t,e),(0,r.d)(t,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"hasState",value:function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle}},{key:"getPreviousState",value:function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null}},{key:"getBoundedRatio",value:function(e){var t=e;return"number"==typeof this.minRatio&&(t=Math.max(t,this.minRatio)),"number"==typeof this.maxRatio&&(t=Math.min(t,this.maxRatio)),t}},{key:"validateState",value:function(e){var t={};return"number"==typeof e.x&&(t.x=e.x),"number"==typeof e.y&&(t.y=e.y),"number"==typeof e.angle&&(t.angle=e.angle),"number"==typeof e.ratio&&(t.ratio=this.getBoundedRatio(e.ratio)),t}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"setState",value:function(e){if(!this.enabled)return this;this.previousState=this.getState();var t=this.validateState(e);return"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y),"number"==typeof t.angle&&(this.angle=t.angle),"number"==typeof t.ratio&&(this.ratio=t.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this}},{key:"updateState",value:function(e){return this.setState(e(this.getState())),this}},{key:"animate",value:function(e,t,n){var r=this;if(this.enabled){var i=Object.assign({},a.A,t),o=this.validateState(e),u="function"==typeof i.easing?i.easing:a.e[i.easing],s=Date.now(),c=this.getState(),h=function e(){var t=(Date.now()-s)/i.duration;if(t>=1)return r.nextFrame=null,r.setState(o),void(r.animationCallback&&(r.animationCallback.call(null),r.animationCallback=void 0));var n=u(t),a={};"number"==typeof o.x&&(a.x=c.x+(o.x-c.x)*n),"number"==typeof o.y&&(a.y=c.y+(o.y-c.y)*n),"number"==typeof o.angle&&(a.angle=c.angle+(o.angle-c.angle)*n),"number"==typeof o.ratio&&(a.ratio=c.ratio+(o.ratio-c.ratio)*n),r.setState(a),r.nextFrame=requestAnimationFrame(e)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=requestAnimationFrame(h)):h(),this.animationCallback=n}}},{key:"animatedZoom",value:function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio/e});this.animate({ratio:this.ratio/(e.factor||p)},e)}else this.animate({ratio:this.ratio/p})}},{key:"animatedUnzoom",value:function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio*e});this.animate({ratio:this.ratio*(e.factor||p)},e)}else this.animate({ratio:this.ratio*p})}},{key:"animatedReset",value:function(e){this.animate({x:.5,y:.5,ratio:1,angle:0},e)}},{key:"copy",value:function(){return t.from(this.getState())}}],[{key:"from",value:function(e){return(new t).setState(e)}}]),t}(o);function v(e,t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function y(e,t){var n=(0,i.a)((0,i.a)({},v(e,t)),{},{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){n.sigmaDefaultPrevented=!0},original:e});return n}var m=2;function b(e){for(var t=[],n=0,r=Math.min(e.length,m);n<r;n++)t.push(e[n]);return t}function _(e,t){return{touches:b(e.touches).map((function(e){return v(e,t)})),original:e}}function w(e){if(void 0!==e.deltaY)return-3*e.deltaY/360;if(void 0!==e.detail)return e.detail/-9;throw new Error("Captor: could not extract delta from event.")}var E=function(e){function t(e,n){var i;return(0,r.a)(this,t),(i=(0,r.b)(this,t)).container=e,i.renderer=n,i}return(0,r._)(t,e),(0,r.d)(t)}(o),x=function(e){function t(e,n){var o;return(0,r.a)(this,t),o=(0,r.b)(this,t,[e,n]),(0,i._)((0,r.c)(o),"enabled",!0),(0,i._)((0,r.c)(o),"draggedEvents",0),(0,i._)((0,r.c)(o),"downStartTime",null),(0,i._)((0,r.c)(o),"lastMouseX",null),(0,i._)((0,r.c)(o),"lastMouseY",null),(0,i._)((0,r.c)(o),"isMouseDown",!1),(0,i._)((0,r.c)(o),"isMoving",!1),(0,i._)((0,r.c)(o),"movingTimeout",null),(0,i._)((0,r.c)(o),"startCameraState",null),(0,i._)((0,r.c)(o),"clicks",0),(0,i._)((0,r.c)(o),"doubleClickTimeout",null),(0,i._)((0,r.c)(o),"currentWheelDirection",0),o.handleClick=o.handleClick.bind((0,r.c)(o)),o.handleRightClick=o.handleRightClick.bind((0,r.c)(o)),o.handleDown=o.handleDown.bind((0,r.c)(o)),o.handleUp=o.handleUp.bind((0,r.c)(o)),o.handleMove=o.handleMove.bind((0,r.c)(o)),o.handleWheel=o.handleWheel.bind((0,r.c)(o)),o.handleLeave=o.handleLeave.bind((0,r.c)(o)),o.handleEnter=o.handleEnter.bind((0,r.c)(o)),e.addEventListener("click",o.handleClick,!1),e.addEventListener("contextmenu",o.handleRightClick,!1),e.addEventListener("mousedown",o.handleDown,!1),e.addEventListener("wheel",o.handleWheel,!1),e.addEventListener("mouseleave",o.handleLeave,!1),e.addEventListener("mouseenter",o.handleEnter,!1),document.addEventListener("mousemove",o.handleMove,!1),document.addEventListener("mouseup",o.handleUp,!1),o}return(0,r._)(t,e),(0,r.d)(t,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseleave",this.handleLeave),e.removeEventListener("mouseenter",this.handleEnter),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(e){var t=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout((function(){t.clicks=0,t.doubleClickTimeout=null}),300),this.draggedEvents<3&&this.emit("click",y(e,this.container))}}},{key:"handleRightClick",value:function(e){this.enabled&&this.emit("rightClick",y(e,this.container))}},{key:"handleDoubleClick",value:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t=y(e,this.container);if(this.emit("doubleClick",t),!t.sigmaDefaultPrevented){var n=this.renderer.getCamera(),r=n.getBoundedRatio(n.getState().ratio/2.2);n.animate(this.renderer.getViewportZoomedState(v(e,this.container),r),{easing:"quadraticInOut",duration:200})}}}},{key:"handleDown",value:function(e){if(this.enabled){if(0===e.button){this.startCameraState=this.renderer.getCamera().getState();var t=v(e,this.container),n=t.x,r=t.y;this.lastMouseX=n,this.lastMouseY=r,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",y(e,this.container))}}},{key:"handleUp",value:function(e){var t=this;if(this.enabled&&this.isMouseDown){var n=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var r=v(e,this.container),i=r.x,o=r.y,a=n.getState(),u=n.getPreviousState()||{x:0,y:0};this.isMoving?n.animate({x:a.x+3*(a.x-u.x),y:a.y+3*(a.y-u.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===i&&this.lastMouseY===o||n.setState({x:a.x,y:a.y}),this.isMoving=!1,setTimeout((function(){var e=t.draggedEvents>0;t.draggedEvents=0,e&&t.renderer.refresh()}),0),this.emit("mouseup",y(e,this.container))}}},{key:"handleMove",value:function(e){var t=this;if(this.enabled){var n=y(e,this.container);if(this.emit("mousemovebody",n),e.target===this.container&&this.emit("mousemove",n),!n.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){t.movingTimeout=null,t.isMoving=!1}),100);var r=this.renderer.getCamera(),i=v(e,this.container),o=i.x,a=i.y,u=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),s=this.renderer.viewportToFramedGraph({x:o,y:a}),c=u.x-s.x,h=u.y-s.y,d=r.getState(),l=d.x+c,f=d.y+h;r.setState({x:l,y:f}),this.lastMouseX=o,this.lastMouseY=a,e.preventDefault(),e.stopPropagation()}}}},{key:"handleLeave",value:function(e){this.emit("mouseleave",y(e,this.container))}},{key:"handleEnter",value:function(e){this.emit("mouseenter",y(e,this.container))}},{key:"handleWheel",value:function(e){var t=this;if(this.enabled){e.preventDefault(),e.stopPropagation();var n=w(e);if(n){var r=function(e,t){return(0,i.a)((0,i.a)({},y(e,t)),{},{delta:w(e)})}(e,this.container);if(this.emit("wheel",r),!r.sigmaDefaultPrevented){var o=n>0?1/1.7:1.7,a=this.renderer.getCamera(),u=a.getBoundedRatio(a.getState().ratio*o),s=n>0?1:-1,c=Date.now();this.currentWheelDirection===s&&this.lastWheelTriggerTime&&c-this.lastWheelTriggerTime<50||(a.animate(this.renderer.getViewportZoomedState(v(e,this.container),u),{easing:"quadraticOut",duration:250},(function(){t.currentWheelDirection=0})),this.currentWheelDirection=s,this.lastWheelTriggerTime=c)}}}}}]),t}(E),k=function(e){function t(e,n){var o;return(0,r.a)(this,t),o=(0,r.b)(this,t,[e,n]),(0,i._)((0,r.c)(o),"enabled",!0),(0,i._)((0,r.c)(o),"isMoving",!1),(0,i._)((0,r.c)(o),"hasMoved",!1),(0,i._)((0,r.c)(o),"touchMode",0),(0,i._)((0,r.c)(o),"startTouchesPositions",[]),o.handleStart=o.handleStart.bind((0,r.c)(o)),o.handleLeave=o.handleLeave.bind((0,r.c)(o)),o.handleMove=o.handleMove.bind((0,r.c)(o)),e.addEventListener("touchstart",o.handleStart,!1),e.addEventListener("touchend",o.handleLeave,!1),e.addEventListener("touchcancel",o.handleLeave,!1),e.addEventListener("touchmove",o.handleMove,!1),o}return(0,r._)(t,e),(0,r.d)(t,[{key:"kill",value:function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchend",this.handleLeave),e.removeEventListener("touchcancel",this.handleLeave),e.removeEventListener("touchmove",this.handleMove)}},{key:"getDimensions",value:function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}}},{key:"dispatchRelatedMouseEvent",value:function(e,t,n,r){var i=n||t.touches[0],o=new MouseEvent(e,{clientX:i.clientX,clientY:i.clientY,altKey:t.altKey,ctrlKey:t.ctrlKey});o.isFakeSigmaMouseEvent=!0,(r||this.container).dispatchEvent(o)}},{key:"handleStart",value:function(e){var t=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousedown",e);var n=b(e.touches);if(this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map((function(e){return v(e,t.container)})),this.lastTouches=n,this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var r=(0,u._)(this.startTouchesPositions,2),i=r[0],o=i.x,a=i.y,s=r[1],c=s.x,h=s.y;this.startTouchesAngle=Math.atan2(h-a,c-o),this.startTouchesDistance=Math.sqrt(Math.pow(c-o,2)+Math.pow(h-a,2))}this.emit("touchdown",_(e,this.container))}}},{key:"handleLeave",value:function(e){if(this.enabled){switch(e.preventDefault(),0===e.touches.length&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",e,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",e,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===e.touches.length){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var t=this.renderer.getCamera(),n=t.getState(),r=t.getPreviousState()||{x:0,y:0};t.animate({x:n.x+3*(n.x-r.x),y:n.y+3*(n.y-r.y)},{duration:200,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0}this.emit("touchup",_(e,this.container))}}},{key:"handleMove",value:function(e){var t=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousemove",e);var n=b(e.touches),r=n.map((function(e){return v(e,t.container)}));if(this.lastTouches=n,this.lastTouchesPositions=r,this.hasMoved||(this.hasMoved=r.some((function(e,n){var r=t.startTouchesPositions[n];return e.x!==r.x||e.y!==r.y}))),this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){t.isMoving=!1}),200);var i=this.renderer.getCamera(),o=this.startCameraState;switch(this.touchMode){case 1:var a=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),u=a.x,s=a.y,c=this.renderer.viewportToFramedGraph(r[0]),h=c.x,d=c.y;i.setState({x:o.x+u-h,y:o.y+s-d});break;case 2:var l={},f=r[0],p=f.x,g=f.y,y=r[1],m=y.x,w=y.y,E=Math.atan2(w-g,m-p)-this.startTouchesAngle,x=Math.hypot(w-g,m-p)/this.startTouchesDistance,k=i.getBoundedRatio(o.ratio/x);l.ratio=k,l.angle=o.angle+E;var A=this.getDimensions(),L=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:o}),S=Math.min(A.width,A.height),C=k/S,T=p-S/2/(S/A.width),R=g-S/2/(S/A.height),G=[T*Math.cos(-l.angle)-R*Math.sin(-l.angle),R*Math.cos(-l.angle)+T*Math.sin(-l.angle)];T=G[0],R=G[1],l.x=L.x-T*C,l.y=L.y+R*C,i.setState(l)}this.emit("touchmove",_(e,this.container))}}}}]),t}(E);function A(e){return function(e){if(Array.isArray(e))return(0,u.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,u.b)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(){function e(t,n){(0,r.a)(this,e),this.key=t,this.size=n}return(0,r.d)(e,null,[{key:"compare",value:function(e,t){return e.size>t.size?-1:e.size<t.size||e.key>t.key?1:-1}}]),e}(),S=function(){function e(){(0,r.a)(this,e),(0,i._)(this,"width",0),(0,i._)(this,"height",0),(0,i._)(this,"cellSize",0),(0,i._)(this,"columns",0),(0,i._)(this,"rows",0),(0,i._)(this,"cells",{})}return(0,r.d)(e,[{key:"resizeAndClear",value:function(e,t){this.width=e.width,this.height=e.height,this.cellSize=t,this.columns=Math.ceil(e.width/t),this.rows=Math.ceil(e.height/t),this.cells={}}},{key:"getIndex",value:function(e){var t=Math.floor(e.x/this.cellSize);return Math.floor(e.y/this.cellSize)*this.columns+t}},{key:"add",value:function(e,t,n){var r=new L(e,t),i=this.getIndex(n),o=this.cells[i];o||(o=[],this.cells[i]=o),o.push(r)}},{key:"organize",value:function(){for(var e in this.cells){this.cells[e].sort(L.compare)}}},{key:"getLabelsToDisplay",value:function(e,t){var n=this.cellSize*this.cellSize,r=n/e/e*t/n,i=Math.ceil(r),o=[];for(var a in this.cells)for(var u=this.cells[a],s=0;s<Math.min(i,u.length);s++)o.push(u[s].key);return o}}]),e}();var C=Object.prototype.hasOwnProperty;var T=function(e){function t(e,n){var o,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,r.a)(this,t),o=(0,r.b)(this,t),(0,i._)((0,r.c)(o),"elements",{}),(0,i._)((0,r.c)(o),"canvasContexts",{}),(0,i._)((0,r.c)(o),"webGLContexts",{}),(0,i._)((0,r.c)(o),"pickingLayers",new Set),(0,i._)((0,r.c)(o),"textures",{}),(0,i._)((0,r.c)(o),"frameBuffers",{}),(0,i._)((0,r.c)(o),"activeListeners",{}),(0,i._)((0,r.c)(o),"labelGrid",new S),(0,i._)((0,r.c)(o),"nodeDataCache",{}),(0,i._)((0,r.c)(o),"edgeDataCache",{}),(0,i._)((0,r.c)(o),"nodeProgramIndex",{}),(0,i._)((0,r.c)(o),"edgeProgramIndex",{}),(0,i._)((0,r.c)(o),"nodesWithForcedLabels",new Set),(0,i._)((0,r.c)(o),"edgesWithForcedLabels",new Set),(0,i._)((0,r.c)(o),"nodeExtent",{x:[0,1],y:[0,1]}),(0,i._)((0,r.c)(o),"nodeZExtent",[1/0,-1/0]),(0,i._)((0,r.c)(o),"edgeZExtent",[1/0,-1/0]),(0,i._)((0,r.c)(o),"matrix",(0,a.i)()),(0,i._)((0,r.c)(o),"invMatrix",(0,a.i)()),(0,i._)((0,r.c)(o),"correctionRatio",1),(0,i._)((0,r.c)(o),"customBBox",null),(0,i._)((0,r.c)(o),"normalizationFunction",(0,a.c)({x:[0,1],y:[0,1]})),(0,i._)((0,r.c)(o),"graphToViewportRatio",1),(0,i._)((0,r.c)(o),"itemIDsIndex",{}),(0,i._)((0,r.c)(o),"nodeIndices",{}),(0,i._)((0,r.c)(o),"edgeIndices",{}),(0,i._)((0,r.c)(o),"width",0),(0,i._)((0,r.c)(o),"height",0),(0,i._)((0,r.c)(o),"pixelRatio",(0,a.g)()),(0,i._)((0,r.c)(o),"pickingDownSizingRatio",2*o.pixelRatio),(0,i._)((0,r.c)(o),"displayedNodeLabels",new Set),(0,i._)((0,r.c)(o),"displayedEdgeLabels",new Set),(0,i._)((0,r.c)(o),"highlightedNodes",new Set),(0,i._)((0,r.c)(o),"hoveredNode",null),(0,i._)((0,r.c)(o),"hoveredEdge",null),(0,i._)((0,r.c)(o),"renderFrame",null),(0,i._)((0,r.c)(o),"renderHighlightedNodesFrame",null),(0,i._)((0,r.c)(o),"needToProcess",!1),(0,i._)((0,r.c)(o),"checkEdgesEventsFrame",null),(0,i._)((0,r.c)(o),"nodePrograms",{}),(0,i._)((0,r.c)(o),"nodeHoverPrograms",{}),(0,i._)((0,r.c)(o),"edgePrograms",{}),o.settings=function(e){var t=c({},h,e);return t.nodeProgramClasses=c({},d,t.nodeProgramClasses),t.edgeProgramClasses=c({},l,t.edgeProgramClasses),t}(u),f(o.settings),(0,a.v)(e),!(n instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var s in o.graph=e,o.container=n,o.createWebGLContext("edges",{picking:u.enableEdgeEvents}),o.createCanvasContext("edgeLabels"),o.createWebGLContext("nodes",{picking:!0}),o.createCanvasContext("labels"),o.createCanvasContext("hovers"),o.createWebGLContext("hoverNodes"),o.createCanvasContext("mouse"),o.resize(),o.settings.nodeProgramClasses){var p=o.settings.nodeProgramClasses[s];o.nodePrograms[s]=new p(o.webGLContexts.nodes,o.frameBuffers.nodes,(0,r.c)(o));var v=p;s in o.settings.nodeHoverProgramClasses&&(v=o.settings.nodeHoverProgramClasses[s]),o.nodeHoverPrograms[s]=new v(o.webGLContexts.hoverNodes,null,(0,r.c)(o))}for(var y in o.settings.edgeProgramClasses){var m=o.settings.edgeProgramClasses[y];o.edgePrograms[y]=new m(o.webGLContexts.edges,o.frameBuffers.edges,(0,r.c)(o))}return o.camera=new g,o.bindCameraHandlers(),o.mouseCaptor=new x(o.elements.mouse,(0,r.c)(o)),o.touchCaptor=new k(o.elements.mouse,(0,r.c)(o)),o.bindEventHandlers(),o.bindGraphHandlers(),o.handleSettingsUpdate(),o.refresh(),o}return(0,r._)(t,e),(0,r.d)(t,[{key:"createCanvas",value:function(e){var t=(0,a.a)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=t,this.container.appendChild(t),t}},{key:"createCanvasContext",value:function(e){var t=this.createCanvas(e);return this.canvasContexts[e]=t.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this}},{key:"createWebGLContext",value:function(e,t){var n=this.createCanvas(e);null!=t&&t.hidden&&n.remove();var r,o=(0,i.a)({preserveDrawingBuffer:!1,antialias:!1},t||{});(r=n.getContext("webgl2",o))||(r=n.getContext("webgl",o)),r||(r=n.getContext("experimental-webgl",o));var a=r;if(this.webGLContexts[e]=a,a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),null!=t&&t.picking){this.pickingLayers.add(e);var u=a.createFramebuffer();if(!u)throw new Error("Sigma: cannot create a new frame buffer for layer ".concat(e));this.frameBuffers[e]=u}return this}},{key:"resetWebGLTexture",value:function(e){var t=this.webGLContexts[e],n=this.frameBuffers[e],r=this.textures[e];r&&t.deleteTexture(r);var i=t.createTexture();return t.bindFramebuffer(t.FRAMEBUFFER,n),t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),this.textures[e]=i,this}},{key:"bindCameraHandlers",value:function(){var e=this;return this.activeListeners.camera=function(){e.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this}},{key:"unbindCameraHandlers",value:function(){return this.camera.removeListener("updated",this.activeListeners.camera),this}},{key:"getNodeAtPosition",value:function(e){var t=e.x,n=e.y,r=(0,u.g)(this.webGLContexts.nodes,this.frameBuffers.nodes,t,n,this.pixelRatio,this.pickingDownSizingRatio),i=u.c.apply(void 0,A(r)),o=this.itemIDsIndex[i];return o&&"node"===o.type?o.id:null}},{key:"bindEventHandlers",value:function(){var e=this;this.activeListeners.handleResize=function(){e.scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(t){var n={event:t,preventSigmaDefault:function(){t.preventSigmaDefault()}},r=e.getNodeAtPosition(t);if(r&&e.hoveredNode!==r&&!e.nodeDataCache[r].hidden)return e.hoveredNode&&e.emit("leaveNode",(0,i.a)((0,i.a)({},n),{},{node:e.hoveredNode})),e.hoveredNode=r,e.emit("enterNode",(0,i.a)((0,i.a)({},n),{},{node:r})),void e.scheduleHighlightedNodesRender();if(e.hoveredNode&&e.getNodeAtPosition(t)!==e.hoveredNode){var o=e.hoveredNode;return e.hoveredNode=null,e.emit("leaveNode",(0,i.a)((0,i.a)({},n),{},{node:o})),void e.scheduleHighlightedNodesRender()}if(e.settings.enableEdgeEvents){var a=e.hoveredNode?null:e.getEdgeAtPoint(n.event.x,n.event.y);a!==e.hoveredEdge&&(e.hoveredEdge&&e.emit("leaveEdge",(0,i.a)((0,i.a)({},n),{},{edge:e.hoveredEdge})),a&&e.emit("enterEdge",(0,i.a)((0,i.a)({},n),{},{edge:a})),e.hoveredEdge=a)}},this.activeListeners.handleLeave=function(t){var n={event:t,preventSigmaDefault:function(){t.preventSigmaDefault()}};e.hoveredNode&&(e.emit("leaveNode",(0,i.a)((0,i.a)({},n),{},{node:e.hoveredNode})),e.scheduleHighlightedNodesRender()),e.settings.enableEdgeEvents&&e.hoveredEdge&&(e.emit("leaveEdge",(0,i.a)((0,i.a)({},n),{},{edge:e.hoveredEdge})),e.scheduleHighlightedNodesRender()),e.emit("leaveStage",(0,i.a)({},n))},this.activeListeners.handleEnter=function(t){var n={event:t,preventSigmaDefault:function(){t.preventSigmaDefault()}};e.emit("enterStage",(0,i.a)({},n))};var t=function(t){return function(n){var r={event:n,preventSigmaDefault:function(){n.preventSigmaDefault()}},o=n.original.isFakeSigmaMouseEvent?e.getNodeAtPosition(n):e.hoveredNode;if(o)return e.emit("".concat(t,"Node"),(0,i.a)((0,i.a)({},r),{},{node:o}));if(e.settings.enableEdgeEvents){var a=e.getEdgeAtPoint(n.x,n.y);if(a)return e.emit("".concat(t,"Edge"),(0,i.a)((0,i.a)({},r),{},{edge:a}))}return e.emit("".concat(t,"Stage"),r)}};return this.activeListeners.handleClick=t("click"),this.activeListeners.handleRightClick=t("rightClick"),this.activeListeners.handleDoubleClick=t("doubleClick"),this.activeListeners.handleWheel=t("wheel"),this.activeListeners.handleDown=t("down"),this.activeListeners.handleUp=t("up"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this.mouseCaptor.on("mouseup",this.activeListeners.handleUp),this.mouseCaptor.on("mouseleave",this.activeListeners.handleLeave),this.mouseCaptor.on("mouseenter",this.activeListeners.handleEnter),this}},{key:"bindGraphHandlers",value:function(){var e=this,t=this.graph,n=new Set(["x","y","zIndex","type"]);return this.activeListeners.eachNodeAttributesUpdatedGraphUpdate=function(r){var i,o=null===(i=r.hints)||void 0===i?void 0:i.attributes;e.graph.forEachNode((function(t){return e.updateNode(t)}));var a=!o||o.some((function(e){return n.has(e)}));e.refresh({partialGraph:{nodes:t.nodes()},skipIndexation:!a,schedule:!0})},this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate=function(n){var r,i=null===(r=n.hints)||void 0===r?void 0:r.attributes;e.graph.forEachEdge((function(t){return e.updateEdge(t)}));var o=i&&["zIndex","type"].some((function(e){return null==i?void 0:i.includes(e)}));e.refresh({partialGraph:{edges:t.edges()},skipIndexation:!o,schedule:!0})},this.activeListeners.addNodeGraphUpdate=function(t){var n=t.key;e.addNode(n),e.refresh({partialGraph:{nodes:[n]},skipIndexation:!1,schedule:!0})},this.activeListeners.updateNodeGraphUpdate=function(t){var n=t.key;e.refresh({partialGraph:{nodes:[n]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropNodeGraphUpdate=function(t){var n=t.key;e.removeNode(n),e.refresh({schedule:!0})},this.activeListeners.addEdgeGraphUpdate=function(t){var n=t.key;e.addEdge(n),e.refresh({partialGraph:{edges:[n]},schedule:!0})},this.activeListeners.updateEdgeGraphUpdate=function(t){var n=t.key;e.refresh({partialGraph:{edges:[n]},skipIndexation:!1,schedule:!0})},this.activeListeners.dropEdgeGraphUpdate=function(t){var n=t.key;e.removeEdge(n),e.refresh({schedule:!0})},this.activeListeners.clearEdgesGraphUpdate=function(){e.clearEdgeState(),e.clearEdgeIndices(),e.refresh({schedule:!0})},this.activeListeners.clearGraphUpdate=function(){e.clearEdgeState(),e.clearNodeState(),e.clearEdgeIndices(),e.clearNodeIndices(),e.refresh({schedule:!0})},t.on("nodeAdded",this.activeListeners.addNodeGraphUpdate),t.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.on("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),t.on("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),t.on("edgeAdded",this.activeListeners.addEdgeGraphUpdate),t.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.on("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),t.on("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),t.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.on("cleared",this.activeListeners.clearGraphUpdate),this}},{key:"unbindGraphHandlers",value:function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.addNodeGraphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.updateNodeGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.eachNodeAttributesUpdatedGraphUpdate),e.removeListener("edgeAdded",this.activeListeners.addEdgeGraphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.updateEdgeGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.eachEdgeAttributesUpdatedGraphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)}},{key:"getEdgeAtPoint",value:function(e,t){var n=(0,u.g)(this.webGLContexts.edges,this.frameBuffers.edges,e,t,this.pixelRatio,this.pickingDownSizingRatio),r=u.c.apply(void 0,A(n)),i=this.itemIDsIndex[r];return i&&"edge"===i.type?i.id:null}},{key:"process",value:function(){var e=this,t=this.graph,n=this.settings,r=this.getDimensions();this.nodeExtent=(0,a.b)(this.graph),this.normalizationFunction=(0,a.c)(this.customBBox||this.nodeExtent);var i=new g,o=(0,a.m)(i.getState(),r,this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.labelGrid.resizeAndClear(r,n.labelGridCellSize);for(var u={},s={},c={},h={},d=1,l=t.nodes(),f=0,p=l.length;f<p;f++){var v=l[f],y=this.nodeDataCache[v],m=t.getNodeAttributes(v);y.x=m.x,y.y=m.y,this.normalizationFunction.applyTo(y),"string"!=typeof y.label||y.hidden||this.labelGrid.add(v,y.size,this.framedGraphToViewport(y,{matrix:o})),u[y.type]=(u[y.type]||0)+1}for(var b in this.labelGrid.organize(),this.nodePrograms){if(!C.call(this.nodePrograms,b))throw new Error('Sigma: could not find a suitable program for node type "'.concat(b,'"!'));this.nodePrograms[b].reallocate(u[b]||0),u[b]=0}this.settings.zIndex&&this.nodeZExtent[0]!==this.nodeZExtent[1]&&(l=(0,a.z)(this.nodeZExtent,(function(t){return e.nodeDataCache[t].zIndex}),l));for(var _=0,w=l.length;_<w;_++){var E=l[_];s[E]=d,h[s[E]]={type:"node",id:E},d++;var x=this.nodeDataCache[E];this.addNodeToProgram(E,s[E],u[x.type]++)}for(var k={},A=t.edges(),L=0,S=A.length;L<S;L++){var T=A[L],R=this.edgeDataCache[T];k[R.type]=(k[R.type]||0)+1}for(var G in this.settings.zIndex&&this.edgeZExtent[0]!==this.edgeZExtent[1]&&(A=(0,a.z)(this.edgeZExtent,(function(t){return e.edgeDataCache[t].zIndex}),A)),this.edgePrograms){if(!C.call(this.edgePrograms,G))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(G,'"!'));this.edgePrograms[G].reallocate(k[G]||0),k[G]=0}for(var D=0,N=A.length;D<N;D++){var F=A[D];c[F]=d,h[c[F]]={type:"edge",id:F},d++;var O=this.edgeDataCache[F];this.addEdgeToProgram(F,c[F],k[O.type]++)}return this.itemIDsIndex=h,this.nodeIndices=s,this.edgeIndices=c,this}},{key:"handleSettingsUpdate",value:function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this}},{key:"renderLabels",value:function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),t=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);s(t,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var n=this.canvasContexts.labels,r=0,o=t.length;r<o;r++){var a=t[r],u=this.nodeDataCache[a];if(!this.displayedNodeLabels.has(a)&&!u.hidden){var c=this.framedGraphToViewport(u),h=c.x,d=c.y,l=this.scaleSize(u.size);if((u.forceLabel||!(l<this.settings.labelRenderedSizeThreshold))&&!(h<-150||h>this.width+150||d<-50||d>this.height+50)){this.displayedNodeLabels.add(a);var f=this.settings.defaultDrawNodeLabel,p=this.nodePrograms[u.type];((null==p?void 0:p.drawLabel)||f)(n,(0,i.a)((0,i.a)({key:a},u),{},{size:l,x:h,y:d}),this.settings)}}}return this}},{key:"renderEdgeLabels",value:function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);var t,n,r,o,a,u,c=(t={graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes},n=t.graph,r=t.hoveredNode,o=t.highlightedNodes,a=t.displayedNodeLabels,u=[],n.forEachEdge((function(e,t,n,i){(n===r||i===r||o.has(n)||o.has(i)||a.has(n)&&a.has(i))&&u.push(e)})),u);s(c,this.edgesWithForcedLabels);for(var h=new Set,d=0,l=c.length;d<l;d++){var f=c[d],p=this.graph.extremities(f),g=this.nodeDataCache[p[0]],v=this.nodeDataCache[p[1]],y=this.edgeDataCache[f];if(!h.has(f)&&!(y.hidden||g.hidden||v.hidden)){var m=this.settings.defaultDrawEdgeLabel,b=this.edgePrograms[y.type];((null==b?void 0:b.drawLabel)||m)(e,(0,i.a)((0,i.a)({key:f},y),{},{size:this.scaleSize(y.size)}),(0,i.a)((0,i.a)((0,i.a)({key:p[0]},g),this.framedGraphToViewport(g)),{},{size:this.scaleSize(g.size)}),(0,i.a)((0,i.a)((0,i.a)({key:p[1]},v),this.framedGraphToViewport(v)),{},{size:this.scaleSize(v.size)}),this.settings),h.add(f)}}return this.displayedEdgeLabels=h,this}},{key:"renderHighlightedNodes",value:function(){var e=this,t=this.canvasContexts.hovers;t.clearRect(0,0,this.width,this.height);var n=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&n.push(this.hoveredNode),this.highlightedNodes.forEach((function(t){t!==e.hoveredNode&&n.push(t)})),n.forEach((function(n){return function(n){var r=e.nodeDataCache[n],o=e.framedGraphToViewport(r),a=o.x,u=o.y,s=e.scaleSize(r.size),c=e.settings.defaultDrawNodeHover,h=e.nodePrograms[r.type];((null==h?void 0:h.drawHover)||c)(t,(0,i.a)((0,i.a)({key:n},r),{},{size:s,x:a,y:u}),e.settings)}(n)}));var r={};for(var o in n.forEach((function(t){var n=e.nodeDataCache[t].type;r[n]=(r[n]||0)+1})),this.nodeHoverPrograms)this.nodeHoverPrograms[o].reallocate(r[o]||0),r[o]=0;for(var a in n.forEach((function(t){var n=e.nodeDataCache[t];e.nodeHoverPrograms[n.type].process(0,r[n.type]++,n)})),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.nodeHoverPrograms){this.nodeHoverPrograms[a].render({matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,cameraAngle:this.camera.angle,zoomRatio:this.camera.ratio,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio})}}},{key:"scheduleHighlightedNodesRender",value:function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=requestAnimationFrame((function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()})))}},{key:"render",value:function(){var e=this;this.emit("beforeRender");var t=function(){return e.emit("afterRender"),e};if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),this.pickingLayers.forEach((function(t){return e.resetWebGLTexture(t)})),!this.graph.order)return t();var n=this.mouseCaptor,r=this.camera.isAnimated()||n.isMoving||n.draggedEvents||n.currentWheelDirection,i=this.camera.getState(),o=this.getDimensions(),u=this.getGraphDimensions(),s=this.getSetting("stagePadding")||0;this.matrix=(0,a.m)(i,o,u,s),this.invMatrix=(0,a.m)(i,o,u,s,!0),this.correctionRatio=(0,a.d)(this.matrix,i,o),this.graphToViewportRatio=this.getGraphToViewportRatio();var c={matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,cameraAngle:this.camera.angle,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio,downSizingRatio:this.pickingDownSizingRatio};for(var h in this.nodePrograms){this.nodePrograms[h].render(c)}if(!this.settings.hideEdgesOnMove||!r)for(var d in this.edgePrograms){this.edgePrograms[d].render(c)}return this.settings.hideLabelsOnMove&&r||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),t()}},{key:"addNode",value:function(e){var t=Object.assign({},this.graph.getNodeAttributes(e));this.settings.nodeReducer&&(t=this.settings.nodeReducer(e,t));var n=function(e,t,n){if(!C.call(n,"x")||!C.call(n,"y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return n.color||(n.color=e.defaultNodeColor),n.label||""===n.label||(n.label=null),void 0!==n.label&&null!==n.label?n.label=""+n.label:n.label=null,n.size||(n.size=2),C.call(n,"hidden")||(n.hidden=!1),C.call(n,"highlighted")||(n.highlighted=!1),C.call(n,"forceLabel")||(n.forceLabel=!1),n.type&&""!==n.type||(n.type=e.defaultNodeType),n.zIndex||(n.zIndex=0),n}(this.settings,e,t);this.nodeDataCache[e]=n,this.nodesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.nodesWithForcedLabels.add(e),this.highlightedNodes.delete(e),n.highlighted&&!n.hidden&&this.highlightedNodes.add(e),this.settings.zIndex&&(n.zIndex<this.nodeZExtent[0]&&(this.nodeZExtent[0]=n.zIndex),n.zIndex>this.nodeZExtent[1]&&(this.nodeZExtent[1]=n.zIndex))}},{key:"updateNode",value:function(e){this.addNode(e);var t=this.nodeDataCache[e];this.normalizationFunction.applyTo(t)}},{key:"removeNode",value:function(e){delete this.nodeDataCache[e],delete this.nodeProgramIndex[e],this.highlightedNodes.delete(e),this.hoveredNode===e&&(this.hoveredNode=null),this.nodesWithForcedLabels.delete(e)}},{key:"addEdge",value:function(e){var t=Object.assign({},this.graph.getEdgeAttributes(e));this.settings.edgeReducer&&(t=this.settings.edgeReducer(e,t));var n=function(e,t,n){return n.color||(n.color=e.defaultEdgeColor),n.label||(n.label=""),n.size||(n.size=.5),C.call(n,"hidden")||(n.hidden=!1),C.call(n,"forceLabel")||(n.forceLabel=!1),n.type&&""!==n.type||(n.type=e.defaultEdgeType),n.zIndex||(n.zIndex=0),n}(this.settings,0,t);this.edgeDataCache[e]=n,this.edgesWithForcedLabels.delete(e),n.forceLabel&&!n.hidden&&this.edgesWithForcedLabels.add(e),this.settings.zIndex&&(n.zIndex<this.edgeZExtent[0]&&(this.edgeZExtent[0]=n.zIndex),n.zIndex>this.edgeZExtent[1]&&(this.edgeZExtent[1]=n.zIndex))}},{key:"updateEdge",value:function(e){this.addEdge(e)}},{key:"removeEdge",value:function(e){delete this.edgeDataCache[e],delete this.edgeProgramIndex[e],this.hoveredEdge===e&&(this.hoveredEdge=null),this.edgesWithForcedLabels.delete(e)}},{key:"clearNodeIndices",value:function(){this.labelGrid=new S,this.nodeExtent={x:[0,1],y:[0,1]},this.nodeDataCache={},this.edgeProgramIndex={},this.nodesWithForcedLabels=new Set,this.nodeZExtent=[1/0,-1/0]}},{key:"clearEdgeIndices",value:function(){this.edgeDataCache={},this.edgeProgramIndex={},this.edgesWithForcedLabels=new Set,this.edgeZExtent=[1/0,-1/0]}},{key:"clearIndices",value:function(){this.clearEdgeIndices(),this.clearNodeIndices()}},{key:"clearNodeState",value:function(){this.displayedNodeLabels=new Set,this.highlightedNodes=new Set,this.hoveredNode=null}},{key:"clearEdgeState",value:function(){this.displayedEdgeLabels=new Set,this.highlightedNodes=new Set,this.hoveredEdge=null}},{key:"clearState",value:function(){this.clearEdgeState(),this.clearNodeState()}},{key:"addNodeToProgram",value:function(e,t,n){var r=this.nodeDataCache[e],i=this.nodePrograms[r.type];if(!i)throw new Error('Sigma: could not find a suitable program for node type "'.concat(r.type,'"!'));i.process(t,n,r),this.nodeProgramIndex[e]=n}},{key:"addEdgeToProgram",value:function(e,t,n){var r=this.edgeDataCache[e],i=this.edgePrograms[r.type];if(!i)throw new Error('Sigma: could not find a suitable program for edge type "'.concat(r.type,'"!'));var o=this.graph.extremities(e),a=this.nodeDataCache[o[0]],u=this.nodeDataCache[o[1]];i.process(t,n,a,u,r),this.edgeProgramIndex[e]=n}},{key:"getCamera",value:function(){return this.camera}},{key:"setCamera",value:function(e){this.unbindCameraHandlers(),this.camera=e,this.bindCameraHandlers()}},{key:"getContainer",value:function(){return this.container}},{key:"getGraph",value:function(){return this.graph}},{key:"setGraph",value:function(e){e!==this.graph&&(this.unbindGraphHandlers(),null!==this.checkEdgesEventsFrame&&(cancelAnimationFrame(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.refresh())}},{key:"getMouseCaptor",value:function(){return this.mouseCaptor}},{key:"getTouchCaptor",value:function(){return this.touchCaptor}},{key:"getDimensions",value:function(){return{width:this.width,height:this.height}}},{key:"getGraphDimensions",value:function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}}},{key:"getNodeDisplayData",value:function(e){var t=this.nodeDataCache[e];return t?Object.assign({},t):void 0}},{key:"getEdgeDisplayData",value:function(e){var t=this.edgeDataCache[e];return t?Object.assign({},t):void 0}},{key:"getNodeDisplayedLabels",value:function(){return new Set(this.displayedNodeLabels)}},{key:"getEdgeDisplayedLabels",value:function(){return new Set(this.displayedEdgeLabels)}},{key:"getSettings",value:function(){return(0,i.a)({},this.settings)}},{key:"getSetting",value:function(e){return this.settings[e]}},{key:"setSetting",value:function(e,t){return this.settings[e]=t,f(this.settings),this.handleSettingsUpdate(),this.refresh(),this}},{key:"updateSetting",value:function(e,t){return this.settings[e]=t(this.settings[e]),f(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this}},{key:"resize",value:function(){var e=this.width,t=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,a.g)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.height=1}if(e===this.width&&t===this.height)return this;for(var n in this.emit("resize"),this.elements){var r=this.elements[n];r.style.width=this.width+"px",r.style.height=this.height+"px"}for(var i in this.canvasContexts)this.elements[i].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[i].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[i].scale(this.pixelRatio,this.pixelRatio);for(var o in this.webGLContexts){this.elements[o].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[o].setAttribute("height",this.height*this.pixelRatio+"px");var u=this.webGLContexts[o];if(u.viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio),this.pickingLayers.has(o)){var s=this.textures[o];s&&u.deleteTexture(s)}}return this}},{key:"clear",value:function(){return this.webGLContexts.nodes.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.nodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.edges.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER,null),this.webGLContexts.edges.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(WebGLRenderingContext.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this}},{key:"refresh",value:function(e){var t=this,n=void 0!==(null==e?void 0:e.skipIndexation)&&(null==e?void 0:e.skipIndexation),r=void 0!==(null==e?void 0:e.schedule)&&e.schedule,i=!e||!e.partialGraph;if(i)this.clearEdgeIndices(),this.clearNodeIndices(),this.graph.forEachNode((function(e){return t.addNode(e)})),this.graph.forEachEdge((function(e){return t.addEdge(e)}));else{for(var o,a,u=(null===(o=e.partialGraph)||void 0===o?void 0:o.nodes)||[],s=0,c=(null==u?void 0:u.length)||0;s<c;s++){var h=u[s];if(this.updateNode(h),n){var d=this.nodeProgramIndex[h];if(void 0===d)throw new Error('Sigma: node "'.concat(h,"\" can't be repaint"));this.addNodeToProgram(h,this.nodeIndices[h],d)}}for(var l=(null==e||null===(a=e.partialGraph)||void 0===a?void 0:a.edges)||[],f=0,p=l.length;f<p;f++){var g=l[f];if(this.updateEdge(g),n){var v=this.edgeProgramIndex[g];if(void 0===v)throw new Error('Sigma: edge "'.concat(g,"\" can't be repaint"));this.addEdgeToProgram(g,this.edgeIndices[g],v)}}}return!i&&n||(this.needToProcess=!0),r?this.scheduleRender():this.render(),this}},{key:"scheduleRender",value:function(){var e=this;return this.renderFrame||(this.renderFrame=requestAnimationFrame((function(){e.render()}))),this}},{key:"scheduleRefresh",value:function(e){return this.refresh((0,i.a)((0,i.a)({},e),{},{schedule:!0}))}},{key:"getViewportZoomedState",value:function(e,t){var n=this.camera.getState(),r=n.ratio,i=n.angle,o=n.x,a=n.y,u=t/r,s={x:this.width/2,y:this.height/2},c=this.viewportToFramedGraph(e),h=this.viewportToFramedGraph(s);return{angle:i,x:(c.x-h.x)*(1-u)+o,y:(c.y-h.y)*(1-u)+a,ratio:t}}},{key:"viewRectangle",value:function(){var e=0*this.width/8,t=0*this.height/8,n=this.viewportToFramedGraph({x:0-e,y:0-t}),r=this.viewportToFramedGraph({x:this.width+e,y:0-t}),i=this.viewportToFramedGraph({x:0,y:this.height+t});return{x1:n.x,y1:n.y,x2:r.x,y2:r.y,height:r.y-i.y}}},{key:"framedGraphToViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!!t.cameraState||!!t.viewportDimensions||!!t.graphDimensions,r=t.matrix?t.matrix:n?(0,a.m)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0):this.matrix,i=(0,a.f)(r,e);return{x:(1+i.x)*this.width/2,y:(1-i.y)*this.height/2}}},{key:"viewportToFramedGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!!t.cameraState||!!t.viewportDimensions||!t.graphDimensions,r=t.matrix?t.matrix:n?(0,a.m)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,i=(0,a.f)(r,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(i.x)&&(i.x=0),isNaN(i.y)&&(i.y=0),i}},{key:"viewportToGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.normalizationFunction.inverse(this.viewportToFramedGraph(e,t))}},{key:"graphToViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.framedGraphToViewport(this.normalizationFunction(e),t)}},{key:"getGraphToViewportRatio",value:function(){var e={x:0,y:0},t={x:1,y:1},n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=this.graphToViewport(e),i=this.graphToViewport(t);return Math.sqrt(Math.pow(r.x-i.x,2)+Math.pow(r.y-i.y,2))/n}},{key:"getBBox",value:function(){return this.nodeExtent}},{key:"getCustomBBox",value:function(){return this.customBBox}},{key:"setCustomBBox",value:function(e){return this.customBBox=e,this.scheduleRender(),this}},{key:"kill",value:function(){for(var e in this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.clearIndices(),this.clearState(),this.nodeDataCache={},this.edgeDataCache={},this.highlightedNodes.clear(),this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null),this.webGLContexts){var t;null===(t=this.webGLContexts[e].getExtension("WEBGL_lose_context"))||void 0===t||t.loseContext()}for(var n=this.container;n.firstChild;)n.removeChild(n.firstChild);for(var r in this.canvasContexts={},this.webGLContexts={},this.elements={},this.nodePrograms)this.nodePrograms[r].kill();for(var i in this.nodeHoverPrograms)this.nodeHoverPrograms[i].kill();for(var o in this.edgePrograms)this.edgePrograms[o].kill();this.nodePrograms={},this.nodeHoverPrograms={},this.edgePrograms={}}},{key:"scaleSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.camera.ratio;return e/this.settings.zoomToSizeRatioFunction(t)*("positions"===this.getSetting("itemSizesReference")?t*this.graphToViewportRatio:1)}},{key:"getCanvases",value:function(){return(0,i.a)({},this.elements)}}]),t}(o)}}]);