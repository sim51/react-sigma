(self.webpackChunk_react_sigma_website=self.webpackChunk_react_sigma_website||[]).push([[885],{8417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var r=n(1085),a=n(1184),s=n(5694);const o='import { FC, useEffect, useState, CSSProperties } from "react";\n\nimport {\n  ControlsContainer,\n  FullScreenControl,\n  SigmaContainer,\n  ZoomControl,\n  useRegisterEvents,\n  useSigma,\n} from "@react-sigma/core";\nimport "@react-sigma/core/lib/react-sigma.min.css";\n\nimport { SampleGraph } from "./common/SampleGraph";\n\nconst GraphEvents: React.FC = () => {\n  const registerEvents = useRegisterEvents();\n  const sigma = useSigma();\n  const [draggedNode, setDraggedNode] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Register the events\n    registerEvents({\n      downNode: (e) => {\n        setDraggedNode(e.node);\n        sigma.getGraph().setNodeAttribute(e.node, "highlighted", true);\n      },\n      // On mouse move, if the drag mode is enabled, we change the position of the draggedNode\n      mousemovebody: (e) => {\n        if (!draggedNode) return;\n        // Get new position of node\n        const pos = sigma.viewportToGraph(e);\n        sigma.getGraph().setNodeAttribute(draggedNode, "x", pos.x);\n        sigma.getGraph().setNodeAttribute(draggedNode, "y", pos.y);\n\n        // Prevent sigma to move camera:\n        e.preventSigmaDefault();\n        e.original.preventDefault();\n        e.original.stopPropagation();\n      },\n      // On mouse up, we reset the autoscale and the dragging mode\n      mouseup: () => {\n        if (draggedNode) {\n          setDraggedNode(null);\n          sigma.getGraph().removeNodeAttribute(draggedNode, "highlighted");\n        }\n      },\n      // Disable the autoscale at the first down interaction\n      mousedown: () => {\n        if (!sigma.getCustomBBox()) sigma.setCustomBBox(sigma.getBBox());\n      },\n    });\n  }, [registerEvents, sigma, draggedNode]);\n\n  return null;\n};\n\nexport const DragNdrop: FC<{ style: CSSProperties }> = ({ style }) => {\n  return (\n    <SigmaContainer style={style} settings={{ allowInvalidContainer: true }}>\n      <SampleGraph disableHoverEffect />\n      <GraphEvents />\n      <ControlsContainer position={"bottom-right"}>\n        <ZoomControl />\n        <FullScreenControl />\n      </ControlsContainer>\n    </SigmaContainer>\n  );\n};\n',i={},l="Drag'n'Drop",c={id:"example/drag_n_drop",title:"Drag'n'Drop",description:"By register some events on sigma, you can easely create a drag'ndrop feature.",source:"@site/docs/example/03_drag_n_drop.mdx",sourceDirName:"example",slug:"/example/drag_n_drop",permalink:"/react-sigma/docs/example/drag_n_drop",draft:!1,unlisted:!1,editUrl:"https://github.com/sim51/react-sigma/tree/main/packages/website/docs/example/03_drag_n_drop.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"docs",previous:{title:"Events",permalink:"/react-sigma/docs/example/events"},next:{title:"Layouts",permalink:"/react-sigma/docs/example/layouts"}},u={},d=[];function g(e){const t={h1:"h1",p:"p",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"dragndrop",children:"Drag'n'Drop"}),"\n",(0,r.jsx)(t.p,{children:"By register some events on sigma, you can easely create a drag'ndrop feature."}),"\n",(0,r.jsx)(t.p,{children:"Take a look at this demo"}),"\n",(0,r.jsx)(s.O,{title:"Drag'n'drop nodes on the graph",code:o,component:()=>{const{DragNdrop:e}=n(8379);return(0,r.jsx)(e,{style:{height:"400px"}})}})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}},8379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DragNdrop:()=>l});var r=n(4041),a=n(5556),s=n(7734),o=n(1085);const i=()=>{const e=(0,a.Qp)(),t=(0,a.Bx)(),[n,s]=(0,r.useState)(null);return(0,r.useEffect)((()=>{e({downNode:e=>{s(e.node),t.getGraph().setNodeAttribute(e.node,"highlighted",!0)},mousemovebody:e=>{if(!n)return;const r=t.viewportToGraph(e);t.getGraph().setNodeAttribute(n,"x",r.x),t.getGraph().setNodeAttribute(n,"y",r.y),e.preventSigmaDefault(),e.original.preventDefault(),e.original.stopPropagation()},mouseup:()=>{n&&(s(null),t.getGraph().removeNodeAttribute(n,"highlighted"))},mousedown:()=>{t.getCustomBBox()||t.setCustomBBox(t.getBBox())}})}),[e,t,n]),null},l=e=>{let{style:t}=e;return(0,o.jsxs)(a.hF,{style:t,settings:{allowInvalidContainer:!0},children:[(0,o.jsx)(s.n,{disableHoverEffect:!0}),(0,o.jsx)(i,{}),(0,o.jsxs)(a._d,{position:"bottom-right",children:[(0,o.jsx)(a.pj,{}),(0,o.jsx)(a.t_,{})]})]})}},7734:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var r=n(4041),a=n(5556),s=n(4504),o=n(1724);const i=e=>{let{disableHoverEffect:t}=e;const{randomGraph:n}=(0,o.l)(),i=(0,a.Bx)(),l=(0,a.Qp)(),c=(0,a.dW)(),u=(0,a.Su)(),{assign:d}=(0,s.J)(),[g,m]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=n();console.log("Graph is ",e.toJSON()),u(e),d(),l({enterNode:e=>m(e.node),leaveNode:()=>m(null)})}),[d,u,l,n]),(0,r.useEffect)((()=>{c({nodeReducer:(e,n)=>{const r=i.getGraph(),a={...n,highlighted:n.highlighted||!1};return!t&&g&&(e===g||r.neighbors(g).includes(e)?a.highlighted=!0:(a.color="#E2E2E2",a.highlighted=!1)),a},edgeReducer:(e,n)=>{const r=i.getGraph(),a={...n,hidden:!1};return t||!g||r.extremities(e).includes(g)||(a.hidden=!0),a}})}),[g,c,i,t]),null}},1724:(e,t,n)=>{"use strict";n.d(t,{l:()=>u});var r=n(4041),a=n(2464),s=n.n(a),o=n(8188),i=n(2437),l=n(273),c=n.n(l);const u=()=>{const[e,t]=(0,r.useState)(o.Jb);(0,r.useEffect)((()=>{const e=new URLSearchParams(document.location.search).get("seed");if(e){s()(e,{global:!0});const n=new o.Gz({locale:o.en});n.seed(Math.random()),t(n)}}),[document.location]);const n=(0,r.useCallback)((()=>{let e="#";for(let t=0;t<6;t++)e+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return e}),[e]),a=(0,r.useCallback)((()=>{const t=c()(i.UndirectedGraph,{order:100,probability:.1});return t.nodes().forEach((r=>{t.mergeNodeAttributes(r,{label:e.person.fullName(),size:e.number.int({min:4,max:20}),color:n(),x:Math.random(),y:Math.random(),borderColor:n(),borderSize:e.number.float({min:0,max:1,multipleOf:.1}),pictoColor:n(),image:e.image.urlLoremFlickr()})})),t}),[e]);return{faker:e,randomColor:n,randomGraph:a}}},5694:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,O:()=>i});var r=n(4041),a=n(4506),s=n(6704),o=n(1085);const i=e=>{let{code:t,title:n,component:i,mode:l="code"}=e;const[c,u]=(0,r.useState)(l);return(0,o.jsx)(s.A,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:()=>(0,o.jsxs)("div",{className:"code-preview",children:[(0,o.jsxs)("div",{className:"header",children:[(0,o.jsx)("div",{children:n&&(0,o.jsx)("h5",{children:n})}),(0,o.jsxs)("div",{className:"switch",children:[(0,o.jsx)("button",{className:"button",onClick:()=>u("code"),disabled:"code"===c,children:"Code"}),(0,o.jsx)("button",{className:"button",onClick:()=>u("preview"),disabled:"preview"===c,children:"Preview"})]})]}),(0,o.jsxs)("div",{className:"content",children:["preview"===c&&i(),"code"===c&&(0,o.jsx)(a.A,{language:"jsx",children:t})]})]})})},l=i},9258:(e,t,n)=>{var r=n(8058),a=n(181),s={dimensions:["x","y"],center:.5,scale:1};function o(e,t,n){if(!a(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");var o=(n=r(n,s)).dimensions;if(!Array.isArray(o)||2!==o.length)throw new Error("graphology-layout/random: given dimensions are invalid.");var i=n.center,l=n.scale,c=2*Math.PI,u=(i-.5)*l,d=t.order,g=o[0],m=o[1];function h(e,t){return t[g]=l*Math.cos(e*c/d)+u,t[m]=l*Math.sin(e*c/d)+u,t}var p=0;if(!e){var f={};return t.forEachNode((function(e){f[e]=h(p++,{})})),f}t.updateEachNodeAttributes((function(e,t){return h(p++,t),t}),{attributes:o})}var i=o.bind(null,!1);i.assign=o.bind(null,!0),e.exports=i},8058:e=>{e.exports=function e(t,n){t=t||{};var r,a={};for(var s in n){var o=t[s],i=n[s];!(r=i)||"object"!=typeof r||"function"==typeof r||Array.isArray(r)||r instanceof Set||r instanceof Map||r instanceof RegExp||r instanceof Date?a[s]=void 0===o?i:o:a[s]=e(o,i)}return a}},7713:()=>{},5556:(e,t,n)=>{"use strict";n.d(t,{Bx:()=>c,Qp:()=>f,Su:()=>v,_d:()=>y,dW:()=>u,hF:()=>x,n4:()=>b,pj:()=>B,qz:()=>z,t_:()=>P});var r=n(4041),a=n(2437),s=n(4160);const o=(0,r.createContext)(null),i=o.Provider;function l(){const e=(0,r.useContext)(o);if(null==e)throw new Error("No context provided: useSigmaContext() can only be used in a descendant of <SigmaContainer>");return e}function c(){return l().sigma}function u(){const{sigma:e}=l();return(0,r.useCallback)((t=>{e&&Object.keys(t).forEach((n=>{e.setSetting(n,t[n])}))}),[e])}function d(e){return new Set(Object.keys(e))}const g=d({clickNode:!0,rightClickNode:!0,downNode:!0,enterNode:!0,leaveNode:!0,doubleClickNode:!0,wheelNode:!0,clickEdge:!0,rightClickEdge:!0,downEdge:!0,enterEdge:!0,leaveEdge:!0,doubleClickEdge:!0,wheelEdge:!0,clickStage:!0,rightClickStage:!0,downStage:!0,doubleClickStage:!0,wheelStage:!0,beforeRender:!0,afterRender:!0,kill:!0,upStage:!0,upEdge:!0,upNode:!0,enterStage:!0,leaveStage:!0,resize:!0}),m=d({click:!0,rightClick:!0,doubleClick:!0,mouseup:!0,mousedown:!0,mousemove:!0,mousemovebody:!0,mouseleave:!0,mouseenter:!0,wheel:!0}),h=d({touchup:!0,touchdown:!0,touchmove:!0}),p=d({updated:!0});function f(){const e=c(),t=u(),[n,a]=(0,r.useState)({});return(0,r.useEffect)((()=>{if(!e||!n)return;const t=n,r=Object.keys(t);return r.forEach((n=>{const r=t[n];g.has(n)&&e.on(n,r),m.has(n)&&e.getMouseCaptor().on(n,r),h.has(n)&&e.getTouchCaptor().on(n,r),p.has(n)&&e.getCamera().on(n,r)})),()=>{e&&r.forEach((n=>{const r=t[n];g.has(n)&&e.off(n,r),m.has(n)&&e.getMouseCaptor().off(n,r),h.has(n)&&e.getTouchCaptor().off(n,r),p.has(n)&&e.getCamera().off(n,r)}))}}),[e,n,t]),a}function v(){const e=c();return(0,r.useCallback)((function(t,n){void 0===n&&(n=!0),e&&t&&(n&&e.getGraph().order>0&&e.getGraph().clear(),e.getGraph().import(t),e.refresh())}),[e])}function b(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!=Object.keys(t).length)return!1;for(const n in e){if(!Object.hasOwn(t,n))return!1;if(!b(e[n],t[n]))return!1}return!0}return!1}function w(e){const t=c(),[n,a]=(0,r.useState)(e||{});(0,r.useEffect)((()=>{b(n,e||{})||a(e||{})}),[e]);const s=(0,r.useCallback)((e=>{t.getCamera().animatedZoom(Object.assign(Object.assign({},n),e))}),[t,n]),o=(0,r.useCallback)((e=>{t.getCamera().animatedUnzoom(Object.assign(Object.assign({},n),e))}),[t,n]),i=(0,r.useCallback)((e=>{t.getCamera().animatedReset(Object.assign(Object.assign({},n),e))}),[t,n]),l=(0,r.useCallback)(((e,r)=>{t.getCamera().animate(e,Object.assign(Object.assign({},n),r))}),[t,n]),u=(0,r.useCallback)(((e,r)=>{const a=t.getNodeDisplayData(e);a?t.getCamera().animate(a,Object.assign(Object.assign({},n),r)):console.log(`Node ${e} not found`)}),[t,n]);return{zoomIn:s,zoomOut:o,reset:i,goto:l,gotoNode:u}}const x=(0,r.forwardRef)(((e,t)=>{let{graph:n,id:o,className:l,style:c,settings:u={},children:d}=e;const g=(0,r.useRef)(null),m=(0,r.useRef)(null),h={className:`react-sigma ${l||""}`,id:o,style:c},[p,f]=(0,r.useState)(null),[v,w]=(0,r.useState)(u);(0,r.useEffect)((()=>{b(v,u)||w(u)}),[u]),(0,r.useEffect)((()=>{let e=null;if(null!==m.current){let t=new a;n&&(t="function"==typeof n?new n:n),e=new s.UT(t,m.current,v),p&&e.getCamera().setState(p.getCamera().getState())}return f(e),()=>{e&&e.kill(),f(null)}}),[m,n,v]),(0,r.useImperativeHandle)(t,(()=>p),[p]);const x=(0,r.useMemo)((()=>p&&g.current?{sigma:p,container:g.current}:null),[p,g.current]),y=null!==x?r.createElement(i,{value:x},d):null;return r.createElement("div",Object.assign({},h,{ref:g}),r.createElement("div",{className:"sigma-container",ref:m}),y)})),y=e=>{let{id:t,className:n,style:a,children:s,position:o="bottom-left"}=e;const i={className:`react-sigma-controls ${n||""} ${o}`,id:t,style:a};return r.createElement("div",Object.assign({},i),s)};var E;function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var _,j=function(e){return r.createElement("svg",C({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"plus-solid_svg__svg-inline--fa plus-solid_svg__fa-plus plus-solid_svg__fa-w-14","data-icon":"plus","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),E||(E=r.createElement("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32"})))};function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var S,O=function(e){return r.createElement("svg",N({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"minus-solid_svg__svg-inline--fa minus-solid_svg__fa-minus minus-solid_svg__fa-w-14","data-icon":"minus","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),_||(_=r.createElement("path",{fill:"currentColor",d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32"})))};function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}var G=function(e){return r.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"dot-circle-regular_svg__svg-inline--fa dot-circle-regular_svg__fa-dot-circle dot-circle-regular_svg__fa-w-16","data-icon":"dot-circle","data-prefix":"far",viewBox:"0 0 512 512",width:"1em",height:"1em"},e),S||(S=r.createElement("path",{fill:"currentColor",d:"M256 56c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m0-48C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8m0 168c-44.183 0-80 35.817-80 80s35.817 80 80 80 80-35.817 80-80-35.817-80-80-80"})))};const B=e=>{let{className:t,style:n,animationDuration:a=200,children:s,labels:o={}}=e;const{zoomIn:i,zoomOut:l,reset:c}=w({duration:a,factor:1.5}),u={style:n,className:`react-sigma-control ${t||""}`};return r.createElement(r.Fragment,null,r.createElement("div",Object.assign({},u),r.createElement("button",{onClick:()=>i(),title:o.zoomIn||"Zoom In"},s?s[0]:r.createElement(j,{style:{width:"1em"}}))),r.createElement("div",Object.assign({},u),r.createElement("button",{onClick:()=>l(),title:o.zoomOut||"Zoom Out"},s?s[1]:r.createElement(O,{style:{width:"1em"}}))),r.createElement("div",Object.assign({},u),r.createElement("button",{onClick:()=>c(),title:o.reset||"See whole graph"},s?s[2]:r.createElement(G,{style:{width:"1em"}}))))};var M;function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}var R,A=function(e){return r.createElement("svg",D({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"expand-solid_svg__svg-inline--fa expand-solid_svg__fa-expand expand-solid_svg__fa-w-14","data-icon":"expand","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),M||(M=r.createElement("path",{fill:"currentColor",d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12M288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12m148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12M160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12"})))};function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}var H=function(e){return r.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"compress-solid_svg__svg-inline--fa compress-solid_svg__fa-compress compress-solid_svg__fa-w-14","data-icon":"compress","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),R||(R=r.createElement("path",{fill:"currentColor",d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12m-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24m0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12m192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12"})))};const P=e=>{let{id:t,className:n,style:a,container:s,children:o,labels:i={}}=e;const{isFullScreen:c,toggle:u}=function(e){const t=l(),[n,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(e||t.container),i=()=>a((e=>!e));return(0,r.useEffect)((()=>(document.addEventListener("fullscreenchange",i),()=>document.removeEventListener("fullscreenchange",i))),[i]),(0,r.useEffect)((()=>{o(e||t.container)}),[e,t.container]),{toggle:(0,r.useCallback)((()=>{var e;e=s,document.fullscreenElement!==e?e.requestFullscreen():document.exitFullscreen&&document.exitFullscreen()}),[s]),isFullScreen:n}}(null==s?void 0:s.current),d={className:`react-sigma-control ${n||""}`,id:t,style:a};return document.fullscreenEnabled?r.createElement("div",Object.assign({},d),r.createElement("button",{onClick:u,title:c?i.exit||"Exit fullscreen":i.enter||"Enter fullscreen"},o&&!c&&o[0],o&&c&&o[1],!o&&!c&&r.createElement(A,{style:{width:"1em"}}),!o&&c&&r.createElement(H,{style:{width:"1em"}}))):null},z=e=>{let{id:t,className:n,style:a,labels:s={}}=e;const o=c(),i=f(),{gotoNode:l}=w(),[u,d]=(0,r.useState)(""),[g,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(null),[v,b]=(0,r.useState)("");(0,r.useEffect)((()=>{b(`search-${Math.random().toString(36).slice(2)}`)}),[]),(0,r.useEffect)((()=>{const e=[];!h&&u.length>1&&o.getGraph().forEachNode(((t,n)=>{n.label&&n.label.toLowerCase().includes(u.toLowerCase())&&e.push({id:t,label:n.label})})),m(e)}),[u]),(0,r.useEffect)((()=>{i({clickStage:()=>{p(null),d("")}})}),[i]),(0,r.useEffect)((()=>{if(h)return o.getGraph().setNodeAttribute(h,"highlighted",!0),l(h),()=>{o.getGraph().setNodeAttribute(h,"highlighted",!1)}}),[h]);const x={className:`react-sigma-search ${n||""}`,id:t,style:a};return r.createElement("div",Object.assign({},x),r.createElement("label",{htmlFor:v,style:{display:"none"}},s.text||"Search a node"),r.createElement("input",{id:v,type:"text",placeholder:s.placeholder||"Search...",list:`${v}-datalist`,value:u,onChange:e=>{const t=e.target.value,n=g.find((e=>e.label===t));n?(d(n.label),m([]),p(n.id)):(p(null),d(t))}}),r.createElement("datalist",{id:`${v}-datalist`},g.map((e=>r.createElement("option",{key:e.id,value:e.label},e.label)))))}},4504:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(9258);const a=(0,n(7504).Cm)(r,{})},7504:(e,t,n)=>{"use strict";n.d(t,{Cb:()=>m,Cm:()=>o,Io:()=>i});var r,a=n(4041),s=n(5556);function o(e,t){return function(n){void 0===n&&(n=t);const r=(0,s.Bx)(),o=(0,a.useRef)(t);return(0,s.n4)(o.current,n)||(o.current=n),{positions:(0,a.useCallback)((()=>o.current?e(r.getGraph(),o.current):{}),[r,o]),assign:(0,a.useCallback)((()=>{o.current&&e.assign(r.getGraph(),o.current)}),[r,o])}}}function i(e){return t=>{const n=(0,s.Bx)(),[r,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),c=(0,a.useRef)();return(0,s.n4)(c.current,t)||(c.current=t),(0,a.useEffect)((()=>{o(!1);let t=null;return c.current&&(t=new e(n.getGraph(),c.current)),l(t),()=>{null!==t&&t.kill()}}),[n,c,l,o]),{stop:(0,a.useCallback)((()=>{i&&(i.stop(),o(!1))}),[i,o]),start:(0,a.useCallback)((()=>{i&&(i.start(),o(!0))}),[i,o]),kill:(0,a.useCallback)((()=>{i&&i.kill(),o(!1)}),[i,o]),isRunning:r}}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c,u=function(e){return a.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"play-solid_svg__svg-inline--fa play-solid_svg__fa-play play-solid_svg__fa-w-14","data-icon":"play","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),r||(r=a.createElement("path",{fill:"currentColor",d:"M424.4 214.7 72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6"})))};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var g=function(e){return a.createElement("svg",d({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"stop-solid_svg__svg-inline--fa stop-solid_svg__fa-stop stop-solid_svg__fa-w-14","data-icon":"stop","data-prefix":"fas",viewBox:"0 0 448 512",width:"1em",height:"1em"},e),c||(c=a.createElement("path",{fill:"currentColor",d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48"})))};function m(e){let{id:t,className:n,style:r,layout:o,settings:i,autoRunFor:l,children:c,labels:d={}}=e;const m=(0,s.Bx)(),{stop:h,start:p,isRunning:f}=o(i),v={className:`react-sigma-control ${n||""}`,id:t,style:r};return(0,a.useEffect)((()=>{if(!m)return;let e=null;return void 0!==l&&l>-1&&m.getGraph().order>0&&(p(),e=l>0?window.setTimeout((()=>{h()}),l):null),()=>{e&&clearTimeout(e)}}),[l,p,h,m]),a.createElement("div",Object.assign({},v),a.createElement("button",{onClick:()=>f?h():p(),title:f?d.stop||"Stop the layout animation":d.start||"Start the layout animation"},c&&!f&&c[0],c&&f&&c[1],!c&&!f&&a.createElement(u,{style:{width:"1em"}}),!c&&f&&a.createElement(g,{style:{width:"1em"}})))}}}]);