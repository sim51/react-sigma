import{v as b,S as C,x as v}from"./style-BRRu8M1x.js";import{r as a,R as s}from"./index-nBX9XC1j.js";const E=({width:g,height:h,debounceTime:l})=>{const t=b(),[e,f]=a.useState(null),[d,m]=a.useState(0),[p,c]=a.useState({top:0,left:0,width:0,height:0});a.useEffect(()=>{e&&(e.getCamera().disable(),m(e.getContainer().clientHeight/t.getContainer().clientHeight))},[e,t]);const y=a.useCallback(n=>{const i=t.getNodeDisplayData(n);return Object.assign(Object.assign({x:0,y:0},i||{}),{type:"circle",size:((i==null?void 0:i.size)||1)*d,label:void 0})},[t,d]),x=a.useCallback(n=>({hidden:!0}),[]);return a.useEffect(()=>{function n(){if(e===null)return;const o=t.viewRectangle(),r=e==null?void 0:e.framedGraphToViewport({x:o.x1,y:o.y1}),u=e==null?void 0:e.framedGraphToViewport({x:o.x2,y:o.y2+o.height});c({left:r.x,top:r.y,height:r.y-u.y,width:u.x-r.x})}n();const i=v(n,l||0);return t.getCamera().on("updated",i),()=>{t.getCamera().off("updated",n)}},[t,e,c,l]),s.createElement(C,{ref:f,settings:{renderLabels:!1,maxCameraRatio:1,minCameraRatio:1,stagePadding:2,nodeReducer:y,edgeReducer:x},style:{width:g,height:h},graph:t.getGraph()},s.createElement("div",{className:"overlay",style:{position:"absolute",inset:0,zIndex:1,overflow:"hidden"}},s.createElement("div",{style:Object.assign({border:"1px solid var(--sigma-controls-color)",backgroundColor:"var(--sigma-controls-color)",opacity:.5,position:"absolute"},p)})))};export{E as l};
