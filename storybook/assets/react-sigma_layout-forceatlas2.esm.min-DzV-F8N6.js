import{g as Xe,R as nn}from"./index-Dl6G-zuu.js";import{i as Ye}from"./react-sigma.min-Bupy2-id.js";import{h as tn,l as rn,c as sn}from"./react-sigma_layout-core.esm.min-DJiRb8MY.js";var me={};function fn(i){return typeof i!="number"||isNaN(i)?1:i}function un(i,h){var e={},E=function(n){return typeof n>"u"?h:n};typeof h=="function"&&(E=h);var G=function(n){return E(n[i])},r=function(){return E(void 0)};return typeof i=="string"?(e.fromAttributes=G,e.fromGraph=function(n,l){return G(n.getNodeAttributes(l))},e.fromEntry=function(n,l){return G(l)}):typeof i=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},e.fromGraph=function(n,l){return E(i(l,n.getNodeAttributes(l)))},e.fromEntry=function(n,l){return E(i(n,l))}):(e.fromAttributes=r,e.fromGraph=r,e.fromEntry=r),e}function de(i,h){var e={},E=function(n){return typeof n>"u"?h:n};typeof h=="function"&&(E=h);var G=function(n){return E(n[i])},r=function(){return E(void 0)};return typeof i=="string"?(e.fromAttributes=G,e.fromGraph=function(n,l){return G(n.getEdgeAttributes(l))},e.fromEntry=function(n,l){return G(l)},e.fromPartialEntry=e.fromEntry,e.fromMinimalEntry=e.fromEntry):typeof i=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},e.fromGraph=function(n,l){var g=n.extremities(l);return E(i(l,n.getEdgeAttributes(l),g[0],g[1],n.getNodeAttributes(g[0]),n.getNodeAttributes(g[1]),n.isUndirected(l)))},e.fromEntry=function(n,l,g,I,j,b,v){return E(i(n,l,g,I,j,b,v))},e.fromPartialEntry=function(n,l,g,I){return E(i(n,l,g,I))},e.fromMinimalEntry=function(n,l){return E(i(n,l))}):(e.fromAttributes=r,e.fromGraph=r,e.fromEntry=r,e.fromMinimalEntry=r),e}me.createNodeValueGetter=un;me.createEdgeValueGetter=de;me.createEdgeWeightGetter=function(i){return de(i,fn)};var F=0,P=1,O=2,A=3,he=4,ie=5,m=6,qe=7,Fe=8,Je=9,ln=0,hn=1,an=2,Z=0,d=1,Q=2,De=3,oe=4,U=5,X=6,te=7,re=8,Ke=3,M=10,gn=3,q=9,Ve=10,cn=function(h,e,E){var G,r,n,l,g,I,j,b,v,N,J=e.length,pe=E.length,x=h.adjustSizes,Ee=h.barnesHutTheta*h.barnesHutTheta,z,_,D,R,B,c,o,f=[];for(n=0;n<J;n+=M)e[n+he]=e[n+O],e[n+ie]=e[n+A],e[n+O]=0,e[n+A]=0;if(h.outboundAttractionDistribution){for(z=0,n=0;n<J;n+=M)z+=e[n+m];z/=J/M}if(h.barnesHutOptimize){var V=1/0,se=-1/0,$=1/0,ge=-1/0,L,ee,Le;for(n=0;n<J;n+=M)V=Math.min(V,e[n+F]),se=Math.max(se,e[n+F]),$=Math.min($,e[n+P]),ge=Math.max(ge,e[n+P]);var W=se-V,t=ge-$;for(W>t?($-=(W-t)/2,ge=$+W):(V-=(t-W)/2,se=V+t),f[0+Z]=-1,f[0+d]=(V+se)/2,f[0+Q]=($+ge)/2,f[0+De]=Math.max(se-V,ge-$),f[0+oe]=-1,f[0+U]=-1,f[0+X]=0,f[0+te]=0,f[0+re]=0,G=1,n=0;n<J;n+=M)for(r=0,Le=Ke;;)if(f[r+U]>=0){e[n+F]<f[r+d]?e[n+P]<f[r+Q]?L=f[r+U]:L=f[r+U]+q:e[n+P]<f[r+Q]?L=f[r+U]+q*2:L=f[r+U]+q*3,f[r+te]=(f[r+te]*f[r+X]+e[n+F]*e[n+m])/(f[r+X]+e[n+m]),f[r+re]=(f[r+re]*f[r+X]+e[n+P]*e[n+m])/(f[r+X]+e[n+m]),f[r+X]+=e[n+m],r=L;continue}else if(f[r+Z]<0){f[r+Z]=n;break}else{if(f[r+U]=G*q,b=f[r+De]/2,v=f[r+U],f[v+Z]=-1,f[v+d]=f[r+d]-b,f[v+Q]=f[r+Q]-b,f[v+De]=b,f[v+oe]=v+q,f[v+U]=-1,f[v+X]=0,f[v+te]=0,f[v+re]=0,v+=q,f[v+Z]=-1,f[v+d]=f[r+d]-b,f[v+Q]=f[r+Q]+b,f[v+De]=b,f[v+oe]=v+q,f[v+U]=-1,f[v+X]=0,f[v+te]=0,f[v+re]=0,v+=q,f[v+Z]=-1,f[v+d]=f[r+d]+b,f[v+Q]=f[r+Q]-b,f[v+De]=b,f[v+oe]=v+q,f[v+U]=-1,f[v+X]=0,f[v+te]=0,f[v+re]=0,v+=q,f[v+Z]=-1,f[v+d]=f[r+d]+b,f[v+Q]=f[r+Q]+b,f[v+De]=b,f[v+oe]=f[r+oe],f[v+U]=-1,f[v+X]=0,f[v+te]=0,f[v+re]=0,G+=4,e[f[r+Z]+F]<f[r+d]?e[f[r+Z]+P]<f[r+Q]?L=f[r+U]:L=f[r+U]+q:e[f[r+Z]+P]<f[r+Q]?L=f[r+U]+q*2:L=f[r+U]+q*3,f[r+X]=e[f[r+Z]+m],f[r+te]=e[f[r+Z]+F],f[r+re]=e[f[r+Z]+P],f[L+Z]=f[r+Z],f[r+Z]=-1,e[n+F]<f[r+d]?e[n+P]<f[r+Q]?ee=f[r+U]:ee=f[r+U]+q:e[n+P]<f[r+Q]?ee=f[r+U]+q*2:ee=f[r+U]+q*3,L===ee)if(Le--){r=L;continue}else{Le=Ke;break}f[ee+Z]=n;break}}if(h.barnesHutOptimize)for(_=h.scalingRatio,n=0;n<J;n+=M)for(r=0;;)if(f[r+U]>=0)if(c=Math.pow(e[n+F]-f[r+te],2)+Math.pow(e[n+P]-f[r+re],2),N=f[r+De],4*N*N/c<Ee){if(D=e[n+F]-f[r+te],R=e[n+P]-f[r+re],x===!0?c>0?(o=_*e[n+m]*f[r+X]/c,e[n+O]+=D*o,e[n+A]+=R*o):c<0&&(o=-_*e[n+m]*f[r+X]/Math.sqrt(c),e[n+O]+=D*o,e[n+A]+=R*o):c>0&&(o=_*e[n+m]*f[r+X]/c,e[n+O]+=D*o,e[n+A]+=R*o),r=f[r+oe],r<0)break;continue}else{r=f[r+U];continue}else{if(I=f[r+Z],I>=0&&I!==n&&(D=e[n+F]-e[I+F],R=e[n+P]-e[I+P],c=D*D+R*R,x===!0?c>0?(o=_*e[n+m]*e[I+m]/c,e[n+O]+=D*o,e[n+A]+=R*o):c<0&&(o=-_*e[n+m]*e[I+m]/Math.sqrt(c),e[n+O]+=D*o,e[n+A]+=R*o):c>0&&(o=_*e[n+m]*e[I+m]/c,e[n+O]+=D*o,e[n+A]+=R*o)),r=f[r+oe],r<0)break;continue}else for(_=h.scalingRatio,l=0;l<J;l+=M)for(g=0;g<l;g+=M)D=e[l+F]-e[g+F],R=e[l+P]-e[g+P],x===!0?(c=Math.sqrt(D*D+R*R)-e[l+Fe]-e[g+Fe],c>0?(o=_*e[l+m]*e[g+m]/c/c,e[l+O]+=D*o,e[l+A]+=R*o,e[g+O]-=D*o,e[g+A]-=R*o):c<0&&(o=100*_*e[l+m]*e[g+m],e[l+O]+=D*o,e[l+A]+=R*o,e[g+O]-=D*o,e[g+A]-=R*o)):(c=Math.sqrt(D*D+R*R),c>0&&(o=_*e[l+m]*e[g+m]/c/c,e[l+O]+=D*o,e[l+A]+=R*o,e[g+O]-=D*o,e[g+A]-=R*o));for(v=h.gravity/h.scalingRatio,_=h.scalingRatio,n=0;n<J;n+=M)o=0,D=e[n+F],R=e[n+P],c=Math.sqrt(Math.pow(D,2)+Math.pow(R,2)),h.strongGravityMode?c>0&&(o=_*e[n+m]*v):c>0&&(o=_*e[n+m]*v/c),e[n+O]-=D*o,e[n+A]-=R*o;for(_=1*(h.outboundAttractionDistribution?z:1),j=0;j<pe;j+=gn)l=E[j+ln],g=E[j+hn],b=E[j+an],B=Math.pow(b,h.edgeWeightInfluence),D=e[l+F]-e[g+F],R=e[l+P]-e[g+P],x===!0?(c=Math.sqrt(D*D+R*R)-e[l+Fe]-e[g+Fe],h.linLogMode?h.outboundAttractionDistribution?c>0&&(o=-_*B*Math.log(1+c)/c/e[l+m]):c>0&&(o=-_*B*Math.log(1+c)/c):h.outboundAttractionDistribution?c>0&&(o=-_*B/e[l+m]):c>0&&(o=-_*B)):(c=Math.sqrt(Math.pow(D,2)+Math.pow(R,2)),h.linLogMode?h.outboundAttractionDistribution?c>0&&(o=-_*B*Math.log(1+c)/c/e[l+m]):c>0&&(o=-_*B*Math.log(1+c)/c):h.outboundAttractionDistribution?(c=1,o=-_*B/e[l+m]):(c=1,o=-_*B)),c>0&&(e[l+O]+=D*o,e[l+A]+=R*o,e[g+O]-=D*o,e[g+A]-=R*o);var fe,ue,a,s,S,C;if(x===!0)for(n=0;n<J;n+=M)e[n+Je]!==1&&(fe=Math.sqrt(Math.pow(e[n+O],2)+Math.pow(e[n+A],2)),fe>Ve&&(e[n+O]=e[n+O]*Ve/fe,e[n+A]=e[n+A]*Ve/fe),ue=e[n+m]*Math.sqrt((e[n+he]-e[n+O])*(e[n+he]-e[n+O])+(e[n+ie]-e[n+A])*(e[n+ie]-e[n+A])),a=Math.sqrt((e[n+he]+e[n+O])*(e[n+he]+e[n+O])+(e[n+ie]+e[n+A])*(e[n+ie]+e[n+A]))/2,s=.1*Math.log(1+a)/(1+Math.sqrt(ue)),S=e[n+F]+e[n+O]*(s/h.slowDown),e[n+F]=S,C=e[n+P]+e[n+A]*(s/h.slowDown),e[n+P]=C);else for(n=0;n<J;n+=M)e[n+Je]!==1&&(ue=e[n+m]*Math.sqrt((e[n+he]-e[n+O])*(e[n+he]-e[n+O])+(e[n+ie]-e[n+A])*(e[n+ie]-e[n+A])),a=Math.sqrt((e[n+he]+e[n+O])*(e[n+he]+e[n+O])+(e[n+ie]+e[n+A])*(e[n+ie]+e[n+A]))/2,s=e[n+qe]*Math.log(1+a)/(1+Math.sqrt(ue)),e[n+qe]=Math.min(1,Math.sqrt(s*(Math.pow(e[n+O],2)+Math.pow(e[n+A],2))/(1+Math.sqrt(ue)))),S=e[n+F]+e[n+O]*(s/h.slowDown),e[n+F]=S,C=e[n+P]+e[n+A]*(s/h.slowDown),e[n+P]=C);return{}},ae={},Te=10,Qe=3;ae.assign=function(i){i=i||{};var h=Array.prototype.slice.call(arguments).slice(1),e,E,G;for(e=0,G=h.length;e<G;e++)if(h[e])for(E in h[e])i[E]=h[e][E];return i};ae.validateSettings=function(i){return"linLogMode"in i&&typeof i.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in i&&typeof i.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in i&&typeof i.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in i&&typeof i.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in i&&!(typeof i.scalingRatio=="number"&&i.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in i&&typeof i.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in i&&!(typeof i.gravity=="number"&&i.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in i&&!(typeof i.slowDown=="number"||i.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in i&&typeof i.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in i&&!(typeof i.barnesHutTheta=="number"&&i.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null};ae.graphToByteArrays=function(i,h){var e=i.order,E=i.size,G={},r,n=new Float32Array(e*Te),l=new Float32Array(E*Qe);return r=0,i.forEachNode(function(g,I){G[g]=r,n[r]=I.x,n[r+1]=I.y,n[r+2]=0,n[r+3]=0,n[r+4]=0,n[r+5]=0,n[r+6]=1,n[r+7]=1,n[r+8]=I.size||1,n[r+9]=I.fixed?1:0,r+=Te}),r=0,i.forEachEdge(function(g,I,j,b,v,N,J){var pe=G[j],x=G[b],Ee=h(g,I,j,b,v,N,J);n[pe+6]+=Ee,n[x+6]+=Ee,l[r]=pe,l[r+1]=x,l[r+2]=Ee,r+=Qe}),{nodes:n,edges:l}};ae.assignLayoutChanges=function(i,h,e){var E=0;i.updateEachNodeAttributes(function(G,r){return r.x=h[E],r.y=h[E+1],E+=Te,e?e(G,r):r})};ae.readGraphPositions=function(i,h){var e=0;i.forEachNode(function(E,G){h[e]=G.x,h[e+1]=G.y,e+=Te})};ae.collectLayoutChanges=function(i,h,e){for(var E=i.nodes(),G={},r=0,n=0,l=h.length;r<l;r+=Te){if(e){var g=Object.assign({},i.getNodeAttributes(E[n]));g.x=h[r],g.y=h[r+1],g=e(E[n],g),G[E[n]]={x:g.x,y:g.y}}else G[E[n]]={x:h[r],y:h[r+1]};n++}return G};ae.createWorker=function(h){var e=window.URL||window.webkitURL,E=h.toString(),G=e.createObjectURL(new Blob(["("+E+").call(this);"],{type:"text/javascript"})),r=new Worker(G);return e.revokeObjectURL(G),r};var Me={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5},on=Ye,vn=me.createEdgeWeightGetter,En=cn,ke=ae,bn=Me;function Ne(i,h,e){if(!on(h))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof e=="number"&&(e={iterations:e});var E=e.iterations;if(typeof E!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(E<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var G=vn("getEdgeWeight"in e?e.getEdgeWeight:"weight").fromEntry,r=typeof e.outputReducer=="function"?e.outputReducer:null,n=ke.assign({},bn,e.settings),l=ke.validateSettings(n);if(l)throw new Error("graphology-layout-forceatlas2: "+l.message);var g=ke.graphToByteArrays(h,G),I;for(I=0;I<E;I++)En(n,g.nodes,g.edges);if(i){ke.assignLayoutChanges(h,g.nodes,r);return}return ke.collectLayoutChanges(h,g.nodes)}function yn(i){var h=typeof i=="number"?i:i.order;return{barnesHutOptimize:h>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(h)}}var Ze=Ne.bind(null,!1);Ze.assign=Ne.bind(null,!0);Ze.inferSettings=yn;var wn=Ze;const Dn=Xe(wn);var pn=function(){var h,e,E={};(function(){var r=0,n=1,l=2,g=3,I=4,j=5,b=6,v=7,N=8,J=9,pe=0,x=1,Ee=2,z=0,_=1,D=2,R=3,B=4,c=5,o=6,f=7,V=8,se=3,$=10,ge=3,L=9,ee=10;E.exports=function(W,t,fe){var ue,a,s,S,C,ce,Ge,K,p,$e,ne=t.length,xe=fe.length,Oe=W.adjustSizes,en=W.barnesHutTheta*W.barnesHutTheta,We,H,k,T,le,w,y,u=[];for(s=0;s<ne;s+=$)t[s+I]=t[s+l],t[s+j]=t[s+g],t[s+l]=0,t[s+g]=0;if(W.outboundAttractionDistribution){for(We=0,s=0;s<ne;s+=$)We+=t[s+b];We/=ne/$}if(W.barnesHutOptimize){var be=1/0,Re=-1/0,ye=1/0,_e=-1/0,Y,Ie,Be;for(s=0;s<ne;s+=$)be=Math.min(be,t[s+r]),Re=Math.max(Re,t[s+r]),ye=Math.min(ye,t[s+n]),_e=Math.max(_e,t[s+n]);var Ce=Re-be,ze=_e-ye;for(Ce>ze?(ye-=(Ce-ze)/2,_e=ye+Ce):(be-=(ze-Ce)/2,Re=be+ze),u[0+z]=-1,u[0+_]=(be+Re)/2,u[0+D]=(ye+_e)/2,u[0+R]=Math.max(Re-be,_e-ye),u[0+B]=-1,u[0+c]=-1,u[0+o]=0,u[0+f]=0,u[0+V]=0,ue=1,s=0;s<ne;s+=$)for(a=0,Be=se;;)if(u[a+c]>=0){t[s+r]<u[a+_]?t[s+n]<u[a+D]?Y=u[a+c]:Y=u[a+c]+L:t[s+n]<u[a+D]?Y=u[a+c]+L*2:Y=u[a+c]+L*3,u[a+f]=(u[a+f]*u[a+o]+t[s+r]*t[s+b])/(u[a+o]+t[s+b]),u[a+V]=(u[a+V]*u[a+o]+t[s+n]*t[s+b])/(u[a+o]+t[s+b]),u[a+o]+=t[s+b],a=Y;continue}else if(u[a+z]<0){u[a+z]=s;break}else{if(u[a+c]=ue*L,K=u[a+R]/2,p=u[a+c],u[p+z]=-1,u[p+_]=u[a+_]-K,u[p+D]=u[a+D]-K,u[p+R]=K,u[p+B]=p+L,u[p+c]=-1,u[p+o]=0,u[p+f]=0,u[p+V]=0,p+=L,u[p+z]=-1,u[p+_]=u[a+_]-K,u[p+D]=u[a+D]+K,u[p+R]=K,u[p+B]=p+L,u[p+c]=-1,u[p+o]=0,u[p+f]=0,u[p+V]=0,p+=L,u[p+z]=-1,u[p+_]=u[a+_]+K,u[p+D]=u[a+D]-K,u[p+R]=K,u[p+B]=p+L,u[p+c]=-1,u[p+o]=0,u[p+f]=0,u[p+V]=0,p+=L,u[p+z]=-1,u[p+_]=u[a+_]+K,u[p+D]=u[a+D]+K,u[p+R]=K,u[p+B]=u[a+B],u[p+c]=-1,u[p+o]=0,u[p+f]=0,u[p+V]=0,ue+=4,t[u[a+z]+r]<u[a+_]?t[u[a+z]+n]<u[a+D]?Y=u[a+c]:Y=u[a+c]+L:t[u[a+z]+n]<u[a+D]?Y=u[a+c]+L*2:Y=u[a+c]+L*3,u[a+o]=t[u[a+z]+b],u[a+f]=t[u[a+z]+r],u[a+V]=t[u[a+z]+n],u[Y+z]=u[a+z],u[a+z]=-1,t[s+r]<u[a+_]?t[s+n]<u[a+D]?Ie=u[a+c]:Ie=u[a+c]+L:t[s+n]<u[a+D]?Ie=u[a+c]+L*2:Ie=u[a+c]+L*3,Y===Ie)if(Be--){a=Y;continue}else{Be=se;break}u[Ie+z]=s;break}}if(W.barnesHutOptimize)for(H=W.scalingRatio,s=0;s<ne;s+=$)for(a=0;;)if(u[a+c]>=0)if(w=Math.pow(t[s+r]-u[a+f],2)+Math.pow(t[s+n]-u[a+V],2),$e=u[a+R],4*$e*$e/w<en){if(k=t[s+r]-u[a+f],T=t[s+n]-u[a+V],Oe===!0?w>0?(y=H*t[s+b]*u[a+o]/w,t[s+l]+=k*y,t[s+g]+=T*y):w<0&&(y=-H*t[s+b]*u[a+o]/Math.sqrt(w),t[s+l]+=k*y,t[s+g]+=T*y):w>0&&(y=H*t[s+b]*u[a+o]/w,t[s+l]+=k*y,t[s+g]+=T*y),a=u[a+B],a<0)break;continue}else{a=u[a+c];continue}else{if(ce=u[a+z],ce>=0&&ce!==s&&(k=t[s+r]-t[ce+r],T=t[s+n]-t[ce+n],w=k*k+T*T,Oe===!0?w>0?(y=H*t[s+b]*t[ce+b]/w,t[s+l]+=k*y,t[s+g]+=T*y):w<0&&(y=-H*t[s+b]*t[ce+b]/Math.sqrt(w),t[s+l]+=k*y,t[s+g]+=T*y):w>0&&(y=H*t[s+b]*t[ce+b]/w,t[s+l]+=k*y,t[s+g]+=T*y)),a=u[a+B],a<0)break;continue}else for(H=W.scalingRatio,S=0;S<ne;S+=$)for(C=0;C<S;C+=$)k=t[S+r]-t[C+r],T=t[S+n]-t[C+n],Oe===!0?(w=Math.sqrt(k*k+T*T)-t[S+N]-t[C+N],w>0?(y=H*t[S+b]*t[C+b]/w/w,t[S+l]+=k*y,t[S+g]+=T*y,t[C+l]-=k*y,t[C+g]-=T*y):w<0&&(y=100*H*t[S+b]*t[C+b],t[S+l]+=k*y,t[S+g]+=T*y,t[C+l]-=k*y,t[C+g]-=T*y)):(w=Math.sqrt(k*k+T*T),w>0&&(y=H*t[S+b]*t[C+b]/w/w,t[S+l]+=k*y,t[S+g]+=T*y,t[C+l]-=k*y,t[C+g]-=T*y));for(p=W.gravity/W.scalingRatio,H=W.scalingRatio,s=0;s<ne;s+=$)y=0,k=t[s+r],T=t[s+n],w=Math.sqrt(Math.pow(k,2)+Math.pow(T,2)),W.strongGravityMode?w>0&&(y=H*t[s+b]*p):w>0&&(y=H*t[s+b]*p/w),t[s+l]-=k*y,t[s+g]-=T*y;for(H=1*(W.outboundAttractionDistribution?We:1),Ge=0;Ge<xe;Ge+=ge)S=fe[Ge+pe],C=fe[Ge+x],K=fe[Ge+Ee],le=Math.pow(K,W.edgeWeightInfluence),k=t[S+r]-t[C+r],T=t[S+n]-t[C+n],Oe===!0?(w=Math.sqrt(k*k+T*T)-t[S+N]-t[C+N],W.linLogMode?W.outboundAttractionDistribution?w>0&&(y=-H*le*Math.log(1+w)/w/t[S+b]):w>0&&(y=-H*le*Math.log(1+w)/w):W.outboundAttractionDistribution?w>0&&(y=-H*le/t[S+b]):w>0&&(y=-H*le)):(w=Math.sqrt(Math.pow(k,2)+Math.pow(T,2)),W.linLogMode?W.outboundAttractionDistribution?w>0&&(y=-H*le*Math.log(1+w)/w/t[S+b]):w>0&&(y=-H*le*Math.log(1+w)/w):W.outboundAttractionDistribution?(w=1,y=-H*le/t[S+b]):(w=1,y=-H*le)),w>0&&(t[S+l]+=k*y,t[S+g]+=T*y,t[C+l]-=k*y,t[C+g]-=T*y);var He,Ae,Pe,we,Ue,je;if(Oe===!0)for(s=0;s<ne;s+=$)t[s+J]!==1&&(He=Math.sqrt(Math.pow(t[s+l],2)+Math.pow(t[s+g],2)),He>ee&&(t[s+l]=t[s+l]*ee/He,t[s+g]=t[s+g]*ee/He),Ae=t[s+b]*Math.sqrt((t[s+I]-t[s+l])*(t[s+I]-t[s+l])+(t[s+j]-t[s+g])*(t[s+j]-t[s+g])),Pe=Math.sqrt((t[s+I]+t[s+l])*(t[s+I]+t[s+l])+(t[s+j]+t[s+g])*(t[s+j]+t[s+g]))/2,we=.1*Math.log(1+Pe)/(1+Math.sqrt(Ae)),Ue=t[s+r]+t[s+l]*(we/W.slowDown),t[s+r]=Ue,je=t[s+n]+t[s+g]*(we/W.slowDown),t[s+n]=je);else for(s=0;s<ne;s+=$)t[s+J]!==1&&(Ae=t[s+b]*Math.sqrt((t[s+I]-t[s+l])*(t[s+I]-t[s+l])+(t[s+j]-t[s+g])*(t[s+j]-t[s+g])),Pe=Math.sqrt((t[s+I]+t[s+l])*(t[s+I]+t[s+l])+(t[s+j]+t[s+g])*(t[s+j]+t[s+g]))/2,we=t[s+v]*Math.log(1+Pe)/(1+Math.sqrt(Ae)),t[s+v]=Math.min(1,Math.sqrt(we*(Math.pow(t[s+l],2)+Math.pow(t[s+g],2))/(1+Math.sqrt(Ae)))),Ue=t[s+r]+t[s+l]*(we/W.slowDown),t[s+r]=Ue,je=t[s+n]+t[s+g]*(we/W.slowDown),t[s+n]=je);return{}}})();var G=E.exports;self.addEventListener("message",function(r){var n=r.data;h=new Float32Array(n.nodes),n.edges&&(e=new Float32Array(n.edges)),G(n.settings,h,e),self.postMessage({nodes:h.buffer},[h.buffer])})},Gn=pn,Rn=Ye,_n=me.createEdgeWeightGetter,Se=ae,In=Me;function ve(i,h){if(h=h||{},!Rn(i))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var e=_n("getEdgeWeight"in h?h.getEdgeWeight:"weight").fromEntry,E=Se.assign({},In,h.settings),G=Se.validateSettings(E);if(G)throw new Error("graphology-layout-forceatlas2/worker: "+G.message);this.worker=null,this.graph=i,this.settings=E,this.getEdgeWeight=e,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer=typeof h.outputReducer=="function"?h.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var r=void 0,n=this;this.handleGraphUpdate=function(){n.worker&&n.worker.terminate(),r&&clearTimeout(r),r=setTimeout(function(){r=void 0,n.spawnWorker()},0)},i.on("nodeAdded",this.handleGraphUpdate),i.on("edgeAdded",this.handleGraphUpdate),i.on("nodeDropped",this.handleGraphUpdate),i.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}ve.prototype.isRunning=function(){return this.running};ve.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=Se.createWorker(Gn),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())};ve.prototype.handleMessage=function(i){if(this.running){var h=new Float32Array(i.data.nodes);Se.assignLayoutChanges(this.graph,h,this.outputReducer),this.outputReducer&&Se.readGraphPositions(this.graph,h),this.matrices.nodes=h,this.askForIterations()}};ve.prototype.askForIterations=function(i){var h=this.matrices,e={settings:this.settings,nodes:h.nodes.buffer},E=[h.nodes.buffer];return i&&(e.edges=h.edges.buffer,E.push(h.edges.buffer)),this.worker.postMessage(e,E),this};ve.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running?this:(this.matrices=Se.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0),this)};ve.prototype.stop=function(){return this.running=!1,this};ve.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)};var Sn=ve;const On=Xe(Sn),Ln=rn(Dn,{iterations:100}),An=sn(On),Wn=({id:i,className:h,style:e,settings:E={},autoRunFor:G,children:r,labels:n})=>{const l={id:i,className:h,style:e,settings:E,autoRunFor:G,labels:n,layout:An};return nn.createElement(tn,Object.assign({},l),r)};export{Wn as c,me as g,Ln as l,An as u};
