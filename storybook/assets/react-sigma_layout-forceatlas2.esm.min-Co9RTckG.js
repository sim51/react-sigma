import{h as qe,o as Fe,c as je}from"./react-sigma_layout-core.esm.min-Bw_kUmRt.js";import{g as Ce,R as Be}from"./index-nBX9XC1j.js";import{r as He}from"./style-BpoJR6Iy.js";var be={},Oe;function ze(){if(Oe)return be;Oe=1;function S(i){return typeof i!="number"||isNaN(i)?1:i}function O(i,_){var h={},f=function(b){return typeof b>"u"?_:b};typeof _=="function"&&(f=_);var l=function(b){return f(b[i])},c=function(){return f(void 0)};return typeof i=="string"?(h.fromAttributes=l,h.fromGraph=function(b,y){return l(b.getNodeAttributes(y))},h.fromEntry=function(b,y){return l(y)}):typeof i=="function"?(h.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},h.fromGraph=function(b,y){return f(i(y,b.getNodeAttributes(y)))},h.fromEntry=function(b,y){return f(i(b,y))}):(h.fromAttributes=c,h.fromGraph=c,h.fromEntry=c),h}function a(i,_){var h={},f=function(b){return typeof b>"u"?_:b};typeof _=="function"&&(f=_);var l=function(b){return f(b[i])},c=function(){return f(void 0)};return typeof i=="string"?(h.fromAttributes=l,h.fromGraph=function(b,y){return l(b.getEdgeAttributes(y))},h.fromEntry=function(b,y){return l(y)},h.fromPartialEntry=h.fromEntry,h.fromMinimalEntry=h.fromEntry):typeof i=="function"?(h.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},h.fromGraph=function(b,y){var w=b.extremities(y);return f(i(y,b.getEdgeAttributes(y),w[0],w[1],b.getNodeAttributes(w[0]),b.getNodeAttributes(w[1]),b.isUndirected(y)))},h.fromEntry=function(b,y,w,J,H,j,F){return f(i(b,y,w,J,H,j,F))},h.fromPartialEntry=function(b,y,w,J){return f(i(b,y,w,J))},h.fromMinimalEntry=function(b,y){return f(i(b,y))}):(h.fromAttributes=c,h.fromGraph=c,h.fromEntry=c,h.fromMinimalEntry=c),h}return be.createNodeValueGetter=O,be.createEdgeValueGetter=a,be.createEdgeWeightGetter=function(i){return a(i,S)},be}var Ge,Ae;function Ve(){if(Ae)return Ge;Ae=1;var S=0,O=1,a=2,i=3,_=4,h=5,f=6,l=7,c=8,b=9,y=0,w=1,J=2,H=0,j=1,F=2,X=3,K=4,I=5,C=6,P=7,$=8,re=3,T=10,Y=3,z=9,M=10;return Ge=function(k,t,B){var ce,g,n,e,U,x,o,r,E,q,Z=t.length,ae=B.length,V=k.adjustSizes,R=k.barnesHutTheta*k.barnesHutTheta,oe,L,W,m,se,G,v,s=[];for(n=0;n<Z;n+=T)t[n+_]=t[n+a],t[n+h]=t[n+i],t[n+a]=0,t[n+i]=0;if(k.outboundAttractionDistribution){for(oe=0,n=0;n<Z;n+=T)oe+=t[n+f];oe/=Z/T}if(k.barnesHutOptimize){var A=1/0,d=-1/0,D=1/0,p=-1/0,u,N,fe;for(n=0;n<Z;n+=T)A=Math.min(A,t[n+S]),d=Math.max(d,t[n+S]),D=Math.min(D,t[n+O]),p=Math.max(p,t[n+O]);var ee=d-A,ue=p-D;for(ee>ue?(D-=(ee-ue)/2,p=D+ee):(A-=(ue-ee)/2,d=A+ue),s[0+H]=-1,s[0+j]=(A+d)/2,s[0+F]=(D+p)/2,s[0+X]=Math.max(d-A,p-D),s[0+K]=-1,s[0+I]=-1,s[0+C]=0,s[0+P]=0,s[0+$]=0,ce=1,n=0;n<Z;n+=T)for(g=0,fe=re;;)if(s[g+I]>=0){t[n+S]<s[g+j]?t[n+O]<s[g+F]?u=s[g+I]:u=s[g+I]+z:t[n+O]<s[g+F]?u=s[g+I]+z*2:u=s[g+I]+z*3,s[g+P]=(s[g+P]*s[g+C]+t[n+S]*t[n+f])/(s[g+C]+t[n+f]),s[g+$]=(s[g+$]*s[g+C]+t[n+O]*t[n+f])/(s[g+C]+t[n+f]),s[g+C]+=t[n+f],g=u;continue}else if(s[g+H]<0){s[g+H]=n;break}else{if(s[g+I]=ce*z,r=s[g+X]/2,E=s[g+I],s[E+H]=-1,s[E+j]=s[g+j]-r,s[E+F]=s[g+F]-r,s[E+X]=r,s[E+K]=E+z,s[E+I]=-1,s[E+C]=0,s[E+P]=0,s[E+$]=0,E+=z,s[E+H]=-1,s[E+j]=s[g+j]-r,s[E+F]=s[g+F]+r,s[E+X]=r,s[E+K]=E+z,s[E+I]=-1,s[E+C]=0,s[E+P]=0,s[E+$]=0,E+=z,s[E+H]=-1,s[E+j]=s[g+j]+r,s[E+F]=s[g+F]-r,s[E+X]=r,s[E+K]=E+z,s[E+I]=-1,s[E+C]=0,s[E+P]=0,s[E+$]=0,E+=z,s[E+H]=-1,s[E+j]=s[g+j]+r,s[E+F]=s[g+F]+r,s[E+X]=r,s[E+K]=s[g+K],s[E+I]=-1,s[E+C]=0,s[E+P]=0,s[E+$]=0,ce+=4,t[s[g+H]+S]<s[g+j]?t[s[g+H]+O]<s[g+F]?u=s[g+I]:u=s[g+I]+z:t[s[g+H]+O]<s[g+F]?u=s[g+I]+z*2:u=s[g+I]+z*3,s[g+C]=t[s[g+H]+f],s[g+P]=t[s[g+H]+S],s[g+$]=t[s[g+H]+O],s[u+H]=s[g+H],s[g+H]=-1,t[n+S]<s[g+j]?t[n+O]<s[g+F]?N=s[g+I]:N=s[g+I]+z:t[n+O]<s[g+F]?N=s[g+I]+z*2:N=s[g+I]+z*3,u===N)if(fe--){g=u;continue}else{fe=re;break}s[N+H]=n;break}}if(k.barnesHutOptimize)for(L=k.scalingRatio,n=0;n<Z;n+=T)for(g=0;;)if(s[g+I]>=0)if(G=Math.pow(t[n+S]-s[g+P],2)+Math.pow(t[n+O]-s[g+$],2),q=s[g+X],4*q*q/G<R){if(W=t[n+S]-s[g+P],m=t[n+O]-s[g+$],V===!0?G>0?(v=L*t[n+f]*s[g+C]/G,t[n+a]+=W*v,t[n+i]+=m*v):G<0&&(v=-L*t[n+f]*s[g+C]/Math.sqrt(G),t[n+a]+=W*v,t[n+i]+=m*v):G>0&&(v=L*t[n+f]*s[g+C]/G,t[n+a]+=W*v,t[n+i]+=m*v),g=s[g+K],g<0)break;continue}else{g=s[g+I];continue}else{if(x=s[g+H],x>=0&&x!==n&&(W=t[n+S]-t[x+S],m=t[n+O]-t[x+O],G=W*W+m*m,V===!0?G>0?(v=L*t[n+f]*t[x+f]/G,t[n+a]+=W*v,t[n+i]+=m*v):G<0&&(v=-L*t[n+f]*t[x+f]/Math.sqrt(G),t[n+a]+=W*v,t[n+i]+=m*v):G>0&&(v=L*t[n+f]*t[x+f]/G,t[n+a]+=W*v,t[n+i]+=m*v)),g=s[g+K],g<0)break;continue}else for(L=k.scalingRatio,e=0;e<Z;e+=T)for(U=0;U<e;U+=T)W=t[e+S]-t[U+S],m=t[e+O]-t[U+O],V===!0?(G=Math.sqrt(W*W+m*m)-t[e+c]-t[U+c],G>0?(v=L*t[e+f]*t[U+f]/G/G,t[e+a]+=W*v,t[e+i]+=m*v,t[U+a]-=W*v,t[U+i]-=m*v):G<0&&(v=100*L*t[e+f]*t[U+f],t[e+a]+=W*v,t[e+i]+=m*v,t[U+a]-=W*v,t[U+i]-=m*v)):(G=Math.sqrt(W*W+m*m),G>0&&(v=L*t[e+f]*t[U+f]/G/G,t[e+a]+=W*v,t[e+i]+=m*v,t[U+a]-=W*v,t[U+i]-=m*v));for(E=k.gravity/k.scalingRatio,L=k.scalingRatio,n=0;n<Z;n+=T)v=0,W=t[n+S],m=t[n+O],G=Math.sqrt(Math.pow(W,2)+Math.pow(m,2)),k.strongGravityMode?G>0&&(v=L*t[n+f]*E):G>0&&(v=L*t[n+f]*E/G),t[n+a]-=W*v,t[n+i]-=m*v;for(L=1*(k.outboundAttractionDistribution?oe:1),o=0;o<ae;o+=Y)e=B[o+y],U=B[o+w],r=B[o+J],se=Math.pow(r,k.edgeWeightInfluence),W=t[e+S]-t[U+S],m=t[e+O]-t[U+O],V===!0?(G=Math.sqrt(W*W+m*m)-t[e+c]-t[U+c],k.linLogMode?k.outboundAttractionDistribution?G>0&&(v=-L*se*Math.log(1+G)/G/t[e+f]):G>0&&(v=-L*se*Math.log(1+G)/G):k.outboundAttractionDistribution?G>0&&(v=-L*se/t[e+f]):G>0&&(v=-L*se)):(G=Math.sqrt(Math.pow(W,2)+Math.pow(m,2)),k.linLogMode?k.outboundAttractionDistribution?G>0&&(v=-L*se*Math.log(1+G)/G/t[e+f]):G>0&&(v=-L*se*Math.log(1+G)/G):k.outboundAttractionDistribution?(G=1,v=-L*se/t[e+f]):(G=1,v=-L*se)),G>0&&(t[e+a]+=W*v,t[e+i]+=m*v,t[U+a]-=W*v,t[U+i]-=m*v);var Q,te,ge,ne,le,he;if(V===!0)for(n=0;n<Z;n+=T)t[n+b]!==1&&(Q=Math.sqrt(Math.pow(t[n+a],2)+Math.pow(t[n+i],2)),Q>M&&(t[n+a]=t[n+a]*M/Q,t[n+i]=t[n+i]*M/Q),te=t[n+f]*Math.sqrt((t[n+_]-t[n+a])*(t[n+_]-t[n+a])+(t[n+h]-t[n+i])*(t[n+h]-t[n+i])),ge=Math.sqrt((t[n+_]+t[n+a])*(t[n+_]+t[n+a])+(t[n+h]+t[n+i])*(t[n+h]+t[n+i]))/2,ne=.1*Math.log(1+ge)/(1+Math.sqrt(te)),le=t[n+S]+t[n+a]*(ne/k.slowDown),t[n+S]=le,he=t[n+O]+t[n+i]*(ne/k.slowDown),t[n+O]=he);else for(n=0;n<Z;n+=T)t[n+b]!==1&&(te=t[n+f]*Math.sqrt((t[n+_]-t[n+a])*(t[n+_]-t[n+a])+(t[n+h]-t[n+i])*(t[n+h]-t[n+i])),ge=Math.sqrt((t[n+_]+t[n+a])*(t[n+_]+t[n+a])+(t[n+h]+t[n+i])*(t[n+h]+t[n+i]))/2,ne=t[n+l]*Math.log(1+ge)/(1+Math.sqrt(te)),t[n+l]=Math.min(1,Math.sqrt(ne*(Math.pow(t[n+a],2)+Math.pow(t[n+i],2))/(1+Math.sqrt(te)))),le=t[n+S]+t[n+a]*(ne/k.slowDown),t[n+S]=le,he=t[n+O]+t[n+i]*(ne/k.slowDown),t[n+O]=he);return{}},Ge}var ie={},ke;function Pe(){if(ke)return ie;ke=1;var S=10,O=3;return ie.assign=function(a){a=a||{};var i=Array.prototype.slice.call(arguments).slice(1),_,h,f;for(_=0,f=i.length;_<f;_++)if(i[_])for(h in i[_])a[h]=i[_][h];return a},ie.validateSettings=function(a){return"linLogMode"in a&&typeof a.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in a&&typeof a.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in a&&typeof a.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in a&&typeof a.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in a&&!(typeof a.scalingRatio=="number"&&a.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in a&&typeof a.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in a&&!(typeof a.gravity=="number"&&a.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in a&&!(typeof a.slowDown=="number"||a.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in a&&typeof a.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in a&&!(typeof a.barnesHutTheta=="number"&&a.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},ie.graphToByteArrays=function(a,i){var _=a.order,h=a.size,f={},l,c=new Float32Array(_*S),b=new Float32Array(h*O);return l=0,a.forEachNode(function(y,w){f[y]=l,c[l]=w.x,c[l+1]=w.y,c[l+2]=0,c[l+3]=0,c[l+4]=0,c[l+5]=0,c[l+6]=1,c[l+7]=1,c[l+8]=w.size||1,c[l+9]=w.fixed?1:0,l+=S}),l=0,a.forEachEdge(function(y,w,J,H,j,F,X){var K=f[J],I=f[H],C=i(y,w,J,H,j,F,X);c[K+6]+=C,c[I+6]+=C,b[l]=K,b[l+1]=I,b[l+2]=C,l+=O}),{nodes:c,edges:b}},ie.assignLayoutChanges=function(a,i,_){var h=0;a.updateEachNodeAttributes(function(f,l){return l.x=i[h],l.y=i[h+1],h+=S,_?_(f,l):l})},ie.readGraphPositions=function(a,i){var _=0;a.forEachNode(function(h,f){i[_]=f.x,i[_+1]=f.y,_+=S})},ie.collectLayoutChanges=function(a,i,_){for(var h=a.nodes(),f={},l=0,c=0,b=i.length;l<b;l+=S){if(_){var y=Object.assign({},a.getNodeAttributes(h[c]));y.x=i[l],y.y=i[l+1],y=_(h[c],y),f[h[c]]={x:y.x,y:y.y}}else f[h[c]]={x:i[l],y:i[l+1]};c++}return f},ie.createWorker=function(i){var _=window.URL||window.webkitURL,h=i.toString(),f=_.createObjectURL(new Blob(["("+h+").call(this);"],{type:"text/javascript"})),l=new Worker(f);return _.revokeObjectURL(f),l},ie}var Re,me;function Ue(){return me||(me=1,Re={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}),Re}var _e,Te;function Ze(){if(Te)return _e;Te=1;var S=He(),O=ze().createEdgeWeightGetter,a=Ve(),i=Pe(),_=Ue();function h(c,b,y){if(!S(b))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof y=="number"&&(y={iterations:y});var w=y.iterations;if(typeof w!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(w<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var J=O("getEdgeWeight"in y?y.getEdgeWeight:"weight").fromEntry,H=typeof y.outputReducer=="function"?y.outputReducer:null,j=i.assign({},_,y.settings),F=i.validateSettings(j);if(F)throw new Error("graphology-layout-forceatlas2: "+F.message);var X=i.graphToByteArrays(b,J),K;for(K=0;K<w;K++)a(j,X.nodes,X.edges);if(c){i.assignLayoutChanges(b,X.nodes,H);return}return i.collectLayoutChanges(b,X.nodes)}function f(c){var b=typeof c=="number"?c:c.order;return{barnesHutOptimize:b>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(b)}}var l=h.bind(null,!1);return l.assign=h.bind(null,!0),l.inferSettings=f,_e=l,_e}var $e=Ze();const Je=Ce($e);var Ie,Le;function Ke(){return Le||(Le=1,Ie=function(){var O,a,i={};(function(){var h=0,f=1,l=2,c=3,b=4,y=5,w=6,J=7,H=8,j=9,F=0,X=1,K=2,I=0,C=1,P=2,$=3,re=4,T=5,Y=6,z=7,M=8,De=3,k=10,t=3,B=9,ce=10;i.exports=function(n,e,U){var x,o,r,E,q,Z,ae,V,R,oe,L=e.length,W=U.length,m=n.adjustSizes,se=n.barnesHutTheta*n.barnesHutTheta,G,v,s,A,d,D,p,u=[];for(r=0;r<L;r+=k)e[r+b]=e[r+l],e[r+y]=e[r+c],e[r+l]=0,e[r+c]=0;if(n.outboundAttractionDistribution){for(G=0,r=0;r<L;r+=k)G+=e[r+w];G/=L/k}if(n.barnesHutOptimize){var N=1/0,fe=-1/0,ee=1/0,ue=-1/0,Q,te,ge;for(r=0;r<L;r+=k)N=Math.min(N,e[r+h]),fe=Math.max(fe,e[r+h]),ee=Math.min(ee,e[r+f]),ue=Math.max(ue,e[r+f]);var ne=fe-N,le=ue-ee;for(ne>le?(ee-=(ne-le)/2,ue=ee+ne):(N-=(le-ne)/2,fe=N+le),u[0+I]=-1,u[0+C]=(N+fe)/2,u[0+P]=(ee+ue)/2,u[0+$]=Math.max(fe-N,ue-ee),u[0+re]=-1,u[0+T]=-1,u[0+Y]=0,u[0+z]=0,u[0+M]=0,x=1,r=0;r<L;r+=k)for(o=0,ge=De;;)if(u[o+T]>=0){e[r+h]<u[o+C]?e[r+f]<u[o+P]?Q=u[o+T]:Q=u[o+T]+B:e[r+f]<u[o+P]?Q=u[o+T]+B*2:Q=u[o+T]+B*3,u[o+z]=(u[o+z]*u[o+Y]+e[r+h]*e[r+w])/(u[o+Y]+e[r+w]),u[o+M]=(u[o+M]*u[o+Y]+e[r+f]*e[r+w])/(u[o+Y]+e[r+w]),u[o+Y]+=e[r+w],o=Q;continue}else if(u[o+I]<0){u[o+I]=r;break}else{if(u[o+T]=x*B,V=u[o+$]/2,R=u[o+T],u[R+I]=-1,u[R+C]=u[o+C]-V,u[R+P]=u[o+P]-V,u[R+$]=V,u[R+re]=R+B,u[R+T]=-1,u[R+Y]=0,u[R+z]=0,u[R+M]=0,R+=B,u[R+I]=-1,u[R+C]=u[o+C]-V,u[R+P]=u[o+P]+V,u[R+$]=V,u[R+re]=R+B,u[R+T]=-1,u[R+Y]=0,u[R+z]=0,u[R+M]=0,R+=B,u[R+I]=-1,u[R+C]=u[o+C]+V,u[R+P]=u[o+P]-V,u[R+$]=V,u[R+re]=R+B,u[R+T]=-1,u[R+Y]=0,u[R+z]=0,u[R+M]=0,R+=B,u[R+I]=-1,u[R+C]=u[o+C]+V,u[R+P]=u[o+P]+V,u[R+$]=V,u[R+re]=u[o+re],u[R+T]=-1,u[R+Y]=0,u[R+z]=0,u[R+M]=0,x+=4,e[u[o+I]+h]<u[o+C]?e[u[o+I]+f]<u[o+P]?Q=u[o+T]:Q=u[o+T]+B:e[u[o+I]+f]<u[o+P]?Q=u[o+T]+B*2:Q=u[o+T]+B*3,u[o+Y]=e[u[o+I]+w],u[o+z]=e[u[o+I]+h],u[o+M]=e[u[o+I]+f],u[Q+I]=u[o+I],u[o+I]=-1,e[r+h]<u[o+C]?e[r+f]<u[o+P]?te=u[o+T]:te=u[o+T]+B:e[r+f]<u[o+P]?te=u[o+T]+B*2:te=u[o+T]+B*3,Q===te)if(ge--){o=Q;continue}else{ge=De;break}u[te+I]=r;break}}if(n.barnesHutOptimize)for(v=n.scalingRatio,r=0;r<L;r+=k)for(o=0;;)if(u[o+T]>=0)if(D=Math.pow(e[r+h]-u[o+z],2)+Math.pow(e[r+f]-u[o+M],2),oe=u[o+$],4*oe*oe/D<se){if(s=e[r+h]-u[o+z],A=e[r+f]-u[o+M],m===!0?D>0?(p=v*e[r+w]*u[o+Y]/D,e[r+l]+=s*p,e[r+c]+=A*p):D<0&&(p=-v*e[r+w]*u[o+Y]/Math.sqrt(D),e[r+l]+=s*p,e[r+c]+=A*p):D>0&&(p=v*e[r+w]*u[o+Y]/D,e[r+l]+=s*p,e[r+c]+=A*p),o=u[o+re],o<0)break;continue}else{o=u[o+T];continue}else{if(Z=u[o+I],Z>=0&&Z!==r&&(s=e[r+h]-e[Z+h],A=e[r+f]-e[Z+f],D=s*s+A*A,m===!0?D>0?(p=v*e[r+w]*e[Z+w]/D,e[r+l]+=s*p,e[r+c]+=A*p):D<0&&(p=-v*e[r+w]*e[Z+w]/Math.sqrt(D),e[r+l]+=s*p,e[r+c]+=A*p):D>0&&(p=v*e[r+w]*e[Z+w]/D,e[r+l]+=s*p,e[r+c]+=A*p)),o=u[o+re],o<0)break;continue}else for(v=n.scalingRatio,E=0;E<L;E+=k)for(q=0;q<E;q+=k)s=e[E+h]-e[q+h],A=e[E+f]-e[q+f],m===!0?(D=Math.sqrt(s*s+A*A)-e[E+H]-e[q+H],D>0?(p=v*e[E+w]*e[q+w]/D/D,e[E+l]+=s*p,e[E+c]+=A*p,e[q+l]-=s*p,e[q+c]-=A*p):D<0&&(p=100*v*e[E+w]*e[q+w],e[E+l]+=s*p,e[E+c]+=A*p,e[q+l]-=s*p,e[q+c]-=A*p)):(D=Math.sqrt(s*s+A*A),D>0&&(p=v*e[E+w]*e[q+w]/D/D,e[E+l]+=s*p,e[E+c]+=A*p,e[q+l]-=s*p,e[q+c]-=A*p));for(R=n.gravity/n.scalingRatio,v=n.scalingRatio,r=0;r<L;r+=k)p=0,s=e[r+h],A=e[r+f],D=Math.sqrt(Math.pow(s,2)+Math.pow(A,2)),n.strongGravityMode?D>0&&(p=v*e[r+w]*R):D>0&&(p=v*e[r+w]*R/D),e[r+l]-=s*p,e[r+c]-=A*p;for(v=1*(n.outboundAttractionDistribution?G:1),ae=0;ae<W;ae+=t)E=U[ae+F],q=U[ae+X],V=U[ae+K],d=Math.pow(V,n.edgeWeightInfluence),s=e[E+h]-e[q+h],A=e[E+f]-e[q+f],m===!0?(D=Math.sqrt(s*s+A*A)-e[E+H]-e[q+H],n.linLogMode?n.outboundAttractionDistribution?D>0&&(p=-v*d*Math.log(1+D)/D/e[E+w]):D>0&&(p=-v*d*Math.log(1+D)/D):n.outboundAttractionDistribution?D>0&&(p=-v*d/e[E+w]):D>0&&(p=-v*d)):(D=Math.sqrt(Math.pow(s,2)+Math.pow(A,2)),n.linLogMode?n.outboundAttractionDistribution?D>0&&(p=-v*d*Math.log(1+D)/D/e[E+w]):D>0&&(p=-v*d*Math.log(1+D)/D):n.outboundAttractionDistribution?(D=1,p=-v*d/e[E+w]):(D=1,p=-v*d)),D>0&&(e[E+l]+=s*p,e[E+c]+=A*p,e[q+l]-=s*p,e[q+c]-=A*p);var he,Ee,ye,ve,we,pe;if(m===!0)for(r=0;r<L;r+=k)e[r+j]!==1&&(he=Math.sqrt(Math.pow(e[r+l],2)+Math.pow(e[r+c],2)),he>ce&&(e[r+l]=e[r+l]*ce/he,e[r+c]=e[r+c]*ce/he),Ee=e[r+w]*Math.sqrt((e[r+b]-e[r+l])*(e[r+b]-e[r+l])+(e[r+y]-e[r+c])*(e[r+y]-e[r+c])),ye=Math.sqrt((e[r+b]+e[r+l])*(e[r+b]+e[r+l])+(e[r+y]+e[r+c])*(e[r+y]+e[r+c]))/2,ve=.1*Math.log(1+ye)/(1+Math.sqrt(Ee)),we=e[r+h]+e[r+l]*(ve/n.slowDown),e[r+h]=we,pe=e[r+f]+e[r+c]*(ve/n.slowDown),e[r+f]=pe);else for(r=0;r<L;r+=k)e[r+j]!==1&&(Ee=e[r+w]*Math.sqrt((e[r+b]-e[r+l])*(e[r+b]-e[r+l])+(e[r+y]-e[r+c])*(e[r+y]-e[r+c])),ye=Math.sqrt((e[r+b]+e[r+l])*(e[r+b]+e[r+l])+(e[r+y]+e[r+c])*(e[r+y]+e[r+c]))/2,ve=e[r+J]*Math.log(1+ye)/(1+Math.sqrt(Ee)),e[r+J]=Math.min(1,Math.sqrt(ve*(Math.pow(e[r+l],2)+Math.pow(e[r+c],2))/(1+Math.sqrt(Ee)))),we=e[r+h]+e[r+l]*(ve/n.slowDown),e[r+h]=we,pe=e[r+f]+e[r+c]*(ve/n.slowDown),e[r+f]=pe);return{}}})();var _=i.exports;self.addEventListener("message",function(h){var f=h.data;O=new Float32Array(f.nodes),f.edges&&(a=new Float32Array(f.edges)),_(f.settings,O,a),self.postMessage({nodes:O.buffer},[O.buffer])})}),Ie}var Se,We;function Qe(){if(We)return Se;We=1;var S=Ke(),O=He(),a=ze().createEdgeWeightGetter,i=Pe(),_=Ue();function h(f,l){if(l=l||{},!O(f))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var c=a("getEdgeWeight"in l?l.getEdgeWeight:"weight").fromEntry,b=i.assign({},_,l.settings),y=i.validateSettings(b);if(y)throw new Error("graphology-layout-forceatlas2/worker: "+y.message);this.worker=null,this.graph=f,this.settings=b,this.getEdgeWeight=c,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer=typeof l.outputReducer=="function"?l.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var w=void 0,J=this;this.handleGraphUpdate=function(){J.worker&&J.worker.terminate(),w&&clearTimeout(w),w=setTimeout(function(){w=void 0,J.spawnWorker()},0)},f.on("nodeAdded",this.handleGraphUpdate),f.on("edgeAdded",this.handleGraphUpdate),f.on("nodeDropped",this.handleGraphUpdate),f.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}return h.prototype.isRunning=function(){return this.running},h.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=i.createWorker(S),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},h.prototype.handleMessage=function(f){if(this.running){var l=new Float32Array(f.data.nodes);i.assignLayoutChanges(this.graph,l,this.outputReducer),this.outputReducer&&i.readGraphPositions(this.graph,l),this.matrices.nodes=l,this.askForIterations()}},h.prototype.askForIterations=function(f){var l=this.matrices,c={settings:this.settings,nodes:l.nodes.buffer},b=[l.nodes.buffer];return f&&(c.edges=l.edges.buffer,b.push(l.edges.buffer)),this.worker.postMessage(c,b),this},h.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running?this:(this.matrices=i.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0),this)},h.prototype.stop=function(){return this.running=!1,this},h.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)},Se=h,Se}var Xe=Qe();const Ye=Ce(Xe);function tt(S={iterations:100}){return Fe(Je,S)}function de(S={}){return je(Ye,S)}const Me=({id:S,className:O,style:a,settings:i={},autoRunFor:_,children:h,labels:f})=>{const l={id:S,className:O,style:a,autoRunFor:_,labels:f,layout:de(i)};return Be.createElement(qe,Object.assign({},l),h)};Me.__docgenInfo={description:"",methods:[],displayName:"c",props:{settings:{defaultValue:{value:"{}",computed:!1},required:!1}}};export{Me as c,de as n,ze as r,tt as s};
