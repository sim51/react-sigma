import{v as b,S as C,x as v}from"./style-BRRu8M1x.js";import{r as a,R as s}from"./index-nBX9XC1j.js";const E=({width:g,height:h,debounceTime:l})=>{const t=b(),[e,m]=a.useState(null),[c,p]=a.useState(0),[f,d]=a.useState({top:0,left:0,width:0,height:0});a.useEffect(()=>{e&&(e.getCamera().disable(),p(e.getContainer().clientHeight/t.getContainer().clientHeight))},[e,t]);const y=a.useCallback(o=>{const i=t.getNodeDisplayData(o);return Object.assign(Object.assign({},i),{type:"circle",size:i.size*c})},[t,c]),x=a.useCallback(o=>({hidden:!0}),[]);return a.useEffect(()=>{function o(){if(e===null)return;const r=t.viewRectangle(),n=e==null?void 0:e.framedGraphToViewport({x:r.x1,y:r.y1}),u=e==null?void 0:e.framedGraphToViewport({x:r.x2,y:r.y2+r.height});d({left:n.x,top:n.y,height:n.y-u.y,width:u.x-n.x})}o();const i=v(o,l||0);return t.getCamera().on("updated",i),()=>{t.getCamera().off("updated",o)}},[t,e,d,l]),s.createElement(C,{ref:m,settings:{renderLabels:!1,maxCameraRatio:1,minCameraRatio:1,stagePadding:2,nodeReducer:y,edgeReducer:x},style:{width:g,height:h},graph:t.getGraph()},s.createElement("div",{className:"overlay",style:{position:"absolute",inset:0,zIndex:1,overflow:"hidden"}},s.createElement("div",{style:Object.assign({border:"1px solid var(--sigma-controls-color)",backgroundColor:"var(--sigma-controls-color)",opacity:.5,position:"absolute"},f)})))};export{E as s};
